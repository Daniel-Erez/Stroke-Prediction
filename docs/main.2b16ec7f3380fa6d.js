"use strict";var OZ=Object.defineProperty,FZ=Object.defineProperties,LZ=Object.getOwnPropertyDescriptors,fF=Object.getOwnPropertySymbols,VZ=Object.prototype.hasOwnProperty,UZ=Object.prototype.propertyIsEnumerable,pF=(In,Yt,ln)=>Yt in In?OZ(In,Yt,{enumerable:!0,configurable:!0,writable:!0,value:ln}):In[Yt]=ln,W=(In,Yt)=>{for(var ln in Yt||(Yt={}))VZ.call(Yt,ln)&&pF(In,ln,Yt[ln]);if(fF)for(var ln of fF(Yt))UZ.call(Yt,ln)&&pF(In,ln,Yt[ln]);return In},En=(In,Yt)=>FZ(In,LZ(Yt));(self.webpackChunkstrkpre=self.webpackChunkstrkpre||[]).push([[179],{422:(In,Yt,ln)=>{var lu={};function Ue(t){return"function"==typeof t}function Cp(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}ln.r(lu),ln.d(lu,{FirebaseError:()=>Ms,SDK_VERSION:()=>Us,_DEFAULT_ENTRY_NAME:()=>Ls,_addComponent:()=>kh,_addOrOverwriteComponent:()=>rR,_apps:()=>Vi,_clearComponents:()=>qW,_components:()=>bc,_getProvider:()=>Cc,_registerComponent:()=>Vs,_removeServiceInstance:()=>$W,deleteApp:()=>sR,getApp:()=>T_,getApps:()=>zW,initializeApp:()=>iR,onLog:()=>oR,registerVersion:()=>Mr,setLogLevel:()=>aR});const Dp=Cp(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Tp(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Vn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof Dp?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{zb(s)}catch(o){e=null!=e?e:[],o instanceof Dp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Dp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zb(e);else{if(e instanceof Vn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tp(n,e)}remove(e){const{_teardowns:n}=this;n&&Tp(n,e),e instanceof Vn&&e._removeParent(this)}}Vn.EMPTY=(()=>{const t=new Vn;return t.closed=!0,t})();const Gb=Vn.EMPTY;function Wb(t){return t instanceof Vn||t&&"closed"in t&&Ue(t.remove)&&Ue(t.add)&&Ue(t.unsubscribe)}function zb(t){Ue(t)?t():t.unsubscribe()}const is={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bl={setTimeout(...t){const{delegate:e}=Bl;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Bl;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Kb(t){Bl.setTimeout(()=>{const{onUnhandledError:e}=is;if(!e)throw t;e(t)})}function Hl(){}const gF=Sp("C",void 0,void 0);function Sp(t,e,n){return{kind:t,value:e,error:n}}let ss=null;function $l(t){if(is.useDeprecatedSynchronousErrorHandling){const e=!ss;if(e&&(ss={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ss;if(ss=null,n)throw r}}else t()}class Ap extends Vn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wb(e)&&e.add(this)):this.destination=vF}static create(e,n,r){return new xp(e,n,r)}next(e){this.isStopped?Np(Sp("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Np(Sp("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Np(gF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class xp extends Ap{constructor(e,n,r){let i;if(super(),Ue(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&is.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Rp(i):Hl,error:Rp(null!=n?n:Qb),complete:r?Rp(r):Hl}}}function Rp(t,e){return(...n)=>{try{t(...n)}catch(r){is.useDeprecatedSynchronousErrorHandling?function(t){is.useDeprecatedSynchronousErrorHandling&&ss&&(ss.errorThrown=!0,ss.error=t)}(r):Kb(r)}}}function Qb(t){throw t}function Np(t,e){const{onStoppedNotification:n}=is;n&&Bl.setTimeout(()=>n(t,e))}const vF={closed:!0,next:Hl,error:Qb,complete:Hl},kp="function"==typeof Symbol&&Symbol.observable||"@@observable";function os(t){return t}let Oe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(t){return t&&t instanceof Ap||function(t){return t&&Ue(t.next)&&Ue(t.error)&&Ue(t.complete)}(t)&&Wb(t)}(n)?n:new xp(n,r,i);return $l(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Jb(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[kp](){return this}pipe(...n){return function(t){return 0===t.length?os:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Jb(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Jb(t){var e;return null!==(e=null!=t?t:is.Promise)&&void 0!==e?e:Promise}const IF=Cp(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $r=(()=>{class t extends Oe{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Xb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new IF}next(n){$l(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){$l(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){$l(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Gb:(s.push(n),new Vn(()=>Tp(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Oe;return n.source=this,n}}return t.create=(e,n)=>new Xb(e,n),t})();class Xb extends $r{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Gb}}function Zb(t){return Ue(null==t?void 0:t.lift)}function Tt(t){return e=>{if(Zb(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class St extends Ap{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function me(t,e){return Tt((n,r)=>{let i=0;n.subscribe(new St(r,s=>{r.next(t.call(e,s,i++))}))})}function as(t){return this instanceof as?(this.v=t,this):new as(t)}function DF(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,_){s.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof as?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function TF(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const rC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function iC(t){return Ue(null==t?void 0:t.then)}function sC(t){return Ue(t[kp])}function oC(t){return Symbol.asyncIterator&&Ue(null==t?void 0:t[Symbol.asyncIterator])}function aC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const uC="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function cC(t){return Ue(null==t?void 0:t[uC])}function lC(t){return DF(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield as(n.read());if(i)return yield as(void 0);yield yield as(r)}}finally{n.releaseLock()}})}function dC(t){return Ue(null==t?void 0:t.getReader)}function qr(t){if(t instanceof Oe)return t;if(null!=t){if(sC(t))return function(t){return new Oe(e=>{const n=t[kp]();if(Ue(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(rC(t))return function(t){return new Oe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(iC(t))return function(t){return new Oe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Kb)})}(t);if(oC(t))return hC(t);if(cC(t))return function(t){return new Oe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(dC(t))return function(t){return hC(lC(t))}(t)}throw aC(t)}function hC(t){return new Oe(e=>{(function(t,e){var n,r,i,s;return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=TF(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Gr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ft(t,e,n=1/0){return Ue(e)?ft((r,i)=>me((s,o)=>e(r,s,i,o))(qr(t(r,i))),n):("number"==typeof e&&(n=e),Tt((r,i)=>function(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=_=>c<r?p(_):u.push(_),p=_=>{c++;let y=!1;qr(n(_,l++)).subscribe(new St(e,E=>{e.next(E)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const E=u.shift();p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(new St(e,f,()=>{d=!0,h()})),()=>{}}(r,i,t,n)))}function du(t=1/0){return ft(os,t)}const Wr=new Oe(t=>t.complete());function Pp(t){return t[t.length-1]}function hu(t){return function(t){return t&&Ue(t.schedule)}(Pp(t))?t.pop():void 0}function fC(t,e=0){return Tt((n,r)=>{n.subscribe(new St(r,i=>Gr(r,t,()=>r.next(i),e),()=>Gr(r,t,()=>r.complete(),e),i=>Gr(r,t,()=>r.error(i),e)))})}function pC(t,e=0){return Tt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gC(t,e){if(!t)throw new Error("Iterable cannot be null");return new Oe(n=>{Gr(n,e,()=>{const r=t[Symbol.asyncIterator]();Gr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function At(t,e){return e?function(t,e){if(null!=t){if(sC(t))return function(t,e){return qr(t).pipe(pC(e),fC(e))}(t,e);if(rC(t))return function(t,e){return new Oe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(iC(t))return function(t,e){return qr(t).pipe(pC(e),fC(e))}(t,e);if(oC(t))return gC(t,e);if(cC(t))return function(t,e){return new Oe(n=>{let r;return Gr(n,e,()=>{r=t[uC](),Gr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ue(null==r?void 0:r.return)&&r.return()})}(t,e);if(dC(t))return function(t,e){return gC(lC(t),e)}(t,e)}throw aC(t)}(t,e):qr(t)}function ql(t){return t<=0?()=>Wr:Tt((e,n)=>{let r=0;e.subscribe(new St(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Op(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(ql(1)).subscribe(()=>t())}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Lp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const KF=Ee({__forward_ref__:Ee});function Vp(t){return t.__forward_ref__=Vp,t.toString=function(){return se(this())},t}function B(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(KF)&&t.__forward_ref__===Vp}(t)?t():t}class us extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Jt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}function Gl(t,e){const n=e?` in ${e}`:"";throw new us("201",`No provider for ${Jt(t)} found${n}`)}function Cn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function nr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Kr(t){return yC(t,Wl)||yC(t,vC)}function yC(t,e){return t.hasOwnProperty(e)?t[e]:null}function _C(t){return t&&(t.hasOwnProperty(jp)||t.hasOwnProperty(tL))?t[jp]:null}const Wl=Ee({\u0275prov:Ee}),jp=Ee({\u0275inj:Ee}),vC=Ee({ngInjectableDef:Ee}),tL=Ee({ngInjectorDef:Ee});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Bp;function Ei(t){const e=Bp;return Bp=t,e}function wC(t,e,n){const r=Kr(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void Gl(se(t),"Injector")}function Ii(t){return{toString:t}.toString()}var Un=(()=>((Un=Un||{})[Un.OnPush=0]="OnPush",Un[Un.Default=1]="Default",Un))(),Dn=(()=>{return(t=Dn||(Dn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Dn;var t})();const rL="undefined"!=typeof globalThis&&globalThis,iL="undefined"!=typeof window&&window,sL="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ve=rL||"undefined"!=typeof global&&global||iL||sL,yo={},Ce=[],zl=Ee({\u0275cmp:Ee}),Hp=Ee({\u0275dir:Ee}),$p=Ee({\u0275pipe:Ee}),EC=Ee({\u0275mod:Ee}),Qr=Ee({\u0275fac:Ee}),fu=Ee({__NG_ELEMENT_ID__:Ee});let oL=0;function We(t){return Ii(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Un.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,id:"c",styles:t.styles||Ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=oL++,r.inputs=DC(t.inputs,n),r.outputs=DC(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(IC):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(bC):null,r})}function IC(t){return Ut(t)||function(t){return t[Hp]||null}(t)}function bC(t){return function(t){return t[$p]||null}(t)}const CC={};function Yr(t){return Ii(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(CC[t.id]=t.type),e})}function DC(t,e){if(null==t)return yo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Vt=We;function Ut(t){return t[zl]||null}function jn(t,e){const n=t[EC]||null;if(!n&&!0===e)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return n}function Ir(t){return Array.isArray(t)&&"object"==typeof t[1]}function ir(t){return Array.isArray(t)&&!0===t[1]}function Wp(t){return 0!=(8&t.flags)}function Jl(t){return 2==(2&t.flags)}function Xl(t){return 1==(1&t.flags)}function sr(t){return null!==t.template}function hL(t){return 0!=(512&t[2])}function fs(t,e){return t.hasOwnProperty(Qr)?t[Qr]:null}class SC{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ps(){return AC}function AC(t){return t.type.prototype.ngOnChanges&&(t.setInput=mL),gL}function gL(){const t=RC(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===yo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mL(t,e,n,r){const i=RC(t)||function(t,e){return t[xC]=e}(t,{previous:yo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new SC(u&&u.currentValue,e,o===yo),t[r]=e}ps.ngInherit=!0;const xC="__ngSimpleChanges__";function RC(t){return t[xC]||null}let Qp;function je(t){return!!t.listen}const MC={createRenderer:(t,e)=>void 0!==Qp?Qp:"undefined"!=typeof document?document:void 0};function Ye(t){for(;Array.isArray(t);)t=t[0];return t}function $n(t,e){return Ye(e[t.index])}function Jp(t,e){return t.data[e]}function Sn(t,e){const n=e[t];return Ir(n)?n:n[0]}function Xp(t){return 128==(128&t[2])}function Ci(t,e){return null==e?null:t[e]}function OC(t){t[18]=0}function Zp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const K={lFrame:$C(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function FC(){return K.bindingsEnabled}function D(){return K.lFrame.lView}function he(){return K.lFrame.tView}function eg(t){return K.lFrame.contextLView=t,t[8]}function ot(){let t=LC();for(;null!==t&&64===t.type;)t=t.parent;return t}function LC(){return K.lFrame.currentTNode}function br(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function tg(){return K.lFrame.isParent}function ed(){return K.isInCheckNoChangesMode}function td(t){K.isInCheckNoChangesMode=t}function bo(){return K.lFrame.bindingIndex++}function NL(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,rg(e)}function rg(t){K.lFrame.currentDirectiveIndex=t}function sg(t){K.lFrame.currentQueryIndex=t}function ML(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function BC(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=ML(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=HC();return r.currentTNode=e,r.lView=t,!0}function nd(t){const e=HC(),n=t[1];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function HC(){const t=K.lFrame,e=null===t?null:t.child;return null===e?$C(t):e}function $C(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function qC(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const GC=qC;function rd(){const t=qC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zt(){return K.lFrame.selectedIndex}function Di(t){K.lFrame.selectedIndex=t}function Be(){const t=K.lFrame;return Jp(t.tView,t.selectedIndex)}function id(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function sd(t,e,n){WC(t,e,3,n)}function od(t,e,n,r){(3&t[2])===n&&WC(t,e,n,r)}function og(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function WC(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(HL(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function HL(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class _u{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ad(t,e,n){const r=je(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];ug(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function zC(t){return 3===t||4===t||6===t}function ug(t){return 64===t.charCodeAt(0)}function ud(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||KC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function KC(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function QC(t){return-1!==t}function Co(t){return 32767&t}function Do(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let cg=!0;function cd(t){const e=cg;return cg=t,e}let KL=0;function wu(t,e){const n=dg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,lg(r.data,t),lg(e,null),lg(r.blueprint,null));const i=ld(t,e),s=t.injectorIndex;if(QC(i)){const o=Co(i),a=Do(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function lg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function dg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ld(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function dd(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(fu)&&(r=n[fu]),null==r&&(r=n[fu]=KL++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function XC(t,e,n){if(n&H.Optional)return t;Gl(e,"NodeInjector")}function ZC(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){const i=t[9],s=Ei(void 0);try{return i?i.get(e,r,n&H.Optional):wC(e,r,n&H.Optional)}finally{Ei(s)}}return XC(r,e,n)}function e0(t,e,n,r=H.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(fu)?t[fu]:void 0;return"number"==typeof e?e>=0?255&e:JL:e}(n);if("function"==typeof s){if(!BC(e,t,r))return r&H.Host?XC(i,n,r):ZC(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;Gl(n)}finally{GC()}}else if("number"==typeof s){let o=null,a=dg(t,e),u=-1,c=r&H.Host?e[16][6]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?ld(t,e):e[a+8],-1!==u&&r0(r,!1)?(o=e[1],a=Co(u),e=Do(u,e)):a=-1);-1!==a;){const l=e[1];if(n0(s,a,l.data)){const d=XL(a,e,n,o,r,c);if(d!==t0)return d}u=e[a+8],-1!==u&&r0(r,e[1].data[a+8]===c)&&n0(s,a,e)?(o=l,a=Co(u),e=Do(u,e)):a=-1}}}return ZC(e,n,r,i)}const t0={};function JL(){return new To(ot(),D())}function XL(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&sr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Jl(a)&&cg:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Eu(e,o,l,a):t0}function Eu(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof _u}(i)){const o=i;o.resolving&&function(t,e){throw new us("200",`Circular dependency in DI detected for ${t}`)}(Jt(s[n]));const a=cd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Ei(o.injectImpl):null;BC(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=AC(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Ei(u),cd(a),o.resolving=!1,GC()}}return i}function n0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function r0(t,e){return!(t&H.Self||t&H.Host&&e)}class To{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return e0(this._tNode,this._lView,e,r,n)}}function Iu(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(zC(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ot(),t)}const Ao="__parameters__";function gs(t,e,n){return Ii(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Ao)?u[Ao]:Object.defineProperty(u,Ao,{value:[]})[Ao];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ce{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const r2=new ce("AnalyzeForEntryComponents");function Cr(t,e){t.forEach(n=>Array.isArray(n)?Cr(n,e):e(n))}function fd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ms(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Su={},yg="__NG_DI_FLAG__",No="ngTempTokenPath",f2=/\n/gm,_g="__source",vg=Ee({provide:String,useValue:Ee});let Au;function ko(t){const e=Au;return Au=t,e}function g2(t,e=H.Default){if(void 0===Au)throw new Error("inject() must be called from an injection context");return null===Au?wC(t,void 0,e):Au.get(t,e&H.Optional?null:void 0,e)}function F(t,e=H.Default){return(Bp||g2)(B(t),e)}function ys(t){const e=[];for(let n=0;n<t.length;n++){const r=B(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=m2(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function xu(t,e){return t[yg]=e,t.prototype[yg]=e,t}function m2(t){return t[yg]}function c0(t,e,n,r){const i=t[No];throw e[_g]&&i.unshift(e[_g]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=se(e);if(Array.isArray(e))i=e.map(se).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):se(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(f2,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[No]=null,t}const Mo=xu(gs("Inject",t=>({token:t})),-1),fn=xu(gs("Optional"),8),Ai=xu(gs("SkipSelf"),4);class _s{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Dr(t,e){const n=function(t){return t instanceof _s&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}const j2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,B2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var De=(()=>((De=De||{})[De.NONE=0]="NONE",De[De.HTML=1]="HTML",De[De.STYLE=2]="STYLE",De[De.SCRIPT=3]="SCRIPT",De[De.URL=4]="URL",De[De.RESOURCE_URL=5]="RESOURCE_URL",De))();function Sg(t){const e=function(){const t=D();return t&&t[12]}();return e?e.sanitize(De.URL,t)||"":Dr(t,"URL")?function(t){return t instanceof _s?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match(j2)||t.match(B2)?t:"unsafe:"+t}(Z(t))}const A0="__ngContext__";function Bt(t,e){t[A0]=e}function xg(t){const e=function(t){return t[A0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function wd(t){return t.ngOriginalError}function cV(t,...e){t.error(...e)}class vs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=(t=e)&&t.ngErrorLogger||cV;var t;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(wd(e)):null}_findOriginalError(e){let n=e&&wd(e);for(;n&&wd(n);)n=wd(n);return n||null}}const L0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ve))();function Sr(t){return t instanceof Function?t():t}var Rn=(()=>((Rn=Rn||{})[Rn.Important=1]="Important",Rn[Rn.DashCase=2]="DashCase",Rn))();function kg(t,e){return undefined(t,e)}function Ou(t){const e=t[3];return ir(e)?e[3]:e}function Mg(t){return H0(t[13])}function Pg(t){return H0(t[4])}function H0(t){for(;null!==t&&!ir(t);)t=t[4];return t}function Lo(t,e,n,r,i){if(null!=r){let s,o=!1;ir(r)?s=r:Ir(r)&&(o=!0,r=r[0]);const a=Ye(r);0===t&&null!==n?null==i?K0(e,n,a):ws(e,n,a,i||null,!0):1===t&&null!==n?ws(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Id(t,e);r&&function(t,e,n,r){je(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Ye(n)&&Lo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Fu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Fg(t,e,n){return je(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function q0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Zp(i,-1)),n.splice(r,1)}function Lg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&q0(i,r),e>0&&(t[n-1][4]=r[4]);const s=ms(t,10+e);!function(t,e){Fu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function G0(t,e){if(!(256&e[2])){const n=e[11];je(n)&&n.destroyNode&&Fu(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vg(t[1],t);for(;e;){let n=null;if(Ir(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ir(e)&&Vg(e[1],e),e=e[3];null===e&&(e=t),Ir(e)&&Vg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof _u)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ye(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&je(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ir(e[3])){n!==e[3]&&q0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function W0(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Dn.None||i===Dn.Emulated)return null}return $n(r,n)}(t,e.parent,n)}function ws(t,e,n,r,i){je(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function K0(t,e,n){je(t)?t.appendChild(e,n):e.appendChild(n)}function Q0(t,e,n,r,i){null!==r?ws(t,e,n,r,i):K0(t,e,n)}function Id(t,e){return je(t)?t.parentNode(e):e.parentNode}let X0=function(t,e,n){return 40&t.type?$n(t,n):null};function bd(t,e,n,r){const i=W0(t,r,e),s=e[11],a=function(t,e,n){return X0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Q0(s,i,n[u],a,!1);else Q0(s,i,n,a,!1)}function Cd(t,e){if(null!==e){const n=e.type;if(3&n)return $n(e,t);if(4&n)return jg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Cd(t,r);{const i=t[e.index];return ir(i)?jg(-1,i):Ye(i)}}if(32&n)return kg(e,t)()||Ye(t[e.index]);{const r=eD(t,e);return null!==r?Array.isArray(r)?r[0]:Cd(Ou(t[16]),r):Cd(t,e.next)}}return null}function eD(t,e){return null!==e?t[16][6].projection[e.projection]:null}function jg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Cd(r,i)}return e[7]}function Bg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Bt(Ye(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Bg(t,e,n.child,r,i,s,!1),Lo(e,t,i,a,s);else if(32&u){const c=kg(n,r);let l;for(;l=c();)Lo(e,t,i,l,s);Lo(e,t,i,a,s)}else 16&u?nD(t,e,r,n,i,s):Lo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Fu(t,e,n,r,i,s){Bg(n,r,t.firstChild,e,i,s,!1)}function nD(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Lo(e,t,i,u[c],s);else Bg(t,e,u,o[3],i,s,!0)}function rD(t,e,n){je(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hg(t,e,n){je(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function iD(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const sD="ng-template";function OV(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==iD(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oD(t){return 4===t.type&&t.value!==sD}function FV(t,e,n){return e===(4!==t.type||n?t.value:sD)}function LV(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(zC(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!FV(t,u,n)||""===u&&1===e.length){if(or(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!OV(t.attrs,c,n)){if(or(r))return!1;o=!0}continue}const d=VV(8&r?"class":u,i,oD(t),n);if(-1===d){if(or(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==iD(f,c,0)||2&r&&c!==h){if(or(r))return!1;o=!0}}}}else{if(!o&&!or(r)&&!or(u))return!1;if(o&&or(u))continue;o=!1,r=u|1&r}}return or(r)||o}function or(t){return 0==(1&t)}function VV(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function aD(t,e,n=!1){for(let r=0;r<e.length;r++)if(LV(t,e[r],n))return!0;return!1}function uD(t,e){return t?":not("+e.trim()+")":e}function $V(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!or(o)&&(e+=uD(s,i),i=""),r=o,s=s||!or(r);n++}return""!==i&&(e+=uD(s,i)),e}const ee={};function Es(t){cD(he(),D(),Zt()+t,ed())}function cD(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&sd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&od(e,s,0,n)}Di(n)}function vD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];sg(i),o.contentQueries(2,e[s],s)}}}function Lu(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,OC(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Vo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=LC(),o=tg(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),K.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return br(s,!0),s}function Uo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vu(t,e,n){nd(e);try{const r=t.viewQuery;null!==r&&am(1,r,n);const i=t.template;null!==i&&wD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&vD(t,e),t.staticViewQueries&&am(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)IU(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,rd()}}function jo(t,e,n,r){const i=e[2];if(256==(256&i))return;nd(e);const s=ed();try{OC(e),function(t){K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&wD(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&sd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&od(e,c,0,null),og(e,0)}if(function(t){for(let e=Mg(t);null!==e;e=Pg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Zp(s,1),i[2]|=1024}}}(e),function(t){for(let e=Mg(t);null!==e;e=Pg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Xp(r)&&jo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&vD(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&sd(e,c)}else{const c=t.contentHooks;null!==c&&od(e,c,1),og(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Di(~i);else{const s=i,o=n[++r],a=n[++r];NL(o,s),a(2,e[s])}}}finally{Di(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)EU(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&am(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&sd(e,c)}else{const c=t.viewHooks;null!==c&&od(e,c,2),og(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Zp(e[3],-1))}finally{rd()}}function nU(t,e,n,r){const i=e[10],s=!ed(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Vu(t,e,r),jo(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function wD(t,e,n,r,i){const s=Zt(),o=2&r;try{Di(-1),o&&e.length>20&&cD(t,e,20,ed()),n(r,i)}finally{Di(s)}}function Zg(t,e,n){!FC()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||wu(n,e),Bt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=sr(u);c&&mU(e,n,u);const l=Eu(e,t,a,n);Bt(l,e),null!==o&&yU(0,a-i,l,u,0,o),c&&(Sn(n.index,e)[8]=l)}}(t,e,n,$n(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=K.lFrame.currentDirectiveIndex;try{Di(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];rg(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&xD(c,l)}}finally{Di(-1),rg(a)}}(t,e,n))}function em(t,e,n=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ID(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ad(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ad(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ee);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function TD(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function tm(t,e,n,r){let i=!1;if(FC()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];aD(n,o.selectors,!1)&&(i||(i=[]),dd(wu(n,e),t,o.type),sr(o)?(RD(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,ND(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=Uo(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=ud(n.mergedAttrs,d.hostAttrs),kD(t,n,e,c,d),gU(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||oD(e)?null:_U(d,s);o.push(h),a=TD(d,c,a),u=TD(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new us("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=ud(n.mergedAttrs,n.attrs),i}function AD(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function xD(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function RD(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function gU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;sr(e)&&(n[""]=t)}}function ND(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function kD(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=fs(i.type)),o=new _u(s,sr(i),null);t.blueprint[r]=o,n[r]=o,AD(t,e,0,r,Uo(t,n,i.hostVars,ee),i)}function mU(t,e,n){const r=$n(e,t),i=ID(n),s=t[10],o=xd(t,Lu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Ar(t,e,n,r,i,s){const o=$n(t,e);!function(t,e,n,r,i,s,o){if(null==s)je(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?Z(s):o(s,r||"",i);je(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}function yU(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function _U(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function MD(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function EU(t,e){const n=Sn(e,t);if(Xp(n)){const r=n[1];80&n[2]?jo(r,n,r.template,n[8]):n[5]>0&&rm(n)}}function rm(t){for(let r=Mg(t);null!==r;r=Pg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];jo(o,s,o.template,s[8])}else s[5]>0&&rm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Sn(n[r],t);Xp(i)&&i[5]>0&&rm(i)}}function IU(t,e){const n=Sn(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Vu(r,n,n[8])}function xd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function im(t){for(;t;){t[2]|=64;const e=Ou(t);if(hL(t)&&!e)return t;t=e}return null}function om(t,e,n){const r=e[10];r.begin&&r.begin();try{jo(t,e,t.template,n)}catch(i){throw VD(e,i),i}finally{r.end&&r.end()}}function PD(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=xg(n),i=r[1];nU(i,r,i.template,n)}}(t[8])}function am(t,e,n){sg(0),e(t,n)}const SU=(()=>Promise.resolve(null))();function OD(t){return t[7]||(t[7]=[])}function FD(t){return t.cleanup||(t.cleanup=[])}function VD(t,e){const n=t[9],r=n?n.get(vs,null):null;r&&r.handleError(e)}function UD(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Rd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Lp(i,a):2==s&&(r=Lp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Uu=new ce("INJECTOR",-1);class jD{get(e,n=Su){if(n===Su){const r=new Error(`NullInjectorError: No provider for ${se(e)}!`);throw r.name="NullInjectorError",r}return n}}const ju=new ce("Set Injector scope."),Bu={},RU={};let um;function BD(){return void 0===um&&(um=new jD),um}function HD(t,e=null,n=null,r){return new kU(t,n,e||BD(),r)}class kU{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Cr(n,a=>this.processProvider(a,e,n)),Cr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Uu,Bo(void 0,this));const o=this.records.get(ju);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:se(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Su,r=H.Default){this.assertNotDestroyed();const i=ko(this),s=Ei(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(t=e)||"object"==typeof t&&t instanceof ce)&&Kr(e);a=u&&this.injectableDefInScope(u)?Bo(cm(e),Bu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?BD():this.parent).get(e,n=r&H.Optional&&n===Su?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[No]=o[No]||[]).unshift(se(e)),i)throw o;return c0(o,e,"R3InjectorError",this.source)}throw o}finally{Ei(s),ko(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(se(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=B(e)))return!1;let i=_C(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=_C(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Cr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Cr(f,p=>this.processProvider(p,h,f||Ce))}}this.injectorDefTypes.add(o);const u=fs(o)||(()=>new o);this.records.set(o,Bo(u,Bu));const c=i.providers;if(null!=c&&!a){const l=e;Cr(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Ho(e=B(e))?e:B(e&&e.provide);const s=function(t,e,n){return qD(t)?Bo(void 0,t.useValue):Bo(function(t,e,n){let r;if(Ho(t)){const i=B(t);return fs(i)||cm(i)}if(qD(t))r=()=>B(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ys(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>F(B(t.useExisting));else{const i=B(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return fs(i)||cm(i);r=()=>new i(...ys(t.deps))}return r}(t),Bu)}(e);if(Ho(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Bo(void 0,Bu,!0),o.factory=()=>ys(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Bu&&(n.value=RU,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=B(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function cm(t){const e=Kr(t),n=null!==e?e.factory:fs(t);if(null!==n)return n;if(t instanceof ce)throw new Error(`Token ${se(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${se(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Wl]||t[vC]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qD(t){return null!==t&&"object"==typeof t&&vg in t}function Ho(t){return"function"==typeof t}const GD=function(t,e,n){return function(t,e=null,n=null,r){const i=HD(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ie=(()=>{class t{static create(n,r){return Array.isArray(n)?GD(n,r,""):GD(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=Su,t.NULL=new jD,t.\u0275prov=Y({token:t,providedIn:"any",factory:()=>F(Uu)}),t.__NG_ELEMENT_ID__=-1,t})();function ZU(t,e){id(xg(t)[1],ot())}let Nd=null;function $o(){if(!Nd){const t=ve.Symbol;if(t&&t.iterator)Nd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Nd=r)}}}return Nd}function $u(t){return!!mm(t)&&(Array.isArray(t)||!(t instanceof Map)&&$o()in t)}function mm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ht(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ym(t,e,n,r){const i=D();return Ht(i,bo(),e)&&(he(),Ar(Be(),i,t,e,n,r)),ym}function bs(t,e,n,r,i,s,o,a){const u=D(),c=he(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Vo(e,t,4,o||null,Ci(c,a));tm(e,n,l,Ci(c,u)),id(e,l);const d=l.tViews=Ad(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];br(d,!1);const h=u[11].createComment("");bd(c,u,h,d),Bt(h,u),xd(u,u[l]=MD(h,u,h,d)),Xl(d)&&Zg(c,u,d),null!=o&&em(u,d,a)}function L(t,e=H.Default){const n=D();return null===n?F(t,e):e0(ot(),n,B(t),e)}function Im(){throw new Error("invalid")}function Ni(t,e,n){const r=D();return Ht(r,bo(),e)&&function(t,e,n,r,i,s,o,a){const u=$n(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(UD(t,n,l,r,i),Jl(e)&&function(t,e){const n=Sn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,je(s)?s.setProperty(u,r,i):ug(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(he(),Be(),r,t,e,r[11],n,!1),Ni}function bm(t,e,n,r,i){const o=i?"class":"style";UD(t,n,e.inputs[o],o,r)}function g(t,e,n,r){const i=D(),s=he(),o=20+t,a=i[11],u=i[o]=Fg(a,e,K.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Vo(e,t,2,i,Ci(a,s));return tm(e,n,c,Ci(a,o)),null!==c.attrs&&Rd(c,c.attrs,!1),null!==c.mergedAttrs&&Rd(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];br(c,!0);const l=c.mergedAttrs;null!==l&&ad(a,u,l);const d=c.classes;null!==d&&Hg(a,u,d);const h=c.styles;null!==h&&rD(a,u,h),64!=(64&c.flags)&&bd(s,i,u,c),0===K.lFrame.elementDepthCount&&Bt(u,i),K.lFrame.elementDepthCount++,Xl(c)&&(Zg(s,i,c),function(t,e,n){if(Wp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&em(i,c)}function m(){let t=ot();tg()?K.lFrame.isParent=!1:(t=t.parent,br(t,!1));const e=t;K.lFrame.elementDepthCount--;const n=he();n.firstCreatePass&&(id(n,t),Wp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&bm(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&bm(n,e,D(),e.stylesWithoutHost,!1)}function b(t,e,n,r){g(t,e,n,r),m()}function Cm(){return D()}function Pd(t){return!!t&&"function"==typeof t.then}const Dm=function(t){return!!t&&"function"==typeof t.subscribe};function He(t,e,n,r){const i=D(),s=he(),o=ot();return function(t,e,n,r,i,s,o,a){const u=Xl(r),l=t.firstCreatePass&&FD(t),d=e[8],h=OD(e);let f=!0;if(3&r.type||a){const y=$n(r,e),E=a?a(y):y,v=h.length,T=a?N=>a(Ye(N[r.index])):r.index;if(je(n)){let N=null;if(!a&&u&&(N=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=Tm(r,e,d,s,!1);const U=n.listen(E,i,s);h.push(s,U),l&&l.push(i,T,v,v+1)}}else s=Tm(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),l&&l.push(i,T,v,o)}else s=Tm(r,e,d,s,!1);const p=r.outputs;let _;if(f&&null!==p&&(_=p[i])){const y=_.length;if(y)for(let E=0;E<y;E+=2){const _e=e[_[E]][_[E+1]].subscribe(s),Ne=h.length;h.push(s,_e),l&&l.push(i,r.index,Ne,-(Ne+1))}}}(s,i,i[11],o,t,e,!!n,r),He}function OT(t,e,n,r){try{return!1!==n(r)}catch(i){return VD(t,i),!1}}function Tm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Sn(t.index,e):e;0==(32&e[2])&&im(a);let u=OT(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=OT(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Sm(t=1){return function(t){return(K.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,K.lFrame.contextLView))[8]}(t)}function S(t,e=""){const n=D(),r=he(),i=t+20,s=r.firstCreatePass?Vo(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return je(t)?t.createText(e):t.createTextNode(e)}(n[11],e);bd(r,n,o,s),br(s,!1)}const Cs=void 0;var CB=["en",[["a","p"],["AM","PM"],Cs],[["AM","PM"],Cs,Cs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cs,"{1} 'at' {0}",Cs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ta={};function SS(t){return t in ta||(ta[t]=ve.ng&&ve.ng.common&&ve.ng.common.locales&&ve.ng.common.locales[t]),ta[t]}var P=(()=>((P=P||{})[P.LocaleId=0]="LocaleId",P[P.DayPeriodsFormat=1]="DayPeriodsFormat",P[P.DayPeriodsStandalone=2]="DayPeriodsStandalone",P[P.DaysFormat=3]="DaysFormat",P[P.DaysStandalone=4]="DaysStandalone",P[P.MonthsFormat=5]="MonthsFormat",P[P.MonthsStandalone=6]="MonthsStandalone",P[P.Eras=7]="Eras",P[P.FirstDayOfWeek=8]="FirstDayOfWeek",P[P.WeekendRange=9]="WeekendRange",P[P.DateFormat=10]="DateFormat",P[P.TimeFormat=11]="TimeFormat",P[P.DateTimeFormat=12]="DateTimeFormat",P[P.NumberSymbols=13]="NumberSymbols",P[P.NumberFormats=14]="NumberFormats",P[P.CurrencyCode=15]="CurrencyCode",P[P.CurrencySymbol=16]="CurrencySymbol",P[P.CurrencyName=17]="CurrencyName",P[P.Currencies=18]="Currencies",P[P.Directionality=19]="Directionality",P[P.PluralCase=20]="PluralCase",P[P.ExtraData=21]="ExtraData",P))();const Fd="en-US";let AS=Fd;class ZS{}const tA="ngComponent";class TH{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${se(t)}. Did you add it to @NgModule.entryComponents?`);return e[tA]=t,e}(e)}}let Ds=(()=>{class t{}return t.NULL=new TH,t})();function Bd(...t){}function ra(t,e){return new kn($n(t,e))}const xH=function(){return ra(ot(),D())};let kn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=xH,t})();class Hd{}let $d=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>NH(),t})();const NH=function(){const t=D(),n=Sn(ot().index,t);return function(t){return t[11]}(Ir(n)?n:t)};let Vm=(()=>{class t{}return t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>null}),t})();class qd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rA=new qd("13.0.0"),ia={};function Gd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ye(s)),ir(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Gd(u[1],u,c,r)}const o=n.type;if(8&o)Gd(t,e,n.child,r);else if(32&o){const a=kg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=eD(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ou(e[16]);Gd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Yu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Gd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ir(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Lg(e,r),ms(n,r))}this._attachedToViewContainer=!1}G0(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=OD(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&FD(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){im(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){om(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){td(!0);try{om(t,e,n)}finally{td(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Fu(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class PH extends Yu{constructor(e){super(e),this._view=e}detectChanges(){PD(this._view)}checkNoChanges(){!function(t){td(!0);try{PD(t)}finally{td(!1)}}(this._view)}get context(){return null}}class iA extends Ds{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ut(e);return new Um(n,this.ngModule)}}function sA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const FH=new ce("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>L0});class Um extends ZS{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map($V).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return sA(this.componentDef.inputs)}get outputs(){return sA(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ia,i);return s!==ia||r===ia?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Hd,MC),a=s.get(Vm,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(je(t))return t.selectRootElement(e,n===Dn.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Fg(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||L0,clean:SU,playerHandler:e||null,flags:0}}(),f=Ad(0,null,null,1,0,null,null,null,null,null),p=Lu(null,f,h,d,null,null,o,u,a,s);let _,y;nd(p);try{const E=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Vo(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Rd(u,c,!0),null!==t&&(ad(i,t,c),null!==u.classes&&Hg(i,t,u.classes),null!==u.styles&&rD(i,t,u.styles)));const l=r.createRenderer(t,e),d=Lu(n,ID(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(dd(wu(u,n),o,e.type),RD(o,u),ND(u,n.length,1)),xd(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)ad(u,l,["ng-version",rA.full]);else{const{attrs:v,classes:T}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!or(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);v&&ad(u,l,v),T&&T.length>0&&Hg(u,l,T.join(" "))}if(y=Jp(f,20),void 0!==n){const v=y.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const N=n[T];v.push(null!=N?Array.from(N):null)}}_=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ot();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),kD(t,r,e,Uo(t,e,1,null),n));const i=Eu(e,t,r.directiveStart,r);Bt(i,e);const s=$n(r,e);return s&&Bt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ot();e.contentQueries(1,o,u.directiveStart)}const a=ot();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Di(a.index),AD(n[1],a,0,a.directiveStart,a.directiveEnd,e),xD(e,o)),o}(E,this.componentDef,p,h,[ZU]),Vu(f,p,null)}finally{rd()}return new UH(this.componentType,_,ra(y,p),p,y)}}class UH extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new PH(i),this.componentType=e}get injector(){return new To(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class kr{}class oA{}const sa=new Map;class uA extends kr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iA(this);const r=jn(e);this._bootstrapComponents=Sr(r.bootstrap),this._r3Injector=HD(e,n,[{provide:kr,useValue:this},{provide:Ds,useValue:this.componentFactoryResolver}],se(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Ie.THROW_IF_NOT_FOUND,r=H.Default){return e===Ie||e===kr||e===Uu?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Bm extends oA{constructor(e){super(),this.moduleType=e,null!==jn(e)&&function(t){const e=new Set;!function n(r){const i=jn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${se(e)} vs ${se(e.name)}`)}(s,sa.get(s),r),sa.set(s,r));const o=Sr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new uA(this.moduleType,e)}}function Hm(t){return e=>{setTimeout(t,void 0,e)}}const nn=class extends $r{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var u,c,l;let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const d=e;i=null==(u=d.next)?void 0:u.bind(d),s=null==(c=d.error)?void 0:c.bind(d),o=null==(l=d.complete)?void 0:l.bind(d)}this.__isAsync&&(s=Hm(s),i&&(i=Hm(i)),o&&(o=Hm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Vn&&e.add(a),a}};Symbol;const u3=function(){return function(t,e){return 4&t.type?new l3(e,t,ra(t,e)):null}(ot(),D())};let ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=u3,t})();const c3=ri,l3=class extends c3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Lu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Vu(n,r,e),new Yu(r)}};const f3=function(){return function(t,e){let n;const r=e[t.index];if(ir(r))n=r;else{let i;if(8&t.type)i=Ye(r);else{const s=e[11];i=s.createComment("");const o=$n(t,e);ws(s,Id(s,o),i,function(t,e){return je(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=MD(r,e,i,t),xd(e,n)}return new pA(n,t,e)}(ot(),D())};let dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=f3,t})();const g3=dr,pA=class extends g3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ra(this._hostTNode,this._hostLView)}get injector(){return new To(this._hostTNode,this._hostLView)}get parentInjector(){const e=ld(this._hostTNode,this._hostLView);if(QC(e)){const n=Do(e,this._hostLView),r=Co(e);return new To(n[1].data[r+8],n)}return new To(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=gA(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Um(Ut(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(kr,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(ir(r[3])){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new pA(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],fd(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=jg(s,o),u=r[11],c=Id(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Fu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),fd($m(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=gA(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Lg(this._lContainer,n);r&&(ms($m(this._lContainer),n),G0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Lg(this._lContainer,n);return r&&null!=ms($m(this._lContainer),n)?new Yu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function gA(t){return t[8]}function $m(t){return t[8]||(t[8]=[])}const ec=new ce("Application Initializer");let aa=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Bd,this.reject=Bd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Pd(s))n.push(s);else if(Dm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(ec,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const tc=new ce("AppId"),X3={provide:tc,useFactory:function(){return`${ry()}${ry()}${ry()}`},deps:[]};function ry(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const UA=new ce("Platform Initializer"),Yd=new ce("Platform ID"),jA=new ce("appBootstrapListener");let Jd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const ki=new ce("LocaleId"),BA=new ce("DefaultCurrencyCode");class e${constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const iy=function(t){return new Bm(t)},t$=iy,n$=function(t){return Promise.resolve(iy(t))},$A=function(t){const e=iy(t),r=Sr(jn(t).declarations).reduce((i,s)=>{const o=Ut(s);return o&&i.push(new Um(o)),i},[]);return new e$(e,r)},r$=$A,i$=function(t){return Promise.resolve($A(t))};let Xd=(()=>{class t{constructor(){this.compileModuleSync=t$,this.compileModuleAsync=n$,this.compileModuleAndAllComponentsSync=r$,this.compileModuleAndAllComponentsAsync=i$}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const a$=(()=>Promise.resolve(0))();function sy(t){"undefined"==typeof Zone?a$.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=ve.requestAnimationFrame,e=ve.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ay(t),t.isCheckStableRunning=!0,oy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ay(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return qA(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),GA(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return qA(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),GA(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,ay(t),oy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Je.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Je.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,c$,Bd,Bd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const c$={};function oy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ay(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function qA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function GA(t){t._nesting--,oy(t)}class h${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let uy=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Je.assertNotInAngularZone(),sy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(Je))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),WA=(()=>{class t{constructor(){this._applications=new Map,cy.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return cy.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class f${addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let cy=new f$,zA=!0,KA=!1;let hr;const YA=new ce("AllowMultipleToken");class ly{constructor(e,n){this.name=e,this.token=n}}function JA(t,e,n=[]){const r=`Platform: ${e}`,i=new ce(r);return(s=[])=>{let o=XA();if(!o||o.injector.get(YA,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:ju,useValue:"platform"});!function(t){if(hr&&!hr.destroyed&&!hr.injector.get(YA,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");hr=t.get(ZA);const e=t.get(UA,null);e&&e.forEach(n=>n())}(Ie.create({providers:a,name:r}))}return function(t){const e=XA();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function XA(){return hr&&!hr.destroyed?hr:null}let ZA=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new h$:("zone.js"===t?void 0:t)||new Je({enableLongStackTrace:(KA=!0,zA),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Je,useValue:a}];return a.run(()=>{const c=Ie.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(vs,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{dy(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return Pd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(aa);return h.runInitializers(),h.donePromise.then(()=>(function(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(AS=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(ki,Fd)||Fd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=e1({},r);return function(t,e,n){const r=new Bm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ua);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${se(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function e1(t,e){return Array.isArray(e)?e.reduce(e1,t):W(W({},t),e)}let ua=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Oe(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Oe(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),sy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){const e=hu(t),n=function(t,e){return"number"==typeof Pp(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?qr(r[0]):du(n)(At(r,e)):Wr}(a,u.pipe(function(t={}){const{connector:e=(()=>new $r),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const _=o;f(),null==_||_.unsubscribe()};return Tt((_,y)=>{c++,!d&&!l&&h();const E=u=null!=u?u:e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Op(p,i))}),E.subscribe(y),o||(o=new xp({next:v=>E.next(v),error:v=>{d=!0,h(),a=Op(f,n,v),E.error(v)},complete:()=>{l=!0,h(),a=Op(f,r),E.complete()}}),At(_).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof ZS?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(kr),a=i.create(Ie.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(uy,null),l=c&&a.injector.get(WA);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),dy(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;dy(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(jA,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(F(Je),F(Ie),F(vs),F(Ds),F(aa))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function dy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const A$=function(t){return function(t,e,n){if(Jl(t)&&!n){const r=Sn(t.index,e);return new Yu(r,r)}return 47&t.type?new Yu(e[16],e):null}(ot(),D(),16==(16&t))};let fy=(()=>{class t{}return t.__NG_ELEMENT_ID__=A$,t})();class a1{constructor(){}supports(e){return $u(e)}create(e){return new B$(e)}}const j$=(t,e)=>e;class B${constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||j$}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<c1(r,i,s)?n:r,a=c1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!$u(e))throw new Error(`Error trying to diff '${se(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[$o()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new H$(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new u1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new u1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class H${constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $${constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class u1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new $$,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function c1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class l1{constructor(){}supports(e){return e instanceof Map||mm(e)}create(){return new q$}}class q${constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||mm(e)))throw new Error(`Error trying to diff '${se(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new G$(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class G${constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d1(){return new nc([new a1])}let nc=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||d1()),deps:[[t,new Ai,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=Y({token:t,providedIn:"root",factory:d1}),t})();function h1(){return new ca([new l1])}let ca=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||h1()),deps:[[t,new Ai,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=Y({token:t,providedIn:"root",factory:h1}),t})();const z$=[new l1],Q$=new nc([new a1]),Y$=new ca(z$),J$=JA(null,"core",[{provide:Yd,useValue:"unknown"},{provide:ZA,deps:[Ie]},{provide:WA,deps:[]},{provide:Jd,deps:[]}]),nq=[{provide:ua,useClass:ua,deps:[Je,Ie,vs,Ds,aa]},{provide:FH,deps:[Je],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:aa,useClass:aa,deps:[[new fn,ec]]},{provide:Xd,useClass:Xd,deps:[]},X3,{provide:nc,useFactory:function(){return Q$},deps:[]},{provide:ca,useFactory:function(){return Y$},deps:[]},{provide:ki,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||Fd},deps:[[new Mo(ki),new fn,new Ai]]},{provide:BA,useValue:"USD"}];let iq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(ua))},t.\u0275mod=Yr({type:t}),t.\u0275inj=nr({providers:nq}),t})(),hh=null;function Oi(){return hh}const yt=new ce("DocumentToken");let Rs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:function(){return F(Y1)},providedIn:"platform"}),t})();const X4=new ce("Location Initialized");let Y1=(()=>{class t extends Rs{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Oi().getBaseHref(this._doc)}onPopState(n){const r=Oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){J1()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){J1()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(yt))},t.\u0275prov=Y({token:t,factory:function(){return new Y1(F(yt))},providedIn:"platform"}),t})();function J1(){return!!window.history.pushState}function jy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function X1(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function si(t){return t&&"?"!==t[0]?"?"+t:t}let Ns=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:function(){return function(t){const e=F(yt).location;return new Z1(F(Rs),e&&e.origin||"")}()},providedIn:"root"}),t})();const By=new ce("appBaseHref");let Z1=(()=>{class t extends Ns{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+si(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+si(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+si(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(Rs),F(By,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),ex=(()=>{class t extends Ns{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=jy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+si(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+si(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(Rs),F(By,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),Hy=(()=>{class t{constructor(n,r){this._subject=new nn,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=X1(tx(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+si(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,tx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+si(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+si(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=si,t.joinWithSlash=jy,t.stripTrailingSlash=X1,t.\u0275fac=function(n){return new(n||t)(F(Ns),F(Rs))},t.\u0275prov=Y({token:t,factory:function(){return new Hy(F(Ns),F(Rs))},providedIn:"root"}),t})();function tx(t){return t.replace(/\/index.html$/,"")}var Xe=(()=>((Xe=Xe||{})[Xe.Zero=0]="Zero",Xe[Xe.One=1]="One",Xe[Xe.Two=2]="Two",Xe[Xe.Few=3]="Few",Xe[Xe.Many=4]="Many",Xe[Xe.Other=5]="Other",Xe))();const c8=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=SS(e);if(n)return n;const r=e.split("-")[0];if(n=SS(r),n)return n;if("en"===r)return CB;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[P.PluralCase]};class Ih{}let V8=(()=>{class t extends Ih{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(c8(r||this.locale)(n)){case Xe.Zero:return"zero";case Xe.One:return"one";case Xe.Two:return"two";case Xe.Few:return"few";case Xe.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(F(ki))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function lx(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Jy=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new q8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(L(dr),L(ri))},t.\u0275dir=Vt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class q8{constructor(){this.$implicit=null,this.ngIf=null}}function hx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${se(e)}'.`)}let yG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yr({type:t}),t.\u0275inj=nr({providers:[{provide:Ih,useClass:V8}]}),t})();let EG=(()=>{class t{}return t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new IG(F(yt),window)}),t})();class IG{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=mx(this.window.history)||mx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function mx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class yx{}class n_ extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new n_,hh||(hh=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(mc=mc||document.querySelector("base"),mc?mc.getAttribute("href"):null);return null==n?null:function(t){bh=bh||document.createElement("a"),bh.setAttribute("href",t);const e=bh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return lx(document.cookie,e)}}let bh,mc=null;const _x=new ce("TRANSITION_ID"),AG=[{provide:ec,useFactory:function(t,e,n){return()=>{n.get(aa).donePromise.then(()=>{const r=Oi(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[_x,yt,Ie],multi:!0}];class r_{static init(){var t;t=new r_,cy=t}addToWindow(e){ve.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),ve.getAllAngularRootElements=()=>e.getAllRootElements(),ve.frameworkStabilizers||(ve.frameworkStabilizers=[]),ve.frameworkStabilizers.push(r=>{const i=ve.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Oi().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let xG=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const yc=new ce("EventManagerPlugins");let Dh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(yc),F(Je))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class i_{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Oi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let wx=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),_c=(()=>{class t extends wx{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Ex),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Ex))}}return t.\u0275fac=function(n){return new(n||t)(F(yt))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function Ex(t){Oi().remove(t)}const s_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o_=/%COMP%/g;function Th(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Th(t,i,n):(i=i.replace(o_,t),n.push(i))}return n}function Cx(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let a_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new u_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Dn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new qG(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Dn.ShadowDom:return new GG(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Th(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(Dh),F(_c),F(tc))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class u_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(s_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=s_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=s_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Rn.DashCase|Rn.Important)?e.style.setProperty(n,r,i&Rn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Rn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Cx(r)):this.eventManager.addEventListener(e,n,Cx(r))}}class qG extends u_{constructor(e,n,r,i){super(e),this.component=r;const s=Th(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(o_,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(o_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class GG extends u_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Th(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let WG=(()=>{class t extends i_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(yt))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const Sx=["alt","control","meta","shift"],ZG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ax={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},e6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let t6=(()=>{class t extends i_{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Sx.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ax.hasOwnProperty(e)&&(e=Ax[e]))}return ZG[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Sx.forEach(s=>{s!=i&&e6[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(yt))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const a6=[{provide:Yd,useValue:"browser"},{provide:UA,useValue:function(){n_.makeCurrent(),r_.init()},multi:!0},{provide:yt,useFactory:function(){return t=document,Qp=t,document;var t},deps:[]}],c6=JA(J$,"browser",a6),l6=[[],{provide:ju,useValue:"root"},{provide:vs,useFactory:function(){return new vs},deps:[]},{provide:yc,useClass:WG,multi:!0,deps:[yt,Je,Yd]},{provide:yc,useClass:t6,multi:!0,deps:[yt]},[],{provide:a_,useClass:a_,deps:[Dh,_c,tc]},{provide:Hd,useExisting:a_},{provide:wx,useExisting:_c},{provide:_c,useClass:_c,deps:[yt]},{provide:uy,useClass:uy,deps:[Je]},{provide:Dh,useClass:Dh,deps:[yc,Je]},{provide:yx,useClass:xG,deps:[]},[]];let d6=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:tc,useValue:n.appId},{provide:_x,useExisting:tc},AG]}}}return t.\u0275fac=function(n){return new(n||t)(F(t,12))},t.\u0275mod=Yr({type:t}),t.\u0275inj=nr({providers:l6,imports:[yG,iq]}),t})();function te(...t){return At(t,hu(t))}function ga(t,e){return Ue(e)?ft(t,e,1):ft(t,1)}function ks(t,e){return Tt((n,r)=>{let i=0;n.subscribe(new St(r,s=>t.call(e,s,i++)&&r.next(s)))})}"undefined"!=typeof window&&window;class Rx{}class Nx{}class ai{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof ai?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new ai;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof ai?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class v6{encodeKey(e){return kx(e)}encodeValue(e){return kx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const E6=/%(\d[a-f0-9])/gi,I6={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function kx(t){return encodeURIComponent(t).replace(E6,(e,n)=>{var r;return null!=(r=I6[n])?r:e})}function Mx(t){return`${t}`}class Li{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new v6,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Li({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Mx(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Mx(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class b6{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Px(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ox(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Fx(t){return"undefined"!=typeof FormData&&t instanceof FormData}class vc{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ai),this.context||(this.context=new b6),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Li,this.urlWithParams=n}serializeBody(){return null===this.body?null:Px(this.body)||Ox(this.body)||Fx(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Li?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Fx(this.body)?null:Ox(this.body)?this.body.type||null:Px(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Li?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var d;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=null!=(d=e.context)?d:this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),c)),new vc(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var et=(()=>((et=et||{})[et.Sent=0]="Sent",et[et.UploadProgress=1]="UploadProgress",et[et.ResponseHeader=2]="ResponseHeader",et[et.DownloadProgress=3]="DownloadProgress",et[et.Response=4]="Response",et[et.User=5]="User",et))();class f_{constructor(e,n=200,r="OK"){this.headers=e.headers||new ai,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class p_ extends f_{constructor(e={}){super(e),this.type=et.ResponseHeader}clone(e={}){return new p_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Sh extends f_{constructor(e={}){super(e),this.type=et.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Sh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Lx extends f_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function g_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Vx=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof vc)s=n;else{let u,c;u=i.headers instanceof ai?i.headers:new ai(i.headers),i.params&&(c=i.params instanceof Li?i.params:new Li({fromObject:i.params})),s=new vc(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=te(s).pipe(ga(u=>this.handler.handle(u)));if(n instanceof vc||"events"===i.observe)return o;const a=o.pipe(ks(u=>u instanceof Sh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(me(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(me(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(me(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(me(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Li).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,g_(i,r))}post(n,r,i={}){return this.request("POST",n,g_(i,r))}put(n,r,i={}){return this.request("PUT",n,g_(i,r))}}return t.\u0275fac=function(n){return new(n||t)(F(Rx))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class Ux{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const jx=new ce("HTTP_INTERCEPTORS");let T6=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const S6=/^\)\]\}',?\n/;let Bx=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Oe(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===i.status?204:i.status,p=i.statusText||"OK",_=new ai(i.getAllResponseHeaders()),y=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new p_({headers:_,status:f,statusText:p,url:y}),o},u=()=>{let{headers:f,status:p,statusText:_,url:y}=a(),E=null;204!==p&&(E=void 0===i.response?i.responseText:i.response),0===p&&(p=E?200:0);let v=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof E){const T=E;E=E.replace(S6,"");try{E=""!==E?JSON.parse(E):null}catch(N){E=T,v&&(v=!1,E={error:N,text:E})}}v?(r.next(new Sh({body:E,headers:f,status:p,statusText:_,url:y||void 0})),r.complete()):r.error(new Lx({error:E,headers:f,status:p,statusText:_,url:y||void 0}))},c=f=>{const{url:p}=a(),_=new Lx({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(_)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:et.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:et.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:et.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(F(yx))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const m_=new ce("XSRF_COOKIE_NAME"),y_=new ce("XSRF_HEADER_NAME");class Hx{}let x6=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=lx(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(F(yt),F(Yd),F(m_))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),__=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(F(Hx),F(y_))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),R6=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(jx,[]);this.chain=r.reduceRight((i,s)=>new Ux(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(F(Nx),F(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),N6=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:__,useClass:T6}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:m_,useValue:n.cookieName}:[],n.headerName?{provide:y_,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yr({type:t}),t.\u0275inj=nr({providers:[__,{provide:jx,useExisting:__,multi:!0},{provide:Hx,useClass:x6},{provide:m_,useValue:"XSRF-TOKEN"},{provide:y_,useValue:"X-XSRF-TOKEN"}]}),t})(),k6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yr({type:t}),t.\u0275inj=nr({providers:[Vx,{provide:Rx,useClass:R6},Bx,{provide:Nx,useExisting:Bx}],imports:[[N6.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),M6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-daniel"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Male anonymus.png","alt","Daniel",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),S(6,"Daniel Erez"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),S(10,"Development director"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),S(14,"Daniel was born in 2000. He was born and lives in Jerusalem. Today he is studying his forth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),P6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-lisa"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Female anonymus.png","alt","Lisa",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),S(6,"Lisa Marx"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),S(10,"CEO"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),S(14,"Lisa was born in 1996. She was born in Paris and lives in Jerusalem. Today she is studying her fourth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),O6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-maayan"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Female anonymus.png","alt","Maayan",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),S(6,"Maayan Cohen"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),S(10,"Project manager"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),S(14,"Maayan was born in 1995. She was born and lives in Jerusalem. Today she is studying her fourth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),F6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-ori"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Male anonymus.png","alt","Ori",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),S(6,"Ori Schaefer"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),S(10,"Product manager"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),S(14,"Ori was born in 1994. He was born and lives in Jerusalem. Today he is studying his fourth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),L6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-sapir"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Female anonymus.png","alt","Sapir",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),S(6,"Sapir Shimon"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),S(10,"Product manager"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),S(14,"Sapir was born in 1995. She was born and lives in Jerusalem. Today she is studying her fourth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),V6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-about"]],decls:35,vars:0,consts:[[1,"columns"],[1,"column"]],template:function(n,r){1&n&&(g(0,"body"),g(1,"h1"),S(2,"About Mechanical Monsters"),m(),b(3,"br"),b(4,"br"),b(5,"br"),b(6,"br"),g(7,"h2"),S(8," Mechanical Monsters is a website that help you prevent from stroke attack, we developed it in 2021. "),b(9,"br"),S(10," We are using Machine Learning [...] "),b(11,"br"),S(12," When you share with us the results that you got from the doctor you help us to improve our algorithm and so"),b(13,"br"),S(14," you helping us to help "),g(15,"strong"),S(16," you "),m(),m(),b(17,"br"),b(18,"br"),b(19,"br"),b(20,"br"),g(21,"h3"),S(22,"About Us"),m(),b(23,"br"),g(24,"div",0),g(25,"div",1),b(26,"app-daniel"),m(),g(27,"div",1),b(28,"app-lisa"),m(),g(29,"div",1),b(30,"app-maayan"),m(),g(31,"div",1),b(32,"app-ori"),m(),g(33,"div",1),b(34,"app-sapir"),m(),m(),m())},directives:[M6,P6,O6,F6,L6],styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:30px;-webkit-text-decoration:underline solid royalblue 4px;text-decoration:underline solid royalblue 4px}h2[_ngcontent-%COMP%]{text-align:center;font-size:20px}h3[_ngcontent-%COMP%]{text-align:center;font-size:20px;-webkit-text-decoration:underline solid royalblue;text-decoration:underline solid royalblue}"]}),t})();function $x(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){$x(s,r,i,o,a,"next",u)}function a(u){$x(s,r,i,o,a,"throw",u)}o(void 0)})}}const Gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function wc(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!$6(n)||(t[n]=wc(t[n],e[n]));return t}function $6(t){return"__proto__"!==t}class q6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function _t(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function zx(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function Kx(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Qx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Yx(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}class Ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ps.prototype.create)}}class Ps{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(J6,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ms(i,`${this.serviceName}: ${o} (${i}).`,r)}}const J6=/\{\$([^}]+)}/g;function Xx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Zx(s)&&Zx(o)){if(!xh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zx(t){return null!==t&&"object"==typeof t}function Rh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ic(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eR(t,e){const n=new Z6(t,e);return n.subscribe.bind(n)}class Z6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=E_),void 0===i.error&&(i.error=E_),void 0===i.complete&&(i.complete=E_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E_(){}function gn(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class oW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new q6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Fs})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return w(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Fs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class cW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const b_=[];var pe=(()=>{return(t=pe||(pe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",pe;var t})();const tR={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},lW=pe.INFO,dW={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},hW=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=dW[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Nh{constructor(e){this.name=e,this._logLevel=lW,this._logHandler=hW,this._userLogHandler=null,b_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}class gW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const C_="@firebase/app",D_=new Nh("@firebase/app"),Ls="[DEFAULT]",HW={[C_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vi=new Map,bc=new Map;function kh(t,e){try{t.container.addComponent(e)}catch(n){D_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rR(t,e){t.container.addOrOverwriteComponent(e)}function Vs(t){const e=t.name;if(bc.has(e))return D_.debug(`There were multiple attempts to register component ${e}.`),!1;bc.set(e,t);for(const n of Vi.values())kh(n,t);return!0}function Cc(t,e){return t.container.getProvider(e)}function $W(t,e,n=Ls){Cc(t,e).clearInstance(n)}function qW(){bc.clear()}const Dc=new Ps("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class WW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dc.create("app-deleted",{appName:this._name})}}const Us="9.6.0";function iR(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Ls,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Dc.create("bad-app-name",{appName:String(r)});const i=Vi.get(r);if(i){if(xh(t,i.options)&&xh(n,i.config))return i;throw Dc.create("duplicate-app",{appName:r})}const s=new cW(r);for(const a of bc.values())s.addComponent(a);const o=new WW(t,n,s);return Vi.set(r,o),o}function T_(t=Ls){const e=Vi.get(t);if(!e)throw Dc.create("no-app",{appName:t});return e}function zW(){return Array.from(Vi.values())}function sR(t){return S_.apply(this,arguments)}function S_(){return(S_=w(function*(t){const e=t.name;Vi.has(e)&&(Vi.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})).apply(this,arguments)}function Mr(t,e,n){var r;let i=null!==(r=HW[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void D_.warn(a.join(" "))}Vs(new Os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function oR(t,e){if(null!==t&&"function"!=typeof t)throw Dc.create("invalid-log-argument");!function(t,e){for(const n of b_){let r=null;e&&e.level&&(r=tR[e.level]),n.userLogHandler=null===t?null:(i,s,...o)=>{const a=o.map(u=>{if(null==u)return null;if("string"==typeof u)return u;if("number"==typeof u||"boolean"==typeof u)return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch(c){return null}}).filter(u=>u).join(" ");s>=(null!=r?r:i.logLevel)&&t({level:pe[s].toLowerCase(),message:a,args:o,type:i.name})}}}(t,e)}function aR(t){!function(t){b_.forEach(e=>{e.setLogLevel(t)})}(t)}Vs(new Os("platform-logger",e=>new gW(e),"PRIVATE")),Mr(C_,"0.7.10",""),Mr(C_,"0.7.10","esm2017"),Mr("fire-js","");var O,QW="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ui={},A_=A_||{},X=QW||self;function Mh(){}function x_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Tc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var R_="closure_uid_"+(1e9*Math.random()>>>0),JW=0;function XW(t,e,n){return t.call.apply(t.bind,arguments)}function ZW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?XW:ZW).apply(null,arguments)}function Ph(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ui(){this.s=this.s,this.o=this.o}var t5={};Ui.prototype.s=!1,Ui.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,R_)&&t[R_]||(t[R_]=++JW)}(this);delete t5[t]}},Ui.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},cR=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function lR(t){return Array.prototype.concat.apply([],arguments)}function N_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Oh(t){return/^[\s\xa0]*$/.test(t)}var an,dR=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function on(t,e){return-1!=t.indexOf(e)}function k_(t,e){return t<e?-1:t>e?1:0}e:{var hR=X.navigator;if(hR){var fR=hR.userAgent;if(fR){an=fR;break e}}an=""}function M_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function pR(t){const e={};for(const n in t)e[n]=t[n];return e}var gR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mR(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<gR.length;s++)n=gR[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function P_(t){return P_[" "](t),t}P_[" "]=Mh;var Fh,i5=on(an,"Opera"),ma=on(an,"Trident")||on(an,"MSIE"),yR=on(an,"Edge"),O_=yR||ma,_R=on(an,"Gecko")&&!(on(an.toLowerCase(),"webkit")&&!on(an,"Edge"))&&!(on(an,"Trident")||on(an,"MSIE"))&&!on(an,"Edge"),s5=on(an.toLowerCase(),"webkit")&&!on(an,"Edge");function vR(){var t=X.document;return t?t.documentMode:void 0}e:{var F_="",L_=function(){var t=an;return _R?/rv:([^\);]+)(\)|;)/.exec(t):yR?/Edge\/([\d\.]+)/.exec(t):ma?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):s5?/WebKit\/(\S+)/.exec(t):i5?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(L_&&(F_=L_?L_[1]:""),ma){var V_=vR();if(null!=V_&&V_>parseFloat(F_)){Fh=String(V_);break e}}Fh=F_}var o5={};function a5(){return e=o5,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=dR(String(Fh)).split("."),n=dR("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=k_(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||k_(0==i[2].length,0==s[2].length)||k_(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var u5=X.document&&ma&&(vR()||parseInt(Fh,10))||void 0,c5=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",Mh,e),X.removeEventListener("test",Mh,e)}catch(n){}return t}();function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Sc(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_R){e:{try{P_(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:l5[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sc.Z.h.call(this)}}Gt.prototype.h=function(){this.defaultPrevented=!0},Rt(Sc,Gt);var l5={2:"touch",3:"pen",4:"mouse"};Sc.prototype.h=function(){Sc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ac="closure_listenable_"+(1e6*Math.random()|0),d5=0;function h5(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++d5,this.ca=this.fa=!1}function Lh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Vh(t){this.src=t,this.g={},this.h=0}function j_(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=uR(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Lh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function B_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Vh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=B_(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new h5(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var H_="closure_lm_"+(1e6*Math.random()|0),$_={};function ER(t,e,n,r,i){if(r&&r.once)return bR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ER(t,e[s],n,r,i);return null}return n=z_(n),t&&t[Ac]?t.N(e,n,Tc(r)?!!r.capture:!!r,i):IR(t,e,n,!1,r,i)}function IR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Tc(i)?!!i.capture:!!i,a=G_(t);if(a||(t[H_]=a=new Vh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=p5;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)c5||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(DR(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)bR(t,e[s],n,r,i);return null}return n=z_(n),t&&t[Ac]?t.O(e,n,Tc(r)?!!r.capture:!!r,i):IR(t,e,n,!0,r,i)}function CR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)CR(t,e[s],n,r,i);else r=Tc(r)?!!r.capture:!!r,n=z_(n),t&&t[Ac]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=B_(s=t.g[e],n,r,i))&&(Lh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=G_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=B_(e,n,r,i)),(n=-1<t?e[t]:null)&&q_(n))}function q_(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Ac])j_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(DR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=G_(e))?(j_(n,t),0==n.h&&(n.src=null,e[H_]=null)):Lh(t)}}}function DR(t){return t in $_?$_[t]:$_[t]="on"+t}function p5(t,e){if(t.ca)t=!0;else{e=new Sc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&q_(t),t=n.call(r,e)}return t}function G_(t){return(t=t[H_])instanceof Vh?t:null}var W_="__closure_events_fn_"+(1e9*Math.random()>>>0);function z_(t){return"function"==typeof t?t:(t[W_]||(t[W_]=function(e){return t.handleEvent(e)}),t[W_])}function vt(){Ui.call(this),this.i=new Vh(this),this.P=this,this.I=null}function Nt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;mR(e=new Gt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Uh(o,r,!0,e)&&i}if(i=Uh(o=e.g=t,r,!0,e)&&i,i=Uh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Uh(o=e.g=n[s],r,!1,e)&&i}function Uh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&j_(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(vt,Ui),vt.prototype[Ac]=!0,vt.prototype.removeEventListener=function(t,e,n,r){CR(this,t,e,n,r)},vt.prototype.M=function(){if(vt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Lh(n[r]);delete t.g[e],t.h--}}this.I=null},vt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var K_=X.JSON.stringify;function g5(){var t=SR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Y_,TR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new y5,t=>t.reset());class y5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _5(t){X.setTimeout(()=>{throw t},0)}function Q_(t,e){Y_||function(){var t=X.Promise.resolve(void 0);Y_=function(){t.then(w5)}}(),J_||(Y_(),J_=!0),SR.add(t,e)}var J_=!1,SR=new class{constructor(){this.h=this.g=null}add(e,n){const r=TR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function w5(){for(var t;t=g5();){try{t.h.call(t.g)}catch(n){_5(n)}var e=TR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}J_=!1}function jh(t,e){vt.call(this),this.h=t||1,this.g=e||X,this.j=xt(this.kb,this),this.l=Date.now()}function X_(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Z_(t,e,n){if("function"==typeof t)n&&(t=xt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xt(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function AR(t){t.g=Z_(()=>{t.g=null,t.i&&(t.i=!1,AR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Rt(jh,vt),(O=jh.prototype).da=!1,O.S=null,O.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&(X_(this),this.start()))}},O.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.M=function(){jh.Z.M.call(this),X_(this),delete this.g};class E5 extends Ui{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AR(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xc(t){Ui.call(this),this.h=t,this.g={}}Rt(xc,Ui);var xR=[];function RR(t,e,n,r){Array.isArray(n)||(n&&(xR[0]=n.toString()),n=xR);for(var i=0;i<n.length;i++){var s=ER(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function NR(t){M_(t.g,function(e,n){this.g.hasOwnProperty(n)&&q_(e)},t),t.g={}}function Bh(){this.g=!0}function ya(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return K_(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}xc.prototype.M=function(){xc.Z.M.call(this),NR(this)},xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bh.prototype.Aa=function(){this.g=!1},Bh.prototype.info=function(){};var js={},kR=null;function Hh(){return kR=kR||new vt}function MR(t){Gt.call(this,js.Ma,t)}function Rc(t){const e=Hh();Nt(e,new MR(e,t))}function PR(t,e){Gt.call(this,js.STAT_EVENT,t),this.stat=e}function un(t){const e=Hh();Nt(e,new PR(e,t))}function OR(t,e){Gt.call(this,js.Na,t),this.size=e}function Nc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}js.Ma="serverreachability",Rt(MR,Gt),js.STAT_EVENT="statevent",Rt(PR,Gt),js.Na="timingevent",Rt(OR,Gt);var $h={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},FR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ev(){}function VR(){}ev.prototype.h=null;var rv,kc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tv(){Gt.call(this,"d")}function nv(){Gt.call(this,"c")}function qh(){}function Mc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new xc(this),this.P=T5,this.W=new jh(t=O_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new UR}function UR(){this.i=null,this.g="",this.h=!1}Rt(tv,Gt),Rt(nv,Gt),Rt(qh,ev),qh.prototype.g=function(){return new XMLHttpRequest},qh.prototype.i=function(){return{}},rv=new qh;var T5=45e3,iv={},Gh={};function sv(t,e,n){t.K=1,t.v=Yh(ci(e)),t.s=n,t.U=!0,jR(t,null)}function jR(t,e){t.F=Date.now(),Pc(t),t.A=ci(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),QR(n.h,"t",r),t.C=0,n=t.l.H,t.h=new UR,t.g=_N(t.l,n?e:null,!t.s),0<t.O&&(t.L=new E5(xt(t.Ia,t,t.g),t.O)),RR(t.V,t.g,"readystatechange",t.gb),e=t.H?pR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Rc(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function BR(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function HR(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=S5(t,n),i==Gh){4==e&&(t.o=4,un(14),r=!1),ya(t.j,t.m,null,"[Incomplete Response]");break}if(i==iv){t.o=4,un(15),ya(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}ya(t.j,t.m,i,null),ov(t,i)}BR(t)&&i!=Gh&&i!=iv&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),yv(e),e.L=!0,un(11))):(ya(t.j,t.m,n,"[Invalid Chunked Response]"),Bs(t),Oc(t))}function S5(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Gh:(n=Number(e.substring(n,r)),isNaN(n)?iv:(r+=1)+n>e.length?Gh:(e=e.substr(r,n),t.C=r+n,e))}function Pc(t){t.Y=Date.now()+t.P,$R(t,t.P)}function $R(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Nc(xt(t.eb,t),e)}function Wh(t){t.B&&(X.clearTimeout(t.B),t.B=null)}function Oc(t){0==t.l.G||t.I||pN(t.l,t)}function Bs(t){Wh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,X_(t.W),NR(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ov(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||cv(n.i,t)))if(n.I=t.N,!t.J&&cv(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Nc(xt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;nf(n),ef(n)}mv(n),un(18)}if(1>=XR(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else qs(n,11)}else if((t.J||n.g==t)&&nf(n),!Oh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(on(p,"spdy")||on(p,"quic")||on(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(lv(s,s.h),s.h=null))}if(r.D){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,Me(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=yN(r,r.H?r.la:null,r.W),o.J){ZR(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Wh(a),Pc(a)),r.g=o}else hN(r);0<n.l.length&&tf(n)}else"stop"!=c[0]&&"close"!=c[0]||qs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?qs(n,7):pv(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Rc(4)}catch(c){}}function av(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(x_(t)||"string"==typeof t)cR(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(x_(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(x_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function _a(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof _a)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function uv(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Hs(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Hs(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Hs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(O=Mc.prototype).setTimeout=function(t){this.P=t},O.gb=function(t){t=t.target;const e=this.L;e&&3==li(t)?e.l():this.Ia(t)},O.Ia=function(t){try{if(t==this.g)e:{const l=li(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||O_||this.g&&(this.h.h||this.g.ga()||aN(this.g)))){this.I||4!=l||7==e||Rc(8==e||0>=d?3:2),Wh(this);var n=this.g.ba();this.N=n;t:if(BR(this)){var r=aN(this.g);t="";var i=r.length,s=4==li(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bs(this),Oc(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,un(12),Bs(this),Oc(this);break e}ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ov(this,n)}this.U?(HR(this,l,o),O_&&this.i&&3==l&&(RR(this.V,this.W,"tick",this.fb),this.W.start())):(ya(this.j,this.m,o,null),ov(this,o)),4==l&&Bs(this),this.i&&!this.I&&(4==l?pN(this.l,this):(this.i=!1,Pc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),Bs(this),Oc(this)}}}catch(l){}},O.fb=function(){if(this.g){var t=li(this.g),e=this.g.ga();this.C<e.length&&(Wh(this),HR(this,t,e),this.i&&4!=t&&Pc(this))}},O.cancel=function(){this.I=!0,Bs(this)},O.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Rc(3),un(17)),Bs(this),this.o=2,Oc(this)):$R(this,this.Y-t)},(O=_a.prototype).R=function(){uv(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},O.T=function(){return uv(this),this.g.concat()},O.get=function(t,e){return Hs(this.h,t)?this.h[t]:e},O.set=function(t,e){Hs(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},O.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var qR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $s(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof $s){this.g=void 0!==e?e:t.g,zh(this,t.j),this.s=t.s,Kh(this,t.i),Qh(this,t.m),this.l=t.l,e=t.h;var n=new Vc;n.i=e.i,e.g&&(n.g=new _a(e.g),n.h=e.h),GR(this,n),this.o=t.o}else t&&(n=String(t).match(qR))?(this.g=!!e,zh(this,n[1]||"",!0),this.s=Fc(n[2]||""),Kh(this,n[3]||"",!0),Qh(this,n[4]),this.l=Fc(n[5]||"",!0),GR(this,n[6]||"",!0),this.o=Fc(n[7]||"")):(this.g=!!e,this.h=new Vc(null,this.g))}function ci(t){return new $s(t)}function zh(t,e,n){t.j=n?Fc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kh(t,e,n){t.i=n?Fc(e,!0):e}function Qh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function GR(t,e,n){e instanceof Vc?(t.h=e,function(t,e){e&&!t.j&&(ji(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(zR(this,r),QR(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Lc(e,O5)),t.h=new Vc(e,t.g))}function Me(t,e,n){t.h.set(e,n)}function Yh(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Fc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,k5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function k5(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}$s.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lc(e,WR,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Lc(e,WR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Lc(n,"/"==n.charAt(0)?P5:M5,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lc(n,F5)),t.join("")};var WR=/[#\/\?@]/g,M5=/[#\?:]/g,P5=/[#\?]/g,O5=/[#\?@]/g,F5=/#/g;function Vc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ji(t){t.g||(t.g=new _a,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function zR(t,e){ji(t),e=va(t,e),Hs(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Hs((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&uv(t)))}function KR(t,e){return ji(t),e=va(t,e),Hs(t.g.h,e)}function QR(t,e,n){zR(t,e),0<n.length&&(t.i=null,t.g.set(va(t,e),N_(n)),t.h+=n.length)}function va(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function YR(t){this.l=t||U5,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ea&&X.g.Ea()&&X.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(O=Vc.prototype).add=function(t,e){ji(this),this.i=null,t=va(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},O.forEach=function(t,e){ji(this),this.g.forEach(function(n,r){cR(n,function(i){t.call(e,i,r,this)},this)},this)},O.T=function(){ji(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},O.R=function(t){ji(this);var e=[];if("string"==typeof t)KR(this,t)&&(e=lR(e,this.g.get(va(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=lR(e,t[n])}return e},O.set=function(t,e){return ji(this),this.i=null,KR(this,t=va(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},O.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var U5=10;function JR(t){return!!t.h||!!t.g&&t.g.size>=t.j}function XR(t){return t.h?1:t.g?t.g.size:0}function cv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function lv(t,e){t.g?t.g.add(e):t.h=e}function ZR(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function eN(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return N_(t.i)}function dv(){}function j5(){this.g=new dv}function B5(t,e,n){const r=n||"";try{av(t,function(i,s){let o=i;Tc(i)&&(o=K_(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Uc(t){this.l=t.$b||null,this.j=t.ib||!1}function Xh(t,e){vt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=hv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YR.prototype.cancel=function(){if(this.i=eN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},dv.prototype.stringify=function(t){return X.JSON.stringify(t,void 0)},dv.prototype.parse=function(t){return X.JSON.parse(t,void 0)},Rt(Uc,ev),Uc.prototype.g=function(){return new Xh(this.l,this.j)},Uc.prototype.i=function(t){return function(){return t}}({}),Rt(Xh,vt);var hv=0;function tN(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function jc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bc(t)}function Bc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(O=Xh.prototype).open=function(t,e){if(this.readyState!=hv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bc(this)},O.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||X).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jc(this)),this.readyState=hv},O.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bc(this)),this.g&&(this.readyState=3,Bc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==X.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tN(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},O.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jc(this):Bc(this),3==this.readyState&&tN(this)}},O.Ua=function(t){this.g&&(this.response=this.responseText=t,jc(this))},O.Ta=function(t){this.g&&(this.response=t,jc(this))},O.ha=function(){this.g&&jc(this)},O.setRequestHeader=function(t,e){this.v.append(t,e)},O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var $5=X.JSON.parse;function tt(t){vt.call(this),this.headers=new _a,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nN,this.K=this.L=!1}Rt(tt,vt);var nN="",q5=/^https?$/i,G5=["POST","PUT"];function z5(t){return"content-type"==t.toLowerCase()}function rN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,iN(t),Zh(t)}function iN(t){t.D||(t.D=!0,Nt(t,"complete"),Nt(t,"error"))}function sN(t){if(t.h&&void 0!==A_&&(!t.C[1]||4!=li(t)||2!=t.ba()))if(t.v&&4==li(t))Z_(t.Fa,0,t);else if(Nt(t,"readystatechange"),4==li(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(qR)[1]||null;if(!i&&X.self&&X.self.location){var s=X.self.location.protocol;i=s.substr(0,s.length-1)}r=!q5.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<li(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",iN(t)}}finally{Zh(t)}}}function Zh(t,e){if(t.g){oN(t);const n=t.g,r=t.C[0]?Mh:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function oN(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function li(t){return t.g?t.g.readyState:0}function aN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case nN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function fv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return M_(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function Hc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function uN(t){this.za=0,this.l=[],this.h=new Bh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hc("baseRetryDelayMs",5e3,t),this.$a=Hc("retryDelaySeedMs",1e4,t),this.Ya=Hc("forwardChannelMaxRetries",2,t),this.ra=Hc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new YR(t&&t.concurrentRequestLimit),this.Ca=new j5,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function pv(t){if(cN(t),3==t.G){var e=t.V++,n=ci(t.F);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),$c(t,n),(e=new Mc(t,t.h,e,void 0)).K=2,e.v=Yh(ci(n)),n=!1,X.navigator&&X.navigator.sendBeacon&&(n=X.navigator.sendBeacon(e.v.toString(),"")),!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=_N(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pc(e)}mN(t)}function ef(t){t.g&&(yv(t),t.g.cancel(),t.g=null)}function cN(t){ef(t),t.u&&(X.clearTimeout(t.u),t.u=null),nf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function gv(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&tf(t)}function tf(t){JR(t.i)||t.m||(t.m=!0,Q_(t.Ha,t),t.C=0)}function lN(t,e){var n;n=e?e.m:t.V++;const r=ci(t.F);Me(r,"SID",t.J),Me(r,"RID",n),Me(r,"AID",t.U),$c(t,r),t.o&&t.s&&fv(r,t.o,t.s),n=new Mc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=dN(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),lv(t.i,n),sv(n,r,e)}function $c(t,e){t.j&&av({},function(n,r){Me(e,r,n)})}function dN(t,e,n){n=Math.min(t.l.length,n);var r=t.j?xt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{B5(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function hN(t){t.g||t.u||(t.Y=1,Q_(t.Ga,t),t.A=0)}function mv(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Nc(xt(t.Ga,t),gN(t,t.A)),t.A++,0))}function yv(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function fN(t){t.g=new Mc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=ci(t.oa);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.N?"0":"1"),Me(e,"AID",t.U),$c(t,e),Me(e,"TYPE","xmlhttp"),t.o&&t.s&&fv(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Yh(ci(e)),n.s=null,n.U=!0,jR(n,t)}function nf(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function pN(t,e){var n=null;if(t.g==e){nf(t),yv(t),t.g=null;var r=2}else{if(!cv(t.i,e))return;n=e.D,ZR(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Nt(r=Hh(),new OR(r,n,e,i)),tf(t)}else hN(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(XR(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Nc(xt(t.Ha,t,e),gN(t,t.C)),t.C++,0)))}(t,e)||2==r&&mv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:qs(t,5);break;case 4:qs(t,10);break;case 3:qs(t,6);break;default:qs(t,2)}}function gN(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function qs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=xt(t.jb,t);n||(n=new $s("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||zh(n,"https"),Yh(n)),function(t,e){const n=new Bh;if(X.Image){const r=new Image;r.onload=Ph(Jh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ph(Jh,n,r,"TestLoadImage: error",!1,e),r.onabort=Ph(Jh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ph(Jh,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else un(2);t.G=0,t.j&&t.j.va(e),mN(t),cN(t)}function mN(t){t.G=0,t.I=-1,t.j&&((0!=eN(t.i).length||0!=t.l.length)&&(t.i.i.length=0,N_(t.l),t.l.length=0),t.j.ua())}function yN(t,e,n){let r=function(t){return t instanceof $s?ci(t):new $s(t,void 0)}(n);if(""!=r.i)e&&Kh(r,e+"."+r.i),Qh(r,r.m);else{const i=X.location;r=function(t,e,n,r){var i=new $s(null,void 0);return t&&zh(i,t),e&&Kh(i,e),n&&Qh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&M_(t.aa,function(i,s){Me(r,s,i)}),n=t.sa,(e=t.D)&&n&&Me(r,e,n),Me(r,"VER",t.ma),$c(t,r),r}function _N(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(n&&t.Ba&&!t.qa?new Uc({ib:!0}):t.qa)).L=t.H,e}function vN(){}function rf(){if(ma&&!(10<=Number(u5)))throw Error("Environmental error: no available transport.")}function Mn(t,e){vt.call(this),this.g=new uN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Oh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new wa(this)}function wN(t){tv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function EN(){nv.call(this),this.status=1}function wa(t){this.g=t}(O=tt.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rv.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:rv),this.g.onreadystatechange=xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void rN(this,s)}t=n||"";const i=new _a(this.headers);r&&av(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=z5;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=X.FormData&&t instanceof X.FormData,!(0<=uR(G5,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{oN(this),0<this.B&&((this.K=function(t){return ma&&a5()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.pa,this)):this.A=Z_(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){rN(this,s)}},O.pa=function(){void 0!==A_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Zh(this))},O.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zh(this,!0)),tt.Z.M.call(this)},O.Fa=function(){this.s||(this.F||this.v||this.l?sN(this):this.cb())},O.cb=function(){sN(this)},O.ba=function(){try{return 2<li(this)?this.g.status:-1}catch(t){return-1}},O.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},O.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),$5(e)}},O.Da=function(){return this.m},O.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=uN.prototype).ma=8,O.G=1,O.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},O.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Mc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=pR(s),mR(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=dN(this,i,e),Me(n=ci(this.F),"RID",t),Me(n,"CVER",22),this.D&&Me(n,"X-HTTP-Session-Id",this.D),$c(this,n),this.o&&s&&fv(n,this.o,s),lv(this.i,i),this.Ra&&Me(n,"TYPE","init"),this.ja?(Me(n,"$req",e),Me(n,"SID","null"),i.$=!0,sv(i,n,null)):sv(i,n,e),this.G=2}}else 3==this.G&&(t?lN(this,t):0==this.l.length||JR(this.i)||lN(this))},O.Ga=function(){if(this.u=null,fN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Nc(xt(this.bb,this),t)}},O.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,un(10),ef(this),fN(this))},O.ab=function(){null!=this.v&&(this.v=null,ef(this),mv(this),un(19))},O.jb=function(t){t?(this.h.info("Successfully pinged google.com"),un(2)):(this.h.info("Failed to ping google.com"),un(1))},(O=vN.prototype).xa=function(){},O.wa=function(){},O.va=function(){},O.ua=function(){},O.Oa=function(){},rf.prototype.g=function(t,e){return new Mn(t,e)},Rt(Mn,vt),Mn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Q_(xt(t.hb,t,e))),un(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=yN(t,null,t.W),tf(t)},Mn.prototype.close=function(){pv(this.g)},Mn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,gv(this.g,e)}else this.v?((e={}).__data__=K_(t),gv(this.g,e)):gv(this.g,t)},Mn.prototype.M=function(){this.g.j=null,delete this.j,pv(this.g),delete this.g,Mn.Z.M.call(this)},Rt(wN,tv),Rt(EN,nv),Rt(wa,vN),wa.prototype.xa=function(){Nt(this.g,"a")},wa.prototype.wa=function(t){Nt(this.g,new wN(t))},wa.prototype.va=function(t){Nt(this.g,new EN(t))},wa.prototype.ua=function(){Nt(this.g,"b")},rf.prototype.createWebChannel=rf.prototype.g,Mn.prototype.send=Mn.prototype.u,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,$h.NO_ERROR=0,$h.TIMEOUT=8,$h.HTTP_ERROR=6,FR.COMPLETE="complete",VR.EventType=kc,kc.OPEN="a",kc.CLOSE="b",kc.ERROR="c",kc.MESSAGE="d",vt.prototype.listen=vt.prototype.N,tt.prototype.listenOnce=tt.prototype.O,tt.prototype.getLastError=tt.prototype.La,tt.prototype.getLastErrorCode=tt.prototype.Da,tt.prototype.getStatus=tt.prototype.ba,tt.prototype.getResponseJson=tt.prototype.Qa,tt.prototype.getResponseText=tt.prototype.ga,tt.prototype.send=tt.prototype.ea;var Y5=ui.createWebChannelTransport=function(){return new rf},J5=ui.getStatEventTarget=function(){return Hh()},_v=ui.ErrorCode=$h,X5=ui.EventType=FR,Z5=ui.Event=js,IN=ui.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},e7=ui.FetchXmlHttpFactory=Uc,sf=ui.WebChannel=VR,t7=ui.XhrIo=tt;const bN="@firebase/firestore";class kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");let Ea="9.6.0";const Bi=new Nh("@firebase/firestore");function vv(){return Bi.logLevel}function x(t,...e){if(Bi.logLevel<=pe.DEBUG){const n=e.map(wv);Bi.debug(`Firestore (${Ea}): ${t}`,...n)}}function nt(t,...e){if(Bi.logLevel<=pe.ERROR){const n=e.map(wv);Bi.error(`Firestore (${Ea}): ${t}`,...n)}}function of(t,...e){if(Bi.logLevel<=pe.WARN){const n=e.map(wv);Bi.warn(`Firestore (${Ea}): ${t}`,...n)}}function wv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function j(t="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+t;throw nt(e),new Error(e)}function G(t,e){t||j()}function k(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class CN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class i7{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(w(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new CN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new kt(e)}}class s7{constructor(e,n,r){this.type="FirstParty",this.user=kt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class o7{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new s7(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a7{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token);var s})};const r=i=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G("string"==typeof n.token),new DN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Pn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function u7(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}Pn.I=-1;class TN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=u7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Mt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function AN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class qc{constructor(e,n,r){void 0===n?n=0:n>e.length&&j(),void 0===r?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===qc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends qc{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const c7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends qc{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return c7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new A(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new A(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class ba{constructor(e){this.fields=e,e.sort(Wt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Et(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Et(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const l7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(t){if(G(!!t),"string"==typeof t){let e=0;const n=l7.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ca(t){return"string"==typeof t?Et.fromBase64String(t):Et.fromUint8Array(t)}function Ev(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function RN(t){const e=t.mapValue.fields.__previous_value__;return Ev(e)?RN(e):e}function Gc(t){const e=Hi(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}function Ws(t){return null==t}function af(t){return 0===t&&1/t==-1/0}class V{constructor(e){this.path=e}static fromPath(e){return new V(ye.fromString(e))}static fromName(e){return new V(ye.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new ye(e.slice()))}}function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ev(t)?4:10:j()}function Pr(t,e){const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gc(t).isEqual(Gc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Hi(r.timestampValue),o=Hi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Ca(t.bytesValue).isEqual(Ca(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=rt(r.doubleValue),o=rt(i.doubleValue);return s===o?af(s)===af(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(AN(s)!==AN(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Pr(s[a],o[a])))return!1;return!0}(t,e);default:return j()}var i}function Wc(t,e){return void 0!==(t.values||[]).find(n=>Pr(n,e))}function Da(t,e){const n=zs(t),r=zs(e);if(n!==r)return le(n,r);switch(n){case 0:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=rt(i.integerValue||i.doubleValue),a=rt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return kN(t.timestampValue,e.timestampValue);case 4:return kN(Gc(t),Gc(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ca(i),a=Ca(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=le(o[u],a[u]);if(0!==c)return c}return le(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=le(rt(i.latitude),rt(s.latitude));return 0!==o?o:le(rt(i.longitude),rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=Da(o[u],a[u]);if(c)return c}return le(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=le(a[l],c[l]);if(0!==d)return d;const h=Da(o[a[l]],u[c[l]]);if(0!==h)return h}return le(a.length,c.length)}(t.mapValue,e.mapValue);default:throw j()}}function kN(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return le(t,e);const n=Hi(t),r=Hi(e),i=le(n.seconds,r.seconds);return 0!==i?i:le(n.nanos,r.nanos)}function Iv(t){return bv(t)}function bv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Hi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ca(t.bytesValue).toBase64():"referenceValue"in t?V.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=bv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${bv(r.fields[a])}`;return s+"}"}(t.mapValue):j();var e}function Cv(t){return!!t&&"integerValue"in t}function Dv(t){return!!t&&"arrayValue"in t}function MN(t){return!!t&&"nullValue"in t}function PN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cf(t){return!!t&&"mapValue"in t}function zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return Object.assign({},t)}class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=zc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(zc(this.value))}}function ON(t){const e=[];return Gs(t.fields,(n,r)=>{const i=new Wt([n]);if(cf(r)){const s=ON(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ba(e)}class Pe{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Pe(e,0,ne.min(),zt.empty(),0)}static newFoundDocument(e,n,r){return new Pe(e,1,n,r,0)}static newNoDocument(e,n){return new Pe(e,2,n,zt.empty(),0)}static newUnknownDocument(e,n){return new Pe(e,3,n,zt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Pe(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class d7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function FN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new d7(t,e,n,r,i,s,o)}function Kc(t){const e=k(t);if(null===e.R){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+Iv(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ws(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hf(e.startAt)),e.endAt&&(n+="|ub:",n+=hf(e.endAt)),e.R=n}return e.R}function lf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!E7(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Pr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!UN(t.startAt,e.startAt)&&UN(t.endAt,e.endAt)}function df(t){return V.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class cn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.P(e,n,r):new p7(e,n,r):"array-contains"===n?new y7(e,r):"in"===n?new _7(e,r):"not-in"===n?new v7(e,r):"array-contains-any"===n?new w7(e,r):new cn(e,n,r)}static P(e,n,r){return"in"===n?new g7(e,r):new m7(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Da(n,this.value)):null!==n&&zs(this.value)===zs(n)&&this.v(Da(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return j()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class p7 extends cn{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.v(n)}}class g7 extends cn{constructor(e,n){super(e,"in",n),this.keys=LN(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m7 extends cn{constructor(e,n){super(e,"not-in",n),this.keys=LN(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LN(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class y7 extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dv(n)&&Wc(n.arrayValue,this.value)}}class _7 extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Wc(this.value.arrayValue,n)}}class v7 extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Wc(this.value.arrayValue,n)}}class w7 extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wc(this.value.arrayValue,r))}}class Qc{constructor(e,n){this.position=e,this.before=n}}function hf(t){return`${t.before?"b":"a"}:${t.position.map(e=>Iv(e)).join(",")}`}class Ta{constructor(e,n="asc"){this.field=e,this.dir=n}}function E7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function VN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?V.comparator(V.fromName(o.referenceValue),n.key):Da(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function UN(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pr(t.position[n],e.position[n]))return!1;return!0}class di{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Sa(t){return new di(t)}function ff(t){return!Ws(t.limit)&&"F"===t.limitType}function pf(t){return!Ws(t.limit)&&"L"===t.limitType}function Aa(t){const e=k(t);if(null===e.S){e.S=[];const n=function(t){for(const e of t.filters)if(e.V())return e.field;return null}(e),r=function(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new Ta(n)),e.S.push(new Ta(Wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ta(Wt.keyField(),s))}}}return e.S}function Jn(t){const e=k(t);if(!e.D)if("F"===e.limitType)e.D=FN(e.path,e.collectionGroup,Aa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Aa(e))n.push(new Ta(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Qc(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Qc(e.startAt.position,!e.startAt.before):null;e.D=FN(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function Yc(t,e){return lf(Jn(t),Jn(e))&&t.limitType===e.limitType}function HN(t){return`${Kc(Jn(t))}|lt:${t.limitType}`}function xv(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Iv(r.value)}`;var r}).join(", ")}]`),Ws(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+hf(t.startAt)),t.endAt&&(e+=", endAt: "+hf(t.endAt)),`Target(${e})`}(Jn(t))}; limitType=${t.limitType})`}function Jc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):V.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!VN(n.startAt,Aa(n),r)||n.endAt&&VN(n.endAt,Aa(n),r)));var n,r}function $N(t){return(e,n)=>{let r=!1;for(const i of Aa(t)){const s=I7(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function I7(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Da(a,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}function qN(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function GN(t){return{integerValue:""+t}}function WN(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?GN(e):qN(t,e)}class gf{constructor(){this._=void 0}}function b7(t,e,n){return t instanceof xa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ks?KN(t,e):t instanceof Qs?QN(t,e):function(r,i){const s=zN(r,i),o=YN(s)+YN(r.N);return Cv(s)&&Cv(r.N)?GN(o):qN(r.k,o)}(t,e)}function C7(t,e,n){return t instanceof Ks?KN(t,e):t instanceof Qs?QN(t,e):n}function zN(t,e){return t instanceof Ra?Cv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class xa extends gf{}class Ks extends gf{constructor(e){super(),this.elements=e}}function KN(t,e){const n=JN(e);for(const r of t.elements)n.some(i=>Pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qs extends gf{constructor(e){super(),this.elements=e}}function QN(t,e){let n=JN(e);for(const r of t.elements)n=n.filter(i=>!Pr(i,r));return{arrayValue:{values:n}}}class Ra extends gf{constructor(e,n){super(),this.k=e,this.N=n}}function YN(t){return rt(t.integerValue||t.doubleValue)}function JN(t){return Dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class T7{constructor(e,n){this.version=e,this.transformResults=n}}class it{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new it}static exists(e){return new it(void 0,e)}static updateTime(e){return new it(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class yf{}function S7(t,e,n){t instanceof Zc?function(r,i,s){const o=r.value.clone(),a=tk(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(r,i,s){if(!mf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=tk(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ek(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Rv(t,e,n){var i;t instanceof Zc?function(r,i,s){if(!mf(r.precondition,i))return;const o=r.value.clone(),a=nk(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(ZN(i),o).setHasLocalMutations()}(t,e,n):t instanceof $i?function(r,i,s){if(!mf(r.precondition,i))return;const o=nk(r.fieldTransforms,s,i),a=i.data;a.setAll(ek(r)),a.setAll(o),i.convertToFoundDocument(ZN(i),a).setHasLocalMutations()}(t,e,n):mf(t.precondition,i=e)&&i.convertToNoDocument(ne.min())}function A7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zN(r.transform,i||null);null!=s&&(null==n&&(n=zt.empty()),n.set(r.field,s))}return n||null}function XN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ia(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ks&&r instanceof Ks||n instanceof Qs&&r instanceof Qs?Ia(n.elements,r.elements,Pr):n instanceof Ra&&r instanceof Ra?Pr(n.N,r.N):n instanceof xa&&r instanceof xa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function ZN(t){return t.isFoundDocument()?t.version:ne.min()}class Zc extends yf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class $i extends yf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function ek(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tk(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,C7(o,a,n[i]))}return r}function nk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,b7(s,o,e))}return r}class el extends yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Nv extends yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class x7{constructor(e){this.count=e}}var st,fe;function rk(t){switch(t){default:return j();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function ik(t){if(void 0===t)return nt("GRPC error has no .code"),I.UNKNOWN;switch(t){case st.OK:return I.OK;case st.CANCELLED:return I.CANCELLED;case st.UNKNOWN:return I.UNKNOWN;case st.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case st.INTERNAL:return I.INTERNAL;case st.UNAVAILABLE:return I.UNAVAILABLE;case st.UNAUTHENTICATED:return I.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case st.NOT_FOUND:return I.NOT_FOUND;case st.ALREADY_EXISTS:return I.ALREADY_EXISTS;case st.PERMISSION_DENIED:return I.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case st.ABORTED:return I.ABORTED;case st.OUT_OF_RANGE:return I.OUT_OF_RANGE;case st.UNIMPLEMENTED:return I.UNIMPLEMENTED;case st.DATA_LOSS:return I.DATA_LOSS;default:return j()}}(fe=st||(st={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class lt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Pt.RED,this.left=null!=i?i:Pt.EMPTY,this.right=null!=s?s:Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1,Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sk(this.data.getIterator())}getIteratorFrom(e){return new sk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qe(this.comparator);return n.data=e,n}}class sk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const R7=new lt(V.comparator);function Xn(){return R7}const N7=new lt(V.comparator);function kv(){return N7}const k7=new lt(V.comparator);const M7=new qe(V.comparator);function be(...t){let e=M7;for(const n of t)e=e.add(n);return e}const P7=new qe(le);function vf(){return P7}class tl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,n)),new tl(ne.min(),r,vf(),Xn(),be())}}class nl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new nl(Et.EMPTY_BYTE_STRING,n,be(),be(),be())}}class wf{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.F=i}}class ak{constructor(e,n){this.targetId=e,this.O=n}}class uk{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ck{constructor(){this.M=0,this.L=dk(),this.B=Et.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=be(),n=be(),r=be();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new nl(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=dk()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class O7{constructor(e){this.et=e,this.nt=new Map,this.st=Xn(),this.it=lk(),this.rt=new qe(le)}ot(e){for(const n of e.$)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.O.count,i=this.wt(n);if(i){const s=i.target;if(df(s))if(0===r){const o=new V(s.path);this.ct(n,o,Pe.newNoDocument(o,ne.min()))}else G(1===r);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&df(a.target)){const u=new V(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.ct(o,u,Pe.newNoDocument(u,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=be();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new tl(e,n,this.rt,this.st,r);return this.st=Xn(),this.it=lk(),this.rt=new qe(le),i}at(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new ck,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new qe(le),this.it=this.it.insert(e,n)),n}lt(e){const n=null!==this.wt(e);return n||x("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new ck),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function lk(){return new lt(V.comparator)}function dk(){return new lt(V.comparator)}const F7={asc:"ASCENDING",desc:"DESCENDING"},L7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class V7{constructor(e,n){this.databaseId=e,this.C=n}}function rl(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hk(t,e){return t.C?e.toBase64():e.toUint8Array()}function U7(t,e){return rl(t,e.toTimestamp())}function It(t){return G(!!t),ne.fromTimestamp(function(e){const n=Hi(e);return new Mt(n.seconds,n.nanos)}(t))}function Mv(t,e){return(n=t,new ye(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function fk(t){const e=ye.fromString(t);return G(Dk(e)),e}function il(t,e){return Mv(t.databaseId,e.path)}function Or(t,e){const n=fk(e);if(n.get(1)!==t.databaseId.projectId)throw new A(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(gk(n))}function Pv(t,e){return Mv(t.databaseId,e)}function sl(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gk(t){return G(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function mk(t,e,n){return{name:il(t,e),fields:n.value.mapValue.fields}}function vk(t,e){return{documents:[Pv(t,e.path)]}}function wk(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Pv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Pv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(PN(l.value))return{unaryFilter:{field:Na(l.field),op:"IS_NAN"}};if(MN(l.value))return{unaryFilter:{field:Na(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(PN(l.value))return{unaryFilter:{field:Na(l.field),op:"IS_NOT_NAN"}};if(MN(l.value))return{unaryFilter:{field:Na(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Na(l.field),op:G7(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:Na((c=u).field),direction:q7(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.C||Ws(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=bk(e.startAt)),e.endAt&&(n.structuredQuery.endAt=bk(e.endAt)),n}function Ek(t){let e=function(t){const e=fk(t);return 4===e.length?ye.emptyPath():gk(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=Ik(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ta(ka((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ws(d)?null:d}(n.limit));let u=null;n.startAt&&(u=Ck(n.startAt));let c=null;return n.endAt&&(c=Ck(n.endAt)),function(t,e,n,r,i,s,o,a){return new di(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function Ik(t){return t?void 0!==t.unaryFilter?[z7(t)]:void 0!==t.fieldFilter?[W7(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>Ik(e)).reduce((e,n)=>e.concat(n)):j():[]}function bk(t){return{before:t.before,values:t.position}}function Ck(t){return new Qc(t.values||[],!!t.before)}function q7(t){return F7[t]}function G7(t){return L7[t]}function Na(t){return{fieldPath:t.canonicalString()}}function ka(t){return Wt.fromServerFormat(t.fieldPath)}function W7(t){return cn.create(ka(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(t.fieldFilter.op),t.fieldFilter.value)}function z7(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ka(t.unaryFilter.field);return cn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ka(t.unaryFilter.field);return cn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ka(t.unaryFilter.field);return cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ka(t.unaryFilter.field);return cn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return j()}}function K7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dk(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function vr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Tk(e)),e=Q7(t.get(n),e);return Tk(e)}function Q7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Tk(t){return t+"\x01\x01"}class On{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}On.store="owner",On.key="owner";class qi{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}qi.store="mutationQueues",qi.keyPath="userId";class xe{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}xe.store="mutations",xe.keyPath="batchId",xe.userMutationsIndex="userMutationsIndex",xe.userMutationsKeyPath=["userId","batchId"];class Kt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,vr(n)]}static key(e,n,r){return[e,vr(n),r]}}Kt.store="documentMutations",Kt.PLACEHOLDER=new Kt;class Ge{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}Ge.store="remoteDocuments",Ge.readTimeIndex="readTimeIndex",Ge.readTimeIndexPath="readTime",Ge.collectionReadTimeIndex="collectionReadTimeIndex",Ge.collectionReadTimeIndexPath=["parentPath","readTime"];class Fr{constructor(e){this.byteSize=e}}Fr.store="remoteDocumentGlobal",Fr.key="remoteDocumentGlobalKey";class mn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}mn.store="targets",mn.keyPath="targetId",mn.queryTargetsIndexName="queryTargetsIndex",mn.queryTargetsKeyPath=["canonicalId","targetId"];class Ot{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Ot.store="targetDocuments",Ot.keyPath=["targetId","path"],Ot.documentTargetsIndex="documentTargetsIndex",Ot.documentTargetsKeyPath=["path","targetId"];class Fn{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Fn.key="targetGlobalKey",Fn.store="targetGlobal";class Ys{constructor(e,n){this.collectionId=e,this.parent=n}}Ys.store="collectionParents",Ys.keyPath=["collectionId","parent"];class fi{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}fi.store="clientMetadata",fi.keyPath="clientId";class Ma{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}Ma.store="bundles",Ma.keyPath="bundleId";class Pa{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}Pa.store="namedQueries",Pa.keyPath="name";const Sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Js(t){return"IndexedDbTransactionError"===t.name}class Fv{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&S7(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Rv(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Rv(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ne.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(n,r)=>XN(n,r))&&Ia(this.baseMutations,e.baseMutations,(n,r)=>XN(n,r))}}class Lv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=k7;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lv(e,n,r,i)}}class Gi{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=Et.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Rk{constructor(e){this.Gt=e}}function jv(t){const e=Ek({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new di(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class iz{constructor(){this.zt=new Bv}addToCollectionParentIndex(e,n){return this.zt.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.zt.getEntries(n))}}class Bv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qe(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qe(ye.comparator)).toArray()}}class _n{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Zs{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Zs(0)}static re(){return new Zs(-1)}}function eo(t){return $v.apply(this,arguments)}function $v(){return $v=w(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==Sk)throw t;x("LocalStore","Unexpectedly lost primary lease")}),$v.apply(this,arguments)}class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xN(this.inner)}}class Gk{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Pn(e,n,r))}Pn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return V.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,n.path):function(t){return null!==t.collectionGroup}(n)?this.Dn(e,n,r):this.Cn(e,n,r);var i}Sn(e,n){return this.Rn(e,new V(n)).next(r=>{let i=kv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=kv();return this.Jt.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const u=(c=n,l=a.child(i),new di(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Cn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=Pe.newInvalidDocument(l),i=i.insert(l,d)),Rv(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{Jc(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=be();for(const o of n)for(const a of o.mutations)a instanceof $i&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class zv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zv(e,n.fromCache,r,i)}}class Wk{Fn(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ne.min())?this.Mn(e,n):this.On.vn(e,i).next(s=>{const o=this.Ln(n,s);return(ff(n)||pf(n))&&this.Bn(n.limitType,o,i,r)?this.Mn(e,n):(vv()<=pe.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xv(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,n){let r=new qe($N(e));return n.forEach((i,s)=>{Jc(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mn(e,n){return vv()<=pe.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",xv(n)),this.On.getDocumentsMatchingQuery(e,n,ne.min())}}class mz{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new lt(le),this.Kn=new ja(s=>Kc(s),lf),this.jn=ne.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Gk(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function Kk(t,e){return Kv.apply(this,arguments)}function Kv(){return Kv=w(function*(t,e){const n=k(t);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new Gk(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=be();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}),Kv.apply(this,arguments)}function yz(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const _=u.docVersions.get(f);G(null!==_),p.version.compareTo(_)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.An.performConsistencyCheck(r)).next(()=>n.Wn.vn(r,i))})}function Qk(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function _z(t,e){const n=k(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.He.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.He.addMatchingKeys(s,c.addedDocuments,l)));const h=c.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(l,f),p=d,y=c,G((_=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.He.updateTargetData(s,f))}var p,_,y});let u=Xn();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=be();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=Xn();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):x("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(ne.min())){const c=n.He.getLastRemoteSnapshotVersion(s).next(l=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,u)).next(()=>u)}).then(s=>(n.qn=i,s))}function vz(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(r,e)))}function Ba(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new Gi(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}function Ha(t,e,n){return Qv.apply(this,arguments)}function Qv(){return Qv=w(function*(t,e,n){const r=k(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Js(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),Qv.apply(this,arguments)}function Sf(t,e,n){const r=k(t);let i=ne.min(),s=be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=k(a),d=l.Kn.get(c);return void 0!==d?C.resolve(l.qn.get(d)):l.He.getTargetData(u,c)}(r,o,Jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:be())).next(a=>({documents:a,zn:s})))}class bz{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return C.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:It(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,{name:(r=n).name,query:jv(r.bundledQuery),readTime:It(r.readTime)}),C.resolve();var r}}class Zv{constructor(){this.ts=new qe(bt.es),this.ns=new qe(bt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new bt(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new bt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new V(new ye([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new V(new ye([])),r=new bt(n,e),i=new bt(n,e+1);let s=be();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.ts.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return V.comparator(e.key,n.key)||le(e.fs,n.fs)}static ss(e,n){return le(e.fs,n.fs)||V.comparator(e.key,n.key)}}class Cz{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new qe(bt.es)}checkEmpty(e){return C.resolve(0===this.An.length)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++;const o=new Fv(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new bt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.gs(n+1),s=i<0?0:i;return C.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return C.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qe(le);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),C.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new bt(new V(s),0);let a=new qe(le);return this.ws.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.fs)),!0)},o),C.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){G(0===this.ps(n.batchId,"removed")),this.An.shift();let r=this.ws;return C.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new bt(n,0),i=this.ws.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}ps(e,n){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}class Dz{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new lt(V.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.clone():Pe.newInvalidDocument(n))}getEntries(e,n){let r=Xn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Pe.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=Xn();const s=new V(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||Jc(n,u)&&(i=i.insert(u.key,u.clone()))}return C.resolve(i)}Es(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Tz(this)}getSize(e){return C.resolve(this.size)}}class Tz extends class{constructor(){this.changes=new ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:ne.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Pe.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?C.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}class Sz{constructor(e){this.persistence=e,this.Is=new ja(n=>Kc(n),lf),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.As=0,this.Rs=new Zv,this.targetCount=0,this.Ps=Zs.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),C.resolve()}ce(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ps=new Zs(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.ce(n),C.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.Rs.containsKey(n))}}class Az{constructor(e,n){this.bs={},this.Be=new Pn(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Sz(this),this.Jt=new iz,this.Je=new Dz(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new Rk(n),this.Ye=new bz(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new Cz(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const i=new xz(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return C.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class xz extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class ew{constructor(e){this.persistence=e,this.Cs=new Zv,this.Ns=null}static ks(e){return new ew(e)}get xs(){if(this.Ns)return this.Ns;throw j()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),C.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.xs,r=>{const i=V.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return C.or([()=>C.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class rw{constructor(){this.activeTargetIds=vf()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tM{constructor(){this.pi=new rw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new rw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Rz{Ei(e){}shutdown(){}}class nM{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Nz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class kz{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class Mz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);x("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(x("RestConnection","Received: ",u),u),u=>{throw of("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ea,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){return`${this.Mi}/v1/${n}:${Nz[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new t7;a.listenOnce(X5.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case _v.NO_ERROR:const c=a.getResponseJson();x("Connection","XHR received:",JSON.stringify(c)),s(c);break;case _v.TIMEOUT:x("Connection",'RPC "'+e+'" timed out'),o(new A(I.DEADLINE_EXCEEDED,"Request time out"));break;case _v.HTTP_ERROR:const l=a.getStatus();if(x("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(p)>=0?p:I.UNKNOWN}(d.status);o(new A(h,d.message))}else o(new A(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new A(I.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{x("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Qi(e,n,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Y5(),o=J5(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new e7({})),this.qi(a.initMessageHeaders,n,r),zx()||Qx()||_t().indexOf("Electron/")>=0||Yx()||_t().indexOf("MSAppHost/")>=0||Kx()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");x("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new kz({Vi:p=>{d?x("Connection","Not sending because WebChannel is closed:",p):(l||(x("Connection","Opening WebChannel transport."),c.open(),l=!0),x("Connection","WebChannel sending:",p),c.send(p))},Si:()=>c.close()}),f=(p,_,y)=>{p.listen(_,E=>{try{y(E)}catch(v){setTimeout(()=>{throw v},0)}})};return f(c,sf.EventType.OPEN,()=>{d||x("Connection","WebChannel transport opened.")}),f(c,sf.EventType.CLOSE,()=>{d||(d=!0,x("Connection","WebChannel transport closed"),h.Fi())}),f(c,sf.EventType.ERROR,p=>{d||(d=!0,of("Connection","WebChannel transport errored:",p),h.Fi(new A(I.UNAVAILABLE,"The operation could not be completed")))}),f(c,sf.EventType.MESSAGE,p=>{var _;if(!d){const y=p.data[0];G(!!y);const E=y,v=E.error||(null===(_=E[0])||void 0===_?void 0:_.error);if(v){x("Connection","WebChannel received error:",v);const T=v.status;let N=function(_e){const Ne=st[_e];if(void 0!==Ne)return ik(Ne)}(T),U=v.message;void 0===N&&(N=I.INTERNAL,U="Unknown error status: "+T+" with message "+v.message),d=!0,h.Fi(new A(N,U)),c.close()}else x("Connection","WebChannel received:",y),h.Oi(y)}}),f(o,Z5.STAT_EVENT,p=>{p.stat===IN.PROXY?x("Connection","Detected buffering proxy"):p.stat===IN.NOPROXY&&x("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Rf(){return"undefined"!=typeof document?document:null}function ll(t){return new V7(t,!0)}class sw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class iM{constructor(e,n,r,i,s,o,a,u){this.Oe=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new sw(e,n)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return w(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return w(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return w(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(nt(n.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(n)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new A(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(w(function*(){e.state=0,e.start()}))}Ar(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Oe.enqueueAndForget(()=>this.rr===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pz extends iM{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:j(),i=e.targetChange.targetIds||[],s=function(u,c){return u.C?(G(void 0===c||"string"==typeof c),Et.fromBase64String(c||"")):(G(void 0===c||c instanceof Uint8Array),Et.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:ik(u.code);return new A(c,u.message||"")}(o);n=new uk(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Or(t,r.document.name),s=It(r.document.updateTime),o=new zt({mapValue:{fields:r.document.fields}}),a=Pe.newFoundDocument(i,s,o);n=new wf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Or(t,r.document),s=r.readTime?It(r.readTime):ne.min(),o=Pe.newNoDocument(i,s);n=new wf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Or(t,r.document);n=new wf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return j();{const r=e.filter,s=new x7(r.count||0);n=new ak(r.targetId,s)}}var u;return n}(this.k,e),r=function(i){if(!("targetChange"in i))return ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?It(s.readTime):ne.min()}(e);return this.listener.Pr(n,r)}br(e){const n={};n.database=sl(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=df(a)?{documents:vk(i,a)}:{query:wk(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=hk(i,s.resumeToken):s.snapshotVersion.compareTo(ne.min())>0&&(o.readTime=rl(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=sl(this.k),n.removeTarget=e,this.gr(n)}}class Oz extends iM{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,n){return this.ir.Qi("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const n=function(t,e){return t&&t.length>0?(G(void 0!==e),t.map(n=>function(r,i){let s=It(r.updateTime?r.updateTime:i);return s.isEqual(ne.min())&&(s=It(i)),new T7(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.Cr(r,n)}return G(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=sl(this.k),this.gr(e)}Dr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function(t,e){let n;if(e instanceof Zc)n={update:mk(t,e.key,e.value)};else if(e instanceof el)n={delete:il(t,e.key)};else if(e instanceof $i)n={update:mk(t,e.key,e.data),updateMask:K7(e.fieldMask)};else{if(!(e instanceof Nv))return j();n={verify:il(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ra)return{fieldPath:s.field.canonicalString(),increment:o.N};throw j()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:U7(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:j()),n;var i}(this.k,r))};this.gr(n)}}class Fz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new A(I.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(I.UNKNOWN,i.toString())})}ji(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(I.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class Lz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(nt(n),this.Lr=!1):x("OnlineStateTracker",n)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Vz{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(w(function*(){var u;Qi(o)&&(x("RemoteStore","Restarting streams for network reachability change."),yield(u=w(function*(c){const l=k(c);l.Gr.add(4),yield $a(l),l.Jr.set("Unknown"),l.Gr.delete(4),yield dl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Jr=new Lz(r,i)}}function dl(t){return ow.apply(this,arguments)}function ow(){return ow=w(function*(t){if(Qi(t))for(const e of t.zr)yield e(!0)}),ow.apply(this,arguments)}function $a(t){return aw.apply(this,arguments)}function aw(){return aw=w(function*(t){for(const e of t.zr)yield e(!1)}),aw.apply(this,arguments)}function Nf(t,e){const n=k(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),lw(n)?cw(n):Ga(n).lr()&&uw(n,e))}function hl(t,e){const n=k(t),r=Ga(n);n.Wr.delete(e),r.lr()&&sM(n,e),0===n.Wr.size&&(r.lr()?r._r():Qi(n)&&n.Jr.set("Unknown"))}function uw(t,e){t.Yr.X(e.targetId),Ga(t).br(e)}function sM(t,e){t.Yr.X(e),Ga(t).vr(e)}function cw(t){t.Yr=new O7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),Ga(t).start(),t.Jr.Br()}function lw(t){return Qi(t)&&!Ga(t).hr()&&t.Wr.size>0}function Qi(t){return 0===k(t).Gr.size}function oM(t){t.Yr=void 0}function Uz(t){return dw.apply(this,arguments)}function dw(){return dw=w(function*(t){t.Wr.forEach((e,n)=>{uw(t,e)})}),dw.apply(this,arguments)}function jz(t,e){return hw.apply(this,arguments)}function hw(){return hw=w(function*(t,e){oM(t),lw(t)?(t.Jr.Kr(e),cw(t)):t.Jr.set("Unknown")}),hw.apply(this,arguments)}function Bz(t,e,n){return fw.apply(this,arguments)}function fw(){return fw=w(function*(t,e,n){if(t.Jr.set("Online"),e instanceof uk&&2===e.state&&e.cause)try{yield(r=w(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield kf(t,r)}else if(e instanceof wf?t.Yr.ot(e):e instanceof ak?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(ne.min()))try{const r=yield Qk(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Wr.get(u);c&&i.Wr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(Et.EMPTY_BYTE_STRING,u.snapshotVersion)),sM(i,a);const c=new Gi(u.target,a,1,u.sequenceNumber);uw(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){x("RemoteStore","Failed to raise snapshot:",r),yield kf(t,r)}var r}),fw.apply(this,arguments)}function kf(t,e,n){return pw.apply(this,arguments)}function pw(){return pw=w(function*(t,e,n){if(!Js(e))throw e;t.Gr.add(1),yield $a(t),t.Jr.set("Offline"),n||(n=()=>Qk(t.localStore)),t.asyncQueue.enqueueRetryable(w(function*(){x("RemoteStore","Retrying IndexedDB access"),yield n(),t.Gr.delete(1),yield dl(t)}))}),pw.apply(this,arguments)}function aM(t,e){return e().catch(n=>kf(t,n,e))}function qa(t){return gw.apply(this,arguments)}function gw(){return gw=w(function*(t){const e=k(t),n=Yi(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Hz(e);)try{const i=yield vz(e.localStore,r);if(null===i){0===e.Qr.length&&n._r();break}r=i.batchId,$z(e,i)}catch(i){yield kf(e,i)}uM(e)&&cM(e)}),gw.apply(this,arguments)}function Hz(t){return Qi(t)&&t.Qr.length<10}function $z(t,e){t.Qr.push(e);const n=Yi(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function uM(t){return Qi(t)&&!Yi(t).hr()&&t.Qr.length>0}function cM(t){Yi(t).start()}function qz(t){return mw.apply(this,arguments)}function mw(){return mw=w(function*(t){Yi(t).kr()}),mw.apply(this,arguments)}function Gz(t){return yw.apply(this,arguments)}function yw(){return yw=w(function*(t){const e=Yi(t);for(const n of t.Qr)e.Dr(n.mutations)}),yw.apply(this,arguments)}function Wz(t,e,n){return _w.apply(this,arguments)}function _w(){return _w=w(function*(t,e,n){const r=t.Qr.shift(),i=Lv.from(r,e,n);yield aM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield qa(t)}),_w.apply(this,arguments)}function zz(t,e){return vw.apply(this,arguments)}function vw(){return vw=w(function*(t,e){var n;e&&Yi(t).Sr&&(yield(n=w(function*(r,i){if(rk(s=i.code)&&s!==I.ABORTED){const o=r.Qr.shift();Yi(r).wr(),yield aM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield qa(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),uM(t)&&cM(t)}),vw.apply(this,arguments)}function Ew(){return Ew=w(function*(t,e){const n=k(t);e?(n.Gr.delete(2),yield dl(n)):e||(n.Gr.add(2),yield $a(n),n.Jr.set("Unknown"))}),Ew.apply(this,arguments)}function Ga(t){return t.Xr||(t.Xr=function(e,n,r){const i=k(e);return i.Fr(),new Pz(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:Uz.bind(null,t),Ni:jz.bind(null,t),Pr:Bz.bind(null,t)}),t.zr.push(function(){var e=w(function*(n){n?(t.Xr.wr(),lw(t)?cw(t):t.Jr.set("Unknown")):(yield t.Xr.stop(),oM(t))});return function(n){return e.apply(this,arguments)}}())),t.Xr}function Yi(t){return t.Zr||(t.Zr=function(e,n,r){const i=k(e);return i.Fr(),new Oz(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:qz.bind(null,t),Ni:zz.bind(null,t),Nr:Gz.bind(null,t),Cr:Wz.bind(null,t)}),t.zr.push(function(){var e=w(function*(n){n?(t.Zr.wr(),yield qa(t)):(yield t.Zr.stop(),t.Qr.length>0&&(x("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Zr}class Iw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Iw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wa(t,e){if(nt("AsyncQueue",`${e}: ${t}`),Js(t))return new A(I.UNAVAILABLE,`${e}: ${t}`);throw t}class za{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=kv(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new za(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lM{constructor(){this.eo=new lt(V.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(n,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(n):1===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):j():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ka{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ka(e,n,za.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Kz{constructor(){this.so=void 0,this.listeners=[]}}class Qz{constructor(){this.queries=new ja(e=>HN(e),Yc),this.onlineState="Unknown",this.io=new Set}}function Cw(){return Cw=w(function*(t,e){const n=k(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Kz),i)try{s.so=yield n.onListen(r)}catch(o){const a=Wa(o,`Initialization of query '${xv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&Sw(n)}),Cw.apply(this,arguments)}function Tw(){return Tw=w(function*(t,e){const n=k(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Tw.apply(this,arguments)}function Yz(t,e){const n=k(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&Sw(n)}function Jz(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Sw(t){t.io.forEach(e=>{e.next()})}class Aw{constructor(e,n,r){this.query=e,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.ho(e)&&(this.ao.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){return!e.fromCache||!(this.options.wo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class fM{constructor(e){this.key=e}}class pM{constructor(e){this.key=e}}class gM{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=be(),this.mutatedKeys=be(),this.Ao=$N(e),this.Ro=new za(this.Ao)}get Po(){return this.To}bo(e,n){const r=n?n.vo:new lM,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=ff(this.query)&&i.size===this.query.limit?i.last():null,c=pf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Jc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),y=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Ao(f,u)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),ff(this.query)||pf(this.query))for(;o.size>this.query.limit;){const l=ff(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return f(d)-f(h)}(c.type,l.type)||this.Ao(c.doc,l.doc)),this.So(r);const o=n?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new Ka(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new lM,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=be(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new pM(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new fM(r))}),n}ko(e){this.To=e.zn,this.Io=be();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return Ka.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class eK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tK{constructor(e){this.key=e,this.$o=!1}}class nK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new ja(a=>HN(a),Yc),this.Mo=new Map,this.Lo=new Set,this.Bo=new lt(V.comparator),this.Uo=new Map,this.qo=new Zv,this.Ko={},this.jo=new Map,this.Qo=Zs.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function rK(t,e){return xw.apply(this,arguments)}function xw(){return xw=w(function*(t,e){const n=Xw(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Ba(n.localStore,Jn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Rw(n,e,r,"current"===a),n.isPrimaryClient&&Nf(n.remoteStore,o)}return i}),xw.apply(this,arguments)}function Rw(t,e,n,r){return Nw.apply(this,arguments)}function Nw(){return Nw=w(function*(t,e,n,r){t.Go=(l,d,h)=>{return(f=w(function*(p,_,y,E){let v=_.view.bo(y);v.Bn&&(v=yield Sf(p.localStore,_.query,!1).then(({documents:U})=>_.view.bo(U,v)));const T=E&&E.targetChanges.get(_.targetId),N=_.view.applyChanges(v,p.isPrimaryClient,T);return Bw(p,_.targetId,N.Co),N.snapshot}),function(p,_,y,E){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Sf(t.localStore,e,!0),s=new gM(e,i.zn),o=s.bo(i.documents),a=nl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);Bw(t,n,u.Co);const c=new eK(e,n,s);return t.Oo.set(e,c),t.Mo.has(n)?t.Mo.get(n).push(e):t.Mo.set(n,[e]),u.snapshot}),Nw.apply(this,arguments)}function iK(t,e){return kw.apply(this,arguments)}function kw(){return kw=w(function*(t,e){const n=k(t),r=n.Oo.get(e),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(s=>!Yc(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ha(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),hl(n.remoteStore,r.targetId),Qa(n,r.targetId)}).catch(eo))):(Qa(n,r.targetId),yield Ha(n.localStore,r.targetId,!0))}),kw.apply(this,arguments)}function Mw(){return Mw=w(function*(t,e,n){const r=Zw(t);try{const i=yield function(s,o){const a=k(s),u=Mt.now(),c=o.reduce((d,h)=>d.add(h.key),be());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,c).next(h=>{l=h;const f=[];for(const p of o){const _=A7(p,l.get(p.key));null!=_&&f.push(new $i(p.key,_,ON(_.value.mapValue),it.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new lt(le)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,n),yield pi(r,i.changes),yield qa(r.remoteStore)}catch(i){const s=Wa(i,"Failed to persist write");n.reject(s)}}),Mw.apply(this,arguments)}function mM(t,e){return Pw.apply(this,arguments)}function Pw(){return Pw=w(function*(t,e){const n=k(t);try{const r=yield _z(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?G(o.$o):i.removedDocuments.size>0&&(G(o.$o),o.$o=!1))}),yield pi(n,r,e)}catch(r){yield eo(r)}}),Pw.apply(this,arguments)}function yM(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.ro(o)&&(u=!0)}),u&&Sw(a)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oK(t,e,n){return Ow.apply(this,arguments)}function Ow(){return Ow=w(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new lt(V.comparator);o=o.insert(s,Pe.newNoDocument(s,ne.min()));const a=be().add(s),u=new tl(ne.min(),new Map,new qe(le),o,a);yield mM(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),Hw(r)}else yield Ha(r.localStore,e,!1).then(()=>Qa(r,e,n)).catch(eo)}),Ow.apply(this,arguments)}function aK(t,e){return Fw.apply(this,arguments)}function Fw(){return Fw=w(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield yz(n.localStore,e);jw(n,r,null),Uw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield pi(n,i)}catch(i){yield eo(i)}}),Fw.apply(this,arguments)}function uK(t,e,n){return Lw.apply(this,arguments)}function Lw(){return Lw=w(function*(t,e,n){const r=k(t);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.An.lookupMutationBatch(u,o).next(l=>(G(null!==l),c=l.keys(),a.An.removeMutationBatch(u,l))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,c))})}(r.localStore,e);jw(r,e,n),Uw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield pi(r,i)}catch(i){yield eo(i)}}),Lw.apply(this,arguments)}function Uw(t,e){(t.jo.get(e)||[]).forEach(n=>{n.resolve()}),t.jo.delete(e)}function jw(t,e,n){const r=k(t);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function Qa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Mo.get(e))t.Oo.delete(r),n&&t.Fo.zo(r,n);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||_M(t,r)})}function _M(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(hl(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),Hw(t))}function Bw(t,e,n){for(const r of n)r instanceof fM?(t.qo.addReference(r.key,e),lK(t,r)):r instanceof pM?(x("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||_M(t,r.key)):j()}function lK(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(x("SyncEngine","New document in limbo: "+n),t.Lo.add(r),Hw(t))}function Hw(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new V(ye.fromString(e)),r=t.Qo.next();t.Uo.set(r,new tK(n)),t.Bo=t.Bo.insert(n,r),Nf(t.remoteStore,new Gi(Jn(Sa(n.path)),r,2,Pn.I))}}function pi(t,e,n){return $w.apply(this,arguments)}function $w(){return $w=w(function*(t,e,n){const r=k(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Go(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=zv.$n(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Fo.Pr(i),yield(a=w(function*(u,c){const l=k(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.kn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Js(d))throw d;x("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qn.get(h),_=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qn=l.qn.insert(h,_)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),$w.apply(this,arguments)}function dK(t,e){return qw.apply(this,arguments)}function qw(){return qw=w(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=yield Kk(n.localStore,e);n.currentUser=e,(i=n).jo.forEach(o=>{o.forEach(a=>{a.reject(new A(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pi(n,r.Gn)}var i}),qw.apply(this,arguments)}function hK(t,e){const n=k(t),r=n.Uo.get(e);if(r&&r.$o)return be().add(r.key);{let i=be();const s=n.Mo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Po)}return i}}function Xw(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oK.bind(null,e),e.Fo.Pr=Yz.bind(null,e.eventManager),e.Fo.zo=Jz.bind(null,e.eventManager),e}function Zw(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uK.bind(null,e),e}class EK{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return w(function*(){n.k=ll(e.databaseInfo.databaseId),n.sharedClientState=n.Jo(e),n.persistence=n.Yo(e),yield n.persistence.start(),n.gcScheduler=n.Xo(e),n.localStore=n.Zo(e)})()}Xo(e){return null}Zo(e){return function(t,e,n,r){return new mz(t,e,n,r)}(this.persistence,new Wk,e.initialUser,this.k)}Yo(e){return new Az(ew.ks,this.k)}Jo(e){return new tM}terminate(){var e=this;return w(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eE{initialize(e,n){var r=this;return w(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>yM(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=dK.bind(null,r.syncEngine),yield function(t,e){return Ew.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Qz}createDatastore(e){const n=ll(e.databaseInfo.databaseId),r=new Mz(e.databaseInfo);return new Fz(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>yM(this.syncEngine,a,0),o=nM.bt()?new nM:new Rz,new Vz(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new nK(r,i,s,o,a,u);return c&&(l.Wo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=w(function*(n){const r=k(n);x("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield $a(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class SK{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=TN.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=w(function*(a){x("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return w(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Wa(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function IM(t,e){return tE.apply(this,arguments)}function tE(){return tE=w(function*(t,e){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=w(function*(s){r.isEqual(s)||(yield Kk(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),tE.apply(this,arguments)}function bM(t,e){return nE.apply(this,arguments)}function nE(){return nE=w(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield rE(t);x("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=w(function*(o,a){const u=k(o);u.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const c=Qi(u);u.Gr.add(3),yield $a(u),c&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield dl(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),nE.apply(this,arguments)}function rE(t){return iE.apply(this,arguments)}function iE(){return iE=w(function*(t){return t.offlineComponents||(x("FirestoreClient","Using default OfflineComponentProvider"),yield IM(t,new EK)),t.offlineComponents}),iE.apply(this,arguments)}function Pf(t){return sE.apply(this,arguments)}function sE(){return sE=w(function*(t){return t.onlineComponents||(x("FirestoreClient","Using default OnlineComponentProvider"),yield bM(t,new eE)),t.onlineComponents}),sE.apply(this,arguments)}function uE(){return uE=w(function*(t){const e=yield Pf(t),n=e.eventManager;return n.onListen=rK.bind(null,e.syncEngine),n.onUnlisten=iK.bind(null,e.syncEngine),n}),uE.apply(this,arguments)}function TM(t,e,n={}){const r=new wt;return t.asyncQueue.enqueueAndForget(w(function*(){return function(i,s,o,a,u){const c=new Mf({next:d=>{s.enqueueAndForget(()=>function(t,e){return Tw.apply(this,arguments)}(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new A(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new A(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new Aw(Sa(o.path),c,{includeMetadataChanges:!0,wo:!0});return function(t,e){return Cw.apply(this,arguments)}(i,l)}(yield function(t){return uE.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}class FK{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}const AM=new Map;function cE(t,e,n){if(!n)throw new A(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xM(t){if(!V.isDocumentKey(t))throw new A(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Of(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":j()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Of(t);throw new A(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class kM{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new A(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new A(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new A(I.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kM({}),this._settingsFrozen=!1,e instanceof fl?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new A(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(i.options.projectId)}(e))}get app(){if(!this._app)throw new A(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new A(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kM(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new n7;switch(n.type){case"gapi":const r=n.client;return G(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new o7(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new A(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=AM.get(e);n&&(x("ComponentProvider","Removing Datastore"),AM.delete(e),n.terminate())}(this),Promise.resolve()}}class Qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qe(this.firestore,e,this._key)}}class Qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qt(this.firestore,e,this._query)}}class Lr extends Qt{constructor(e,n,r){super(e,n,Sa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new V(e))}withConverter(e){return new Lr(this.firestore,e,this._path)}}function Ji(t,e,...n){if(t=gn(t),1===arguments.length&&(e=TN.A()),cE("doc","path",e),t instanceof pl){const r=ye.fromString(e,...n);return xM(r),new Qe(t,null,new V(r))}{if(!(t instanceof Qe||t instanceof Lr))throw new A(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return xM(r),new Qe(t.firestore,t instanceof Lr?t.converter:null,new V(r))}}class UK{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new sw(this,"async_queue_retry"),this.Ra=()=>{const n=Rf();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=Rf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const n=Rf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const n=new wt;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return w(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(n){if(!Js(n))throw n;x("AsyncQueue","Operation failed with retryable error: "+n)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const n=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,nt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=n,n}enqueueAfterDelay(e,n,r){this.Pa(),this.Aa.indexOf(e)>-1&&(n=0);const i=Iw.createAndSchedule(this,e,n,r,s=>this.Va(s));return this.pa.push(i),i}Pa(){this.Ta&&j()}verifyOperationInProgress(){}Sa(){var e=this;return w(function*(){let n;do{n=e.ma,yield n}while(n!==e.ma)})()}Da(e){for(const n of this.pa)if(n.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.pa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const n=this.pa.indexOf(e);this.pa.splice(n,1)}}class Ve extends pl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new UK,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||MM(this),this._firestoreClient.terminate()}}function Ct(t){return t._firestoreClient||MM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function MM(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new FK(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new SK(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Ja{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new A(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(Et.fromBase64String(e))}catch(n){throw new A(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dE{constructor(e){this._methodName=e}}class hE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}const HK=/^__.*__$/;class $K{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(e,this.data,n,this.fieldTransforms)}}class FM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class Ff{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ka(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new Ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$a({path:r,Oa:!1});return i.Ma(e),i}La(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$a({path:r,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return Lf(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(LM(this.xa)&&HK.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class qK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.k=r||ll(e)}ja(e,n,r,i=!1){return new Ff({xa:e,methodName:n,Ka:r,path:Wt.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Xa(t){const e=t._freezeSettings(),n=ll(t._databaseId);return new qK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fE(t,e,n,r,i,s={}){const o=t.ja(s.merge||s.mergeFields?2:0,e,n,i);gE("Data must be an object, but it was:",o,r);const a=HM(r,o);let u,c;if(s.merge)u=new ba(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=mE(e,d,n);if(!o.contains(h))throw new A(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qM(l,h)||l.push(h)}u=new ba(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new $K(new zt(a),u,c)}class gl extends dE{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gl}}function no(t,e){if($M(t=gn(t)))return gE("Unsupported field value:",e,t),HM(t,e);if(t instanceof dE)return function(n,r){if(!LM(r.xa))throw r.Ua(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=no(o,r.Ba(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=gn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return WN(r.k,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:rl(r.k,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rl(r.k,i)}}if(n instanceof hE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof to)return{bytesValue:hk(r.k,n._byteString)};if(n instanceof Qe){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Ua(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Ua(`Unsupported field value: ${Of(n)}`)}(t,e)}function HM(t,e){const n={};return xN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,i)=>{const s=no(i,e.Fa(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function $M(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof hE||t instanceof to||t instanceof Qe||t instanceof dE)}function gE(t,e,n){if(!$M(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Of(n);throw e.Ua("an object"===r?t+" a custom object":t+" "+r)}var r}function mE(t,e,n){if((e=gn(e))instanceof Ja)return e._internalPath;if("string"==typeof e)return yE(t,e);throw Lf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const KK=new RegExp("[~\\*/\\[\\]]");function yE(t,e,n){if(e.search(KK)>=0)throw Lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ja(...e.split("."))._internalPath}catch(r){throw Lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new A(I.INVALID_ARGUMENT,a+t+u)}function qM(t,e){return t.some(n=>n.isEqual(e))}class _E{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class QK extends _E{data(){return super.data()}}function Vf(t,e){return"string"==typeof e?yE(t,e):e instanceof Ja?e._internalPath:e._delegate._internalPath}class ro{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends _E{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uf extends Za{data(e={}){return super.data(e)}}function tu(t){t=ge(t,Qe);const e=ge(t.firestore,Ve);return TM(Ct(e),t._key).then(n=>function(t,e,n){const r=n.docs.get(e._key),i=new io(t);return new Za(t,i,e._key,r,new ro(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class io extends class{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){const r={};return Gs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new hE(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=RN(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);G(Dk(r));const i=new fl(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function ZM(t,e,n,...r){t=ge(t,Qe);const i=ge(t.firestore,Ve),s=Xa(i);let o;return o="string"==typeof(e=gn(e))||e instanceof Ja?function(t,e,n,r,i,s){const o=t.ja(1,e,n),a=[mE(e,r,n)],u=[i];if(s.length%2!=0)throw new A(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(mE(e,s[h])),u.push(s[h+1]);const c=[],l=zt.empty();for(let h=a.length-1;h>=0;--h)if(!qM(c,a[h])){const f=a[h];let p=u[h];p=gn(p);const _=o.La(f);if(p instanceof gl)c.push(f);else{const y=no(p,_);null!=y&&(c.push(f),l.set(f,y))}}const d=new ba(c);return new FM(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function(t,e,n,r){const i=t.ja(1,e,n);gE("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();Gs(r,(u,c)=>{const l=yE(e,u,n);c=gn(c);const d=i.La(l);if(c instanceof gl)s.push(l);else{const h=no(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new ba(s);return new FM(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),ml(i,[o.toMutation(t._key,it.exists(!0))])}function ml(t,e){return function(n,r){const i=new wt;return n.asyncQueue.enqueueAndForget(w(function*(){return function(t,e,n){return Mw.apply(this,arguments)}(yield function(t){return Pf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Ct(t),e)}function so(t){var e,n,r,i=z(t+"_input"),s=document.getElementById(t+"_icon"),o=document.getElementById(t+"_help");let a=null;a=null==z("password_input")?"":new RegExp(z("password_input").value);var u={email:{message:"must be a valid email",pattern:/\S+@\S+\.\S+/},password:{message:"must be at least 8 characters long",pattern:/.{8,}/},nickname:{message:"must be a non-spaced phrase",pattern:/^\S+/},confirm_password:{message:"must match the password above",pattern:a}};return null!=i&&null!=s&&null!=o?""==String(i.value)?(i.classList.remove("is-danger"),i.classList.remove("is-success"),s.classList.remove("fa-exclamation-triangle"),s.classList.remove("fa-check"),o.innerHTML="",null===(e=i.parentElement)||void 0===e||e.classList.remove("has-icons-right"),!1):String(i.value.match(u[t].pattern))==i.value?(null===(n=i.parentElement)||void 0===n||n.classList.add("has-icons-right"),i.classList.add("is-success"),i.classList.remove("is-danger"),s.classList.add("fa-check"),s.classList.remove("fa-exclamation-triangle"),o.innerHTML="",!0):(null===(r=i.parentElement)||void 0===r||r.classList.add("has-icons-right"),i.classList.remove("is-success"),i.classList.add("is-danger"),s.classList.remove("fa-check"),s.classList.add("fa-exclamation-triangle"),o.innerHTML=u[t].message,!1):(window.alert("something gone wrong :("),!1)}function yl(){var t=window.sessionStorage.getItem("log");("true"==t&&["#/login","#/register"].includes(location.hash)||"false"==t&&["#/profile","#/test"].includes(location.hash))&&("#/test"==location.hash?location.hash="#/login":location.hash="#/")}function z(t){return document.getElementById(t)}function Zn(t,e=0){return document.getElementsByName(t)[e]}function Bf(t,e=0){return document.getElementsByClassName(t)[e]}function oo(t){return new Promise(e=>setTimeout(e,t))}function r9(t,e){var n=Number(t);return"gender"!=e||1!=n&&0!=n?"work_type"!=e||1!=n&&0!=n&&2!=n&&3!=n&&4!=n?"Residence_type"!=e||1!=n&&0!=n?"smoking_status"!=e||1!=n&&0!=n&&2!=n&&3!=n?"hypertension"!=e&&"heart_disease"!=e&&"ever_married"!=e||1!=n&&0!=n?t:{0:"No",1:"Yes"}[n]:{0:"Unknown",1:"formerly smoked",2:"never smoked",3:"smokes"}[n]:{0:"Rural",1:"Urban"}[n]:{0:"Govt_job",1:"Never_worked",2:"Private",3:"Self-employed",4:"children"}[n]:{0:"Female",1:"Male"}[n]}!function(t,e=!0){Ea=Us,Vs(new Os("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ve(i,new i7(n.getProvider("auth-internal")),new a7(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Mr(bN,"3.4.0",t),Mr(bN,"3.4.0","esm2017")}();class i9{constructor(e,n){this._delegate=e,this.firebase=n,kh(e,new Os("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),sR(this._delegate)))}_getService(e,n=Ls){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ls){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){kh(this._delegate,e)}_addOrOverwriteComponent(e){rR(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const eP=new Ps("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),a9=function tP(){const t=function(t){const e={},n={__esModule:!0,initializeApp:function(c,l={}){const d=iR(c,l);if(Xx(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h},app:i,registerVersion:Mr,setLogLevel:aR,onLog:oR,apps:null,SDK_VERSION:Us,INTERNAL:{registerComponent:function(c){const l=c.name,d=l.replace("-compat","");if(Vs(c)&&"PUBLIC"===c.type){const h=(f=i())=>{if("function"!=typeof f[d])throw eP.create("invalid-app-argument",{appName:l});return f[d]()};void 0!==c.serviceProps&&wc(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,l).apply(this,c.multipleInstances?f:[])}}return"PUBLIC"===c.type?n[d]:null},removeApp:function(c){delete e[c]},useAsService:function(c,l){return"serverAuth"===l?null:l},modularAPIs:lu}};function i(c){if(!Xx(e,c=c||Ls))throw eP.create("no-app",{appName:c});return e[c]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(c=>e[c])}}),i.App=t,n}(i9);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:tP,extendNamespace:function(n){wc(t,n)},createSubscribe:eR,ErrorFactory:Ps,deepExtend:wc}),t}(),nP=new Nh("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){nP.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&nP.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const rP=a9;function sP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Mr("@firebase/app-compat","0.1.11",void 0),rP.registerVersion("firebase","9.6.0","app-compat");const g9=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cP=new Ps("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lP=new Nh("@firebase/auth");function $f(t,...e){lP.logLevel<=pe.ERROR&&lP.error(`Auth (${Us}): ${t}`,...e)}function vn(t,...e){throw IE(t,...e)}function Vr(t,...e){return IE(t,...e)}function dP(t,e,n){const r=Object.assign(Object.assign({},g9()),{[e]:n});return new Ps("auth","Firebase",r).create(e,{appName:t.name})}function IE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cP.create(t,...e)}function R(t,e,...n){if(!t)throw IE(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $f(e),new Error(e)}function Xi(t,e){t||Ur(e)}const hP=new Map;function gi(t){Xi(t instanceof Function,"Expected a class definition");let e=hP.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hP.set(t,e),e)}function _l(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function fP(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=zx()||Qx()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===fP()||"https:"===fP()||Kx()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function CE(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const w9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},E9=new vl(3e4,6e4);function dt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Dt(t,e,n,r){return TE.apply(this,arguments)}function TE(){return TE=w(function*(t,e,n,r,i={}){return pP(t,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Rh(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(DE.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),DE.fetch()(gP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}),TE.apply(this,arguments)}function pP(t,e,n){return SE.apply(this,arguments)}function SE(){return SE=w(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},w9),e);try{const i=new I9(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw qf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw qf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw qf(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw dP(t,l,c);vn(t,l)}}catch(i){if(i instanceof Ms)throw i;vn(t,"network-request-failed")}}),SE.apply(this,arguments)}function mi(t,e,n,r){return AE.apply(this,arguments)}function AE(){return AE=w(function*(t,e,n,r,i={}){const s=yield Dt(t,e,n,r,i);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}),AE.apply(this,arguments)}function gP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?CE(t.config,i):`${t.config.apiScheme}://${i}`}class I9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"timeout")),E9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vr(t,e,r);return i.customData._tokenResponse=n,i}function xE(){return xE=w(function*(t,e){return Dt(t,"POST","/v1/accounts:delete",e)}),xE.apply(this,arguments)}function D9(t,e){return NE.apply(this,arguments)}function NE(){return NE=w(function*(t,e){return Dt(t,"POST","/v1/accounts:lookup",e)}),NE.apply(this,arguments)}function wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function kE(){return kE=w(function*(t,e=!1){const n=gn(t),r=yield n.getIdToken(e),i=Gf(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wl(ME(i.auth_time)),issuedAtTime:wl(ME(i.iat)),expirationTime:wl(ME(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),kE.apply(this,arguments)}function ME(t){return 1e3*Number(t)}function Gf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return $f("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Gx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):($f("Failed to decode base64 JWT payload"),null)}catch(i){return $f("Caught error parsing JWT payload as JSON",i),null}}function yi(t,e){return PE.apply(this,arguments)}function PE(){return PE=w(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ms&&A9(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),PE.apply(this,arguments)}function A9({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class x9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(w(function*(){yield n.iteration()}),r)}iteration(){var e=this;return w(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class mP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function El(t){return OE.apply(this,arguments)}function OE(){return OE=w(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield yi(t,D9(n,{idToken:r}));R(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?k9(s.providerUserInfo):[],a=N9(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),OE.apply(this,arguments)}function FE(){return FE=w(function*(t){const e=gn(t);yield El(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),FE.apply(this,arguments)}function N9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function k9(t){return t.map(e=>{var{providerId:n}=e,r=sP(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function LE(){return LE=w(function*(t,e){const n=yield pP(t,{},()=>{const r=Rh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=gP(t,i,"/v1/token",`key=${s}`);return DE.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),LE.apply(this,arguments)}class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(void 0!==e.idToken,"internal-error"),R(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=Gf(t);return R(e,"internal-error"),R(void 0!==e.exp,"internal-error"),R(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return w(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return w(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return LE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Il;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Zi(t,e){R("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ao{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new x9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new mP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return w(function*(){const r=yield yi(n,n.stsTokenManager.getToken(n.auth,e));return R(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return kE.apply(this,arguments)}(this,e)}reload(){return function(t){return FE.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return w(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield El(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return w(function*(){const n=yield e.getIdToken();return yield yi(e,function(t,e){return xE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,_=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(c=n.createdAt)&&void 0!==c?c:void 0,v=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:T,emailVerified:N,isAnonymous:U,providerData:_e,stsTokenManager:Ne}=n;R(T&&Ne,e,"internal-error");const mo=Il.fromJSON(this.name,Ne);R("string"==typeof T,e,"internal-error"),Zi(d,e.name),Zi(h,e.name),R("boolean"==typeof N,e,"internal-error"),R("boolean"==typeof U,e,"internal-error"),Zi(f,e.name),Zi(p,e.name),Zi(_,e.name),Zi(y,e.name),Zi(E,e.name),Zi(v,e.name);const Hr=new ao({uid:T,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:U,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:mo,createdAt:E,lastLoginAt:v});return _e&&Array.isArray(_e)&&(Hr.providerData=_e.map(rs=>Object.assign({},rs))),y&&(Hr._redirectEventId=y),Hr}static _fromIdTokenResponse(e,n,r=!1){return w(function*(){const i=new Il;i.updateFromServerResponse(n);const s=new ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield El(s),s})()}}const yP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(function*(){return!0})()}_set(n,r){var i=this;return w(function*(){i.storage[n]=r})()}_get(n){var r=this;return w(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return w(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Wf(t,e,n){return`firebase:${t}:${e}:${n}`}class ru{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Wf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Wf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return w(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ao._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return w(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(function*(){if(!n.length)return new ru(gi(yP),e,r);const i=(yield Promise.all(n.map(function(){var c=w(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||gi(yP);const o=Wf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ao._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=w(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new ru(s,e,r)):new ru(s,e,r)})()}}function _P(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bP(e))return"Blackberry";if(CP(e))return"Webos";if(VE(e))return"Safari";if((e.includes("chrome/")||wP(e))&&!e.includes("edge/"))return"Chrome";if(IP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function vP(t=_t()){return/firefox\//i.test(t)}function VE(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wP(t=_t()){return/crios\//i.test(t)}function EP(t=_t()){return/iemobile/i.test(t)}function IP(t=_t()){return/android/i.test(t)}function bP(t=_t()){return/blackberry/i.test(t)}function CP(t=_t()){return/webos/i.test(t)}function zf(t=_t()){return/iphone|ipad|ipod/i.test(t)}function DP(t=_t()){return zf(t)||IP(t)||CP(t)||bP(t)||/windows phone/i.test(t)||EP(t)}function TP(t,e=[]){let n;switch(t){case"Browser":n=_P(_t());break;case"Worker":n=`${_P(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${r}`}class L9{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SP(this),this.idTokenSubscription=new SP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(w(function*(){var i,s;r._deleted||(r.persistenceManager=yield ru.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return w(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return w(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(R(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return w(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return w(function*(){try{yield El(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return w(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return w(function*(){const r=e?gn(e):null;return r&&R(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return w(function*(){if(!n._deleted)return e&&R(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(w(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return w(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(w(function*(){yield n.assertedPersistence.setPersistence(gi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ps("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return w(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return w(function*(){if(!n.redirectPersistenceManager){const r=e&&gi(e)||n._popupRedirectResolver;R(r,n,"argument-error"),n.redirectPersistenceManager=yield ru.create(n,[gi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return w(function*(){var r,i;return n._isInitialized&&(yield n.queue(w(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return w(function*(){if(e===n.currentUser)return n.queue(w(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return w(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function wn(t){return gn(t)}class SP{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class RP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}function jE(){return jE=w(function*(t,e){return Dt(t,"POST","/v1/accounts:update",e)}),jE.apply(this,arguments)}function HE(){return HE=w(function*(t,e){return mi(t,"POST","/v1/accounts:signInWithPassword",dt(t,e))}),HE.apply(this,arguments)}function KE(){return KE=w(function*(t,e){return mi(t,"POST","/v1/accounts:signInWithEmailLink",dt(t,e))}),KE.apply(this,arguments)}function QE(){return QE=w(function*(t,e){return mi(t,"POST","/v1/accounts:signInWithEmailLink",dt(t,e))}),QE.apply(this,arguments)}class bl extends RP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return w(function*(){switch(n.signInMethod){case"password":return function(t,e){return HE.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return KE.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:vn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return w(function*(){switch(r.signInMethod){case"password":return function(t,e){return jE.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(t,e){return QE.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:vn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function _i(t,e){return YE.apply(this,arguments)}function YE(){return YE=w(function*(t,e){return mi(t,"POST","/v1/accounts:signInWithIdp",dt(t,e))}),YE.apply(this,arguments)}class Tl{constructor(e){var n,r,i,s,o,a;const u=Ec(Ic(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);R(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function(t){const e=Ec(Ic(t)).link,n=e?Ec(Ic(e)).deep_link_id:null,r=Ec(Ic(t)).deep_link_id;return(r?Ec(Ic(r)).link:null)||r||n||e||t}(e);try{return new Tl(n)}catch(r){return null}}}let MP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return bl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Tl.parseLink(r);return R(i,"argument-error"),bl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class es{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nQ extends es{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function PP(t,e){return nI.apply(this,arguments)}function nI(){return nI=w(function*(t,e){return mi(t,"POST","/v1/accounts:signUp",dt(t,e))}),nI.apply(this,arguments)}class er{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(function*(){const s=yield ao._fromIdTokenResponse(e,r,i),o=OP(r);return new er({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return w(function*(){yield e._updateTokensIfNecessary(r,!0);const i=OP(r);return new er({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function OP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Yf extends Ms{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yf(e,n,r,i)}}function FP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Yf._fromErrorAndOperation(t,s,e,r):s})}function sI(t,e){return oI.apply(this,arguments)}function oI(){return oI=w(function*(t,e,n=!1){const r=yield yi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return er._forOperation(t,"link",r)}),oI.apply(this,arguments)}function uI(){return uI=w(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield yi(t,FP(r,i,e,t),n);R(s.idToken,r,"internal-error");const o=Gf(s.idToken);R(o,r,"internal-error");const{sub:a}=o;return R(t.uid===a,r,"user-mismatch"),er._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&vn(r,"user-mismatch"),s}}),uI.apply(this,arguments)}function UP(t,e){return cI.apply(this,arguments)}function cI(){return cI=w(function*(t,e,n=!1){const r="signIn",i=yield FP(t,r,e),s=yield er._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),cI.apply(this,arguments)}function dI(){return dI=w(function*(t,e){return UP(wn(t),e)}),dI.apply(this,arguments)}function bI(){return bI=w(function*(t,e,n){const r=wn(t),i=yield PP(r,{returnSecureToken:!0,email:e,password:n}),s=yield er._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),bI.apply(this,arguments)}function PI(t,e){return gn(t).setPersistence(e)}new WeakMap;const Zf="__sak";class BP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HP=(()=>{class t extends BP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=_t();return VE(t)||zf(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=DP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Yx()&&10===document.documentMode&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,10):s()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return w(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return w(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return w(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),ep=(()=>{class t extends BP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let TQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return w(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=w(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function(t){return Promise.all(t.map(function(){var e=w(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function UI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class SQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return w(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=UI("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ht(){return window}function jI(){return void 0!==ht().WorkerGlobalScope&&"function"==typeof ht().importScripts}function BI(){return(BI=w(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const $P="firebaseLocalStorageDb",tp="firebaseLocalStorage",qP="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function np(t,e){return t.transaction([tp],e?"readwrite":"readonly").objectStore(tp)}function HI(){const t=indexedDB.open($P,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tp,{keyPath:qP})}catch(i){n(i)}}),t.addEventListener("success",w(function*(){const r=t.result;r.objectStoreNames.contains(tp)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase($P);return new Al(t).toPromise()}(),e(yield HI()))}))})}function GP(t,e,n){return $I.apply(this,arguments)}function $I(){return $I=w(function*(t,e,n){const r=np(t,!0).put({[qP]:e,value:n});return new Al(r).toPromise()}),$I.apply(this,arguments)}function qI(){return qI=w(function*(t,e){const n=np(t,!1).get(e),r=yield new Al(n).toPromise();return void 0===r?null:r.value}),qI.apply(this,arguments)}function WP(t,e){const n=np(t,!0).delete(e);return new Al(n).toPromise()}const LQ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return w(function*(){return n.db||(n.db=yield HI()),n.db})()}_withRetries(n){var r=this;return w(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return w(function*(){return jI()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return w(function*(){n.receiver=TQ._getInstance(jI()?self:null),n.receiver._subscribe("keyChanged",function(){var r=w(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=w(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return w(function*(){var r,i;if(n.activeServiceWorker=yield function(){return BI.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new SQ(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return w(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return w(function*(){try{if(!indexedDB)return!1;const n=yield HI();return yield GP(n,Zf,"1"),yield WP(n,Zf),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return w(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return w(function*(){return i._withPendingWrite(w(function*(){return yield i._withRetries(s=>GP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return w(function*(){const i=yield r._withRetries(s=>function(t,e){return qI.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return w(function*(){return r._withPendingWrite(w(function*(){return yield r._withRetries(i=>WP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return w(function*(){const r=yield n._withRetries(o=>{const a=np(o,!1).getAll();return new Al(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(w(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function KP(t){return`__${t}${Math.floor(1e6*Math.random())}`}function co(t,e){return e?gi(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}KP("rcb"),new vl(3e4,6e4);class eb extends RP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _i(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _i(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _i(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eY(t){return UP(t.auth,new eb(t),t.bypassAuthState)}function tY(t){const{auth:e,user:n}=t;return R(n,e,"internal-error"),function(t,e){return uI.apply(this,arguments)}(n,new eb(t),t.bypassAuthState)}function nY(t){return tb.apply(this,arguments)}function tb(){return tb=w(function*(t){const{auth:e,user:n}=t;return R(n,e,"internal-error"),sI(n,new eb(t),t.bypassAuthState)}),tb.apply(this,arguments)}new vl(2e3,1e4);const ip=new Map;class sY extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=w(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return w(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eY;case"linkViaPopup":case"linkViaRedirect":return nY;case"reauthViaPopup":case"reauthViaRedirect":return tY;default:vn(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return w(function*(){let r=ip.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return ob.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ip.set(n.auth._key(),r)}return n.bypassAuthState||ip.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return w(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return w(function*(){})()}cleanUp(){}}function ob(){return ob=w(function*(t,e){const n=JP(e),r=YP(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),ob.apply(this,arguments)}function YP(t){return gi(t._redirectPersistence)}function JP(t){return Wf("pendingRedirect",t.config.apiKey,t.name)}function XP(t,e){return fb.apply(this,arguments)}function fb(){return fb=w(function*(t,e,n=!1){const r=wn(t),i=co(r,e),o=yield new sY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),fb.apply(this,arguments)}class dY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tO(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eO(e))}saveEventToCache(e){this.cachedEventUids.add(eO(e)),this.lastProcessedEventTime=Date.now()}}function eO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tO({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function fY(t){return gb.apply(this,arguments)}function gb(){return gb=w(function*(t,e={}){return Dt(t,"GET","/v1/projects",e)}),gb.apply(this,arguments)}const pY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gY=/^https?/;function mb(){return mb=w(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield fY(t);for(const n of e)try{if(yY(n))return}catch(r){}vn(t,"unauthorized-domain")}),mb.apply(this,arguments)}function yY(t){const e=_l(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!gY.test(n))return!1;if(pY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const _Y=new vl(3e4,6e4);function nO(){const t=ht().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let sp=null;function wY(t){return sp=sp||function(t){return new Promise((e,n)=>{var r,i,s;function o(){nO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nO(),n(Vr(t,"network-request-failed"))},timeout:_Y.get()})}if(null===(i=null===(r=ht().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ht().gapi)||void 0===s?void 0:s.load)){const a=KP("iframefcb");return ht()[a]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`)}o()}}).catch(e=>{throw sp=null,e})}(t),sp}const EY=new vl(5e3,15e3),CY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TY(t){const e=t.config;R(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?CE(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Us},i=DY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rh(r).slice(1)}`}function yb(){return yb=w(function*(t){const e=yield wY(t),n=ht().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:TY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CY,dontclear:!0},r=>new Promise(function(){var i=w(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Vr(t,"network-request-failed"),u=ht().setTimeout(()=>{o(a)},EY.get());function c(){ht().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),yb.apply(this,arguments)}const AY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function iO(t,e,n,r,i,s){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Us,eventId:i};if(e instanceof es){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof nQ){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:t}){return t.emulator?CE(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Rh(a).slice(1)}`}const _b="webStorageSupport",UY=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ep,this._completeRedirectFn=XP}_openPopup(e,n,r,i){var s=this;return w(function*(){var o;Xi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=iO(e,n,r,_l(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},AY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=_t().toLowerCase();n&&(a=wP(c)?"_blank":n),vP(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=_t()){var e;return zf(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new rO(null);const d=window.open(e||"",a,l);R(d,t,"popup-blocked");try{d.focus()}catch(h){}return new rO(d)}(e,a,UI())})()}_openRedirect(e,n,r,i){var s=this;return w(function*(){return yield s._originValidation(e),function(t){ht().location.href=t}(iO(e,n,r,_l(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r}initAndGetManager(e){var n=this;return w(function*(){const r=yield function(t){return yb.apply(this,arguments)}(e),i=new dY(e);return r.register("authEvent",s=>(R(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_b,{type:_b},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[_b];void 0!==o&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return mb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DP()||VE()||zf()}};var oO="@firebase/auth";class jY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return w(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function(t){Vs(new Os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{R(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),R(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TP(t)},u=new L9(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vs(new Os("auth-internal",e=>{const n=wn(e.getProvider("auth").getImmediate());return new jY(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(oO,"0.19.3",void 0),Mr(oO,"0.19.3","esm2017")}("Browser"),rP.initializeApp({apiKey:"AIzaSyAgWGS7DJA48lwG9NtwkjmcM4lEIxf5I1o",authDomain:"strk-prdct.firebaseapp.com",projectId:"strk-prdct",storageBucket:"strk-prdct.appspot.com",messagingSenderId:"137726470492",appId:"1:137726470492:web:5a529ec6eb29ca4163b999",measurementId:"G-LSCMEGK2BT"});const Re={db:function(t=T_()){return Cc(t,"firestore").getImmediate()}(),auth:function(t=T_()){const e=Cc(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=Cc(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(xh(n.getOptions(),null!=e?e:{}))return i;vn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:UY,persistence:[LQ,HP,ep]})}()};let op=(()=>{class t{constructor(n){this.http=n,this.url="https://s7i18gqkx3.execute-api.us-east-1.amazonaws.com/beta",this.active=!1,this.classifyOne({gender:0,age:10,bmi:10,ever_married:0,work_type:0,Residence_type:0,smoking_status:0,hypertension:0,heart_disease:0,avg_glucose_level:50}).subscribe(i=>{this.active="NaN"!==i})}classifyOne(n){return this.http.post(this.url,JSON.stringify({Tests:[n]})).pipe(me(i=>200==i.statusCode?i.body.replace("[","").replace("]",""):"NaN"))}classifyMany(n){return this.http.post(this.url,JSON.stringify({Tests:n})).pipe(me(i=>{if(200==i.statusCode){let s=i.body;return s=s.replace("[","").replace("]",""),s.split(", ")}{let s=[];for(let o=0;o<n.length;o++)s.push("NaN");return s}}))}isActive(){return this.active}}return t.\u0275fac=function(n){return new(n||t)(F(Vx))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function WY(t,e){if(1&t){const n=Cm();g(0,"div"),g(1,"strong"),S(2,"And now you are logged in"),g(3,"span",1),He("click",function(i){return eg(n),Sm().oneMore(i)}),S(4,"!"),m(),m(),b(5,"br"),m()}}let zY=(()=>{class t{constructor(n){this.Classify=n}ngOnInit(){}userLogin(){return"true"==window.sessionStorage.getItem("log")}oneMore(n){var r,i,s,o,a=n.target,u=document.createElement("strong");u.innerHTML="Did you just click on the exclamation mark?";var c=document.createElement("br");null===(i=null===(r=a.parentElement)||void 0===r?void 0:r.parentElement)||void 0===i||i.appendChild(c),null===(o=null===(s=a.parentElement)||void 0===s?void 0:s.parentElement)||void 0===o||o.appendChild(u),this.clasif()}clasif(){var n=this;return w(function*(){if("false"==window.sessionStorage.getItem("log"))return void console.log("log in first");for(;null==Re.auth.currentUser;)yield oo(200);const i=Ji(Re.db,"users",Re.auth.currentUser.uid),s=yield tu(i);if(s.exists()){var o=s.data().tests,a=[];for(let u in o)a.push(o[u]);n.Classify.classifyMany(a).subscribe(u=>{let c="all results:\n";for(let l in u)c+="\t\t\ttest "+l+" : "+u[l]+"%\n";console.log(c)})}})()}}return t.\u0275fac=function(n){return new(n||t)(L(op))},t.\u0275cmp=We({type:t,selectors:[["app-logo-page"]],decls:3,vars:1,consts:[[4,"ngIf"],[3,"click"]],template:function(n,r){1&n&&(g(0,"p"),S(1,"It's just the logo, nothing particularly interesting"),m(),bs(2,WY,6,0,"div",0)),2&n&&(Es(2),Ni("ngIf",r.userLogin()))},directives:[Jy],encapsulation:2}),t})();class Er extends $r{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:KY}=Array,{getPrototypeOf:QY,prototype:YY,keys:JY}=Object;const{isArray:eJ}=Array;function iJ(...t){const e=hu(t),n=function(t){return Ue(Pp(t))?t.pop():void 0}(t),{args:r,keys:i}=function(t){if(1===t.length){const e=t[0];if(KY(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&QY(t)===YY}(e)){const n=JY(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return At([],e);const s=new Oe(function(t,e,n=os){return r=>{uO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)uO(e,()=>{const c=At(t[u],e);let l=!1;c.subscribe(new St(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):os));return n?s.pipe(function(t){return me(e=>function(t,e){return eJ(e)?t(...e):t(e)}(t,e))}(n)):s}function uO(t,e,n){t?Gr(n,t,e):e()}const ap=Cp(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function vb(...t){return du(1)(At(t,hu(t)))}function cO(t){return new Oe(e=>{qr(t()).subscribe(e)})}function lO(){return Tt((t,e)=>{let n=null;t._refCount++;const r=new St(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class aJ extends Oe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zb(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vn;const n=this.getSubject();e.add(this.source.subscribe(new St(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vn.EMPTY)}return e}refCount(){return lO()(this)}}function lo(t,e){return Tt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new St(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;qr(t(u,l)).subscribe(i=new St(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function cJ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new St(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function dO(t,e){return Tt(cJ(t,e,arguments.length>=2,!0))}function ts(t){return Tt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new St(n,void 0,void 0,o=>{s=qr(t(o,ts(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function wb(t){return t<=0?()=>Wr:Tt((e,n)=>{let r=[];e.subscribe(new St(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function hO(t=lJ){return Tt((e,n)=>{let r=!1;e.subscribe(new St(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lJ(){return new ap}function fO(t){return Tt((e,n)=>{let r=!1;e.subscribe(new St(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function iu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ks((i,s)=>t(i,s,r)):os,ql(1),n?fO(e):hO(()=>new ap))}function Ln(t,e,n){const r=Ue(t)||e||n?{next:t,error:e,complete:n}:t;return r?Tt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new St(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):os}class vi{constructor(e,n){this.id=e,this.url=n}}class Eb extends vi{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xl extends vi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pO extends vi{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fJ extends vi{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pJ extends vi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gJ extends vi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mJ extends vi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yJ extends vi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _J extends vi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gO{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mO{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vJ{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wJ{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EJ{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IJ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ae="primary";class bJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function su(t){return new bJ(t)}const _O="ngNavigationCancelingError";function Ib(t){const e=Error("NavigationCancelingError: "+t);return e[_O]=!0,e}function DJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!vO(t[i],e[i]))return!1;return!0}function vO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function wO(t){return Array.prototype.concat.apply([],t)}function EO(t){return t.length>0?t[t.length-1]:null}function Ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Br(t){return Dm(t)?t:Pd(t)?At(Promise.resolve(t)):te(t)}const AJ={exact:function CO(t,e,n){if(!fo(t.segments,e.segments)||!up(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!CO(t.children[r],e.children[r],n))return!1;return!0},subset:DO},IO={exact:function(t,e){return jr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vO(t[n],e[n]))},ignored:()=>!0};function bO(t,e,n){return AJ[n.paths](t.root,e.root,n.matrixParams)&&IO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function DO(t,e,n){return TO(t,e,e.segments,n)}function TO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!fo(i,n)||e.hasChildren()||!up(i,n,r))}if(t.segments.length===n.length){if(!fo(t.segments,n)||!up(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!DO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(fo(t.segments,i)&&up(t.segments,i,r)&&t.children[ae])&&TO(t.children[ae],e,s,r)}}function up(t,e,n){return e.every((r,i)=>IO[n](t[i].parameters,r.parameters))}class ho{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=su(this.queryParams)),this._queryParamMap}toString(){return MJ.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ft(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cp(this)}}class Rl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=su(this.parameters)),this._parameterMap}toString(){return NO(this)}}function fo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class SO{}class AO{parse(e){const n=new HJ(e);return new ho(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Nl(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${lp(n)}=${lp(i)}`).join("&"):`${lp(n)}=${lp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const MJ=new AO;function cp(t){return t.segments.map(e=>NO(e)).join("/")}function Nl(t,e){if(!t.hasChildren())return cp(t);if(e){const n=t.children[ae]?Nl(t.children[ae],!1):"",r=[];return Ft(t.children,(i,s)=>{s!==ae&&r.push(`${s}:${Nl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Ft(t.children,(r,i)=>{i===ae&&(n=n.concat(e(r,i)))}),Ft(t.children,(r,i)=>{i!==ae&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ae?[Nl(t.children[ae],!1)]:[`${i}:${Nl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${cp(t)}/${n[0]}`:`${cp(t)}/(${n.join("//")})`}}function xO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lp(t){return xO(t).replace(/%3B/gi,";")}function bb(t){return xO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dp(t){return decodeURIComponent(t)}function RO(t){return dp(t.replace(/\+/g,"%20"))}function NO(t){return`${bb(t.path)}${function(t){return Object.keys(t).map(e=>`;${bb(e)}=${bb(t[e])}`).join("")}(t.parameters)}`}const LJ=/^[^\/()?;=#]+/;function hp(t){const e=t.match(LJ);return e?e[0]:""}const VJ=/^[^=?&#]+/,jJ=/^[^&#]+/;class HJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new de(e,n)),r}parseSegment(){const e=hp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Rl(dp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=hp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=hp(this.remaining);i&&(r=i,this.capture(r))}e[dp(n)]=dp(r)}parseQueryParam(e){const n=function(t){const e=t.match(VJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(jJ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=RO(n),s=RO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ae]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class kO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Cb(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Cb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Db(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Db(e,this._root).map(n=>n.value)}}function Cb(t,e){if(t===e.value)return e;for(const n of e.children){const r=Cb(t,n);if(r)return r}return null}function Db(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Db(t,n);if(r.length)return r.unshift(e),r}return[]}class wi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function ou(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class MO extends kO{constructor(e,n){super(e),this.snapshot=n,Tb(this,e)}toString(){return this.snapshot.toString()}}function PO(t,e){const n=function(t,e){const o=new fp([],{},{},"",{},ae,e,null,t.root,-1,{});return new FO("",new wi(o,[]))}(t,e),r=new Er([new Rl("",{})]),i=new Er({}),s=new Er({}),o=new Er({}),a=new Er(""),u=new au(r,i,o,a,s,ae,e,n.root);return u.snapshot=n.root,new MO(new wi(u,[]),n)}class au{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>su(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>su(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:W(W({},e.params),n.params),data:W(W({},e.data),n.data),resolve:W(W({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class fp{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=su(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=su(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FO extends kO{constructor(e,n){super(n),this.url=e,Tb(this,n)}toString(){return LO(this._root)}}function Tb(t,e){e.value._routerState=t,e.children.forEach(n=>Tb(t,n))}function LO(t){const e=t.children.length>0?` { ${t.children.map(LO).join(", ")} } `:"";return`${t.value}${e}`}function Sb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,jr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),jr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!jr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),jr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ab(t,e){const n=jr(t.params,e.params)&&function(t,e){return fo(t,e)&&t.every((n,r)=>jr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Ab(t.parent,e.parent))}function kl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return kl(t,r,i);return kl(t,r)})}(t,e,n);return new wi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>kl(t,a)),o}}const r=function(t){return new au(new Er(t.url),new Er(t.params),new Er(t.queryParams),new Er(t.fragment),new Er(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>kl(t,s));return new wi(r,i)}}function pp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ml(t){return"object"==typeof t&&null!=t&&t.outlets}function xb(t,e,n,r,i){let s={};return r&&Ft(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new ho(n.root===t?e:VO(n.root,t,e),s,i)}function VO(t,e,n){const r={};return Ft(t.children,(i,s)=>{r[s]=i===e?n:VO(i,e,n)}),new de(t.segments,r)}class UO{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pp(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ml);if(i&&i!==EO(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rb{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function jO(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return gp(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ml(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!HO(u,c,o))return s;r+=2}else{if(!HO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new de(t.segments.slice(r.pathIndex),t.children),gp(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?Nb(t,e,n):r.match?gp(t,0,i):Nb(t,e,n)}function gp(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function(t){return Ml(t[0])?t[0].outlets:{[ae]:t}}(n),i={};return Ft(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=jO(t.children[o],e,s))}),Ft(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i)}}function Nb(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ml(s)){const u=eX(s.outlets);return new de(r,u)}if(0===i&&pp(n[0])){r.push(new Rl(t.segments[e].path,BO(n[0]))),i++;continue}const o=Ml(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&pp(a)?(r.push(new Rl(o,BO(a))),i+=2):(r.push(new Rl(o,{})),i++)}return new de(r,{})}function eX(t){const e={};return Ft(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Nb(new de([],{}),0,n))}),e}function BO(t){const e={};return Ft(t,(n,r)=>e[r]=`${n}`),e}function HO(t,e,n){return t==n.path&&jr(e,n.parameters)}class nX{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sb(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=ou(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ft(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ou(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ou(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=ou(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new IJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new wJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Sb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class kb{constructor(e,n){this.routes=e,this.module=n}}function ns(t){return"function"==typeof t}function po(t){return t instanceof ho}const Pl=Symbol("INITIAL_VALUE");function Ol(){return lo(t=>iJ(t.map(e=>e.pipe(ql(1),function(...t){const e=hu(t);return Tt((n,r)=>{(e?vb(t,n,e):vb(t,n)).subscribe(r)})}(Pl)))).pipe(dO((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Pl?i:(s===Pl&&(r=!0),r||!1!==s&&o!==n.length-1&&!po(s)?i:s),e)},Pl),ks(e=>e!==Pl),me(e=>po(e)?e:!0===e),ql(1)))}class cX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fl,this.attachRef=null}}class Fl{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new cX,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Mb=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new nn,this.deactivateEvents=new nn,this.attachEvents=new nn,this.detachEvents=new nn,this.name=s||ae,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new lX(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(L(Fl),L(dr),L(Ds),Iu("name"),L(fy))},t.\u0275dir=Vt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class lX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===au?this.route:e===Fl?this.childContexts:this.parent.get(e,n)}}let $O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&b(0,"router-outlet")},directives:[Mb],encapsulation:2}),t})();function qO(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];dX(r,hX(e,r))}}function dX(t,e){t.children&&qO(t.children,e)}function hX(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Pb(t){const e=t.children&&t.children.map(Pb),n=e?En(W({},t),{children:e}):W({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=$O),n}function tr(t){return t.outlet||ae}function GO(t,e){const n=t.filter(r=>tr(r)===e);return n.push(...t.filter(r=>tr(r)!==e)),n}const WO={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mp(t,e,n){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?W({},WO):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||DJ)(n,t,e);if(!i)return W({},WO);const s={};Ft(i.posParams,(u,c)=>{s[c]=u.path});const o=i.consumed.length>0?W(W({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!=(a=i.posParams)?a:{}}}function yp(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>_p(t,e,r)&&tr(r)!==ae)}(t,n,r)){const o=new de(e,function(t,e,n,r){const i={};i[ae]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&tr(s)!==ae){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[tr(s)]=o}return i}(t,e,r,new de(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>_p(t,e,r))}(t,n,r)){const o=new de(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(_p(t,n,a)&&!i[tr(a)]){const u=new de([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[tr(a)]=u}return W(W({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new de(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function _p(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function zO(t,e,n,r){return!!(tr(t)===r||r!==ae&&_p(e,n,t))&&("**"===t.path||mp(e,t,n).matched)}function KO(t,e,n){return 0===e.length&&!t.children[n]}class Ll{constructor(e){this.segmentGroup=e||null}}class QO{constructor(e){this.urlTree=e}}function vp(t){return new Oe(e=>e.error(new Ll(t)))}function YO(t){return new Oe(e=>e.error(new QO(t)))}function yX(t){return new Oe(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class wX{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(kr)}apply(){const e=yp(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ae).pipe(me(s=>this.createUrlTree(Ob(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ts(s=>{if(s instanceof QO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ll?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ae).pipe(me(i=>this.createUrlTree(Ob(i),e.queryParams,e.fragment))).pipe(ts(i=>{throw i instanceof Ll?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new de([],{[ae]:e}):e;return new ho(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(me(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return At(i).pipe(ga(s=>{const o=r.children[s],a=GO(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(me(u=>({segment:u,outlet:s})))}),dO((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ks((i,s)=>t(i,s,r)):os,wb(1),n?fO(e):hO(()=>new ap))}())}expandSegment(e,n,r,i,s,o){return At(r).pipe(ga(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ts(c=>{if(c instanceof Ll)return te(null);throw c}))),iu(a=>!!a),ts((a,u)=>{if(a instanceof ap||"EmptyError"===a.name){if(KO(n,i,s))return te(new de([],{}));throw new Ll(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return zO(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):vp(n):vp(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?YO(s):this.lineralizeSegments(r,s).pipe(ft(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=mp(n,i,s);if(!a)return vp(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?YO(d):this.lineralizeSegments(i,d).pipe(ft(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?te(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(me(h=>(r._loadedConfig=h,new de(i,{})))):te(new de(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=mp(n,r,i);if(!o)return vp(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(ft(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:_}=yp(n,a,c,f),y=new de(p.segments,p.children);if(0===_.length&&y.hasChildren())return this.expandChildren(h,f,y).pipe(me(N=>new de(a,N)));if(0===f.length&&0===_.length)return te(new de(a,{}));const E=tr(r)===s;return this.expandSegment(h,y,f,_,E?ae:s,!0).pipe(me(T=>new de(a.concat(T.segments),T.children)))}))}getChildConfig(e,n,r){return n.children?te(new kb(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?te(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ft(i=>i?this.configLoader.load(e.injector,n).pipe(me(s=>(n._loadedConfig=s,s))):function(t){return new Oe(e=>e.error(Ib(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):te(new kb([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;if(!i||0===i.length)return te(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function(t){return t&&ns(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!ns(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Br(u)});return te(s).pipe(Ol(),Ln(o=>{if(!po(o))return;const a=Ib(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),me(o=>!0===o))}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return te(r);if(i.numberOfChildren>1||!i.children[ae])return yX(e.redirectTo);i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ho(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ft(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ft(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Ob(t){const e={};for(const r of Object.keys(t.children)){const s=Ob(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}class JO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wp{constructor(e,n){this.component=e,this.route=n}}function bX(t,e,n){const r=t._root;return Vl(r,e?e._root:null,n,[r.value])}function Ep(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Vl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ou(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!fo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!fo(t.url,e.url)||!jr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ab(t,e)||!jr(t.queryParams,e.queryParams);default:return!Ab(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new JO(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Vl(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wp(a.outlet.component,o))}else o&&Ul(e,a,i),i.canActivateChecks.push(new JO(r)),Vl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ft(s,(o,a)=>Ul(o,n.getContext(a),i)),i}function Ul(t,e,n){const r=ou(t),i=t.value;Ft(r,(s,o)=>{Ul(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new wp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class FX{}function XO(t){return new Oe(e=>e.error(t))}class VX{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=yp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ae);if(null===n)return null;const r=new fp([],Object.freeze({}),Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new wi(r,n),s=new FO(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=OO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=GO(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=ZO(r);return function(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return KO(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!zO(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?EO(r).parameters:{};s=new fp(r,f,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,nF(e),tr(e),e.component,e,eF(n),tF(n)+r.length,rF(e))}else{const f=mp(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new fp(o,f.parameters,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,nF(e),tr(e),e.component,e,eF(n),tF(n)+o.length,rF(e))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=yp(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new wi(s,f)]}if(0===u.length&&0===l.length)return[new wi(s,[])];const d=tr(e)===i,h=this.processSegment(u,c,l,d?ae:i);return null===h?null:[new wi(s,h)]}}function BX(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ZO(t){const e=[],n=new Set;for(const r of t){if(!BX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=ZO(r.children);e.push(new wi(r.value,i))}return e.filter(r=>!n.has(r))}function eF(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function tF(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function nF(t){return t.data||{}}function rF(t){return t.resolve||{}}function Fb(t){return lo(e=>{const n=t(e);return n?At(n).pipe(me(()=>e)):te(e)})}class QX extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Lb=new ce("ROUTES");class iF{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(me(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new kb(wO(o.injector.get(Lb,void 0,H.Self|H.Optional)).map(Pb),o)}),ts(s=>{throw n._loader$=void 0,s}));return n._loader$=new aJ(i,()=>new $r).pipe(lO()),n._loader$}loadModuleFactory(e){return Br(e()).pipe(ft(n=>n instanceof oA?te(n):At(this.compiler.compileModuleAsync(n))))}}class JX{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function XX(t){throw t}function ZX(t,e,n){return e.parse("/")}function sF(t,e){return te(null)}const eZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lt=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $r,this.errorHandler=XX,this.malformedUriErrorHandler=ZX,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sF,afterPreactivation:sF},this.urlHandlingStrategy=new JX,this.routeReuseStrategy=new QX,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(kr),this.console=o.get(Jd);const d=o.get(Je);this.isNgZoneEnabled=d instanceof Je&&Je.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new ho(new de([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new iF(o,a,h=>this.triggerEvent(new gO(h)),h=>this.triggerEvent(new mO(h))),this.routerState=PO(this.currentUrlTree,this.rootComponentType),this.transitions=new Er({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null==(n=this.location.getState())?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ks(i=>0!==i.id),me(i=>En(W({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),lo(i=>{let s=!1,o=!1;return te(i).pipe(Ln(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?En(W({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lo(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Ip(a.source)&&(this.browserUrlTree=a.extractedUrl),te(a).pipe(lo(d=>{const h=this.transitions.getValue();return r.next(new Eb(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Wr:Promise.resolve(d)}),function(t,e,n,r){return lo(i=>function(t,e,n,r,i){return new wX(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(me(s=>En(W({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ln(d=>{this.currentNavigation=En(W({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return ft(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new VX(t,e,n,r,i,s).recognize();return null===o?XO(new FX):te(o)}catch(o){return XO(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(me(o=>En(W({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ln(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new pJ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:y}=a,E=new Eb(h,this.serializeUrl(f),p,_);r.next(E);const v=PO(f,this.rootComponentType).snapshot;return te(En(W({},a),{targetSnapshot:v,urlAfterRedirects:f,extras:En(W({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Wr}),Fb(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ln(a=>{const u=new gJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),me(a=>En(W({},a),{guards:bX(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?te(En(W({},n),{guardsResult:!0})):function(t,e,n,r){return At(t).pipe(ft(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?te(s.map(a=>{const u=Ep(a,e,i);let c;if(function(t){return t&&ns(t.canDeactivate)}(u))c=Br(u.canDeactivate(t,e,n,r));else{if(!ns(u))throw new Error("Invalid CanDeactivate guard");c=Br(u(t,e,n,r))}return c.pipe(iu())})).pipe(Ol()):te(!0)}(i.component,i.route,n,e,r)),iu(i=>!0!==i,!0))}(o,r,i,t).pipe(ft(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return At(e).pipe(ga(i=>vb(function(t,e){return null!==t&&e&&e(new vJ(t)),te(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new EJ(t)),te(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>cO(()=>te(o.guards.map(u=>{const c=Ep(u,o.node,n);let l;if(function(t){return t&&ns(t.canActivateChild)}(c))l=Br(c.canActivateChild(r,t));else{if(!ns(c))throw new Error("Invalid CanActivateChild guard");l=Br(c(r,t))}return l.pipe(iu())})).pipe(Ol())));return te(s).pipe(Ol())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return te(!0);const i=r.map(s=>cO(()=>{const o=Ep(s,e,n);let a;if(function(t){return t&&ns(t.canActivate)}(o))a=Br(o.canActivate(e,t));else{if(!ns(o))throw new Error("Invalid CanActivate guard");a=Br(o(e,t))}return a.pipe(iu())}));return te(i).pipe(Ol())}(t,i.route,n))),iu(i=>!0!==i,!0))}(r,s,t,e):te(a)),me(a=>En(W({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ln(a=>{if(po(a.guardsResult)){const c=Ib(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new mJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ks(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Fb(a=>{if(a.guards.canActivateChecks.length)return te(a).pipe(Ln(u=>{const c=new yJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),lo(u=>{let c=!1;return te(u).pipe(function(t,e){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let s=0;return At(i).pipe(ga(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return te({});const s={};return At(i).pipe(ft(o=>function(t,e,n,r){const i=Ep(t,e,r);return Br(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Ln(a=>{s[o]=a}))),wb(1),ft(()=>Object.keys(s).length===i.length?te(s):Wr))}(t._resolve,t,e,r).pipe(me(s=>(t._resolvedData=s,t.data=W(W({},t.data),OO(t,n).resolve),null)))}(o.route,r,t,e)),Ln(()=>s++),wb(1),ft(o=>s===i.length?te(n):Wr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ln({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Ln(u=>{const c=new _J(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Fb(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),me(a=>{const u=function(t,e,n){const r=kl(t,e._root,n?n._root:void 0);return new MO(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return En(W({},a),{targetRouterState:u})}),Ln(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>me(r=>(new nX(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ln({next(){s=!0},complete(){s=!0}}),function(t){return Tt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ts(a=>{if(o=!0,function(t){return t&&t[_O]}(a)){const u=po(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new pO(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ip(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new fJ(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Wr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(W(W({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const i={replaceUrl:!0},s=(null==(a=n.state)?void 0:a.navigationId)?n.state:null;if(s){const u=W({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){qO(n),this.config=n.map(Pb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=W(W({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return xb(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new UO(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ft(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new UO(n,e,r)}(n);if(s.toRoot())return xb(e.root,new de([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Rb(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Rb(s,s===e.root,0)}const r=pp(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Rb(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?gp(o.segmentGroup,o.index,s.commands):jO(o.segmentGroup,o.index,s.commands);return xb(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=po(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?W({},eZ):!1===r?W({},tZ):r,po(n))return bO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return bO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new xl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var E,v,T;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,u=Ip(r)&&a&&!Ip(a.source),c=a.rawUrl.toString()===n.toString(),l=a.id===(null==(E=this.currentNavigation)?void 0:E.id);if(u&&c&&l)return Promise.resolve(!0);let h,f,p;o?(h=o.resolve,f=o.reject,p=o.promise):p=new Promise((N,U)=>{h=N,f=U});const _=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(v=this.browserPageId)?v:0:(null!=(T=this.browserPageId)?T:0)+1):y=0,this.setTransition({id:_,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:h,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(N=>Promise.reject(N))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=W(W({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new pO(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Im()},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function Ip(t){return"imperative"!==t}let bp=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new $r,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:uu(this.skipLocationChange),replaceUrl:uu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:uu(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(L(Lt),L(au),Iu("tabindex"),L($d),L(kn))},t.\u0275dir=Vt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&He("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ps]}),t})(),jl=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new $r,this.subscription=n.events.subscribe(s=>{s instanceof xl&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:uu(this.skipLocationChange),replaceUrl:uu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:uu(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(L(Lt),L(au),L(Ns))},t.\u0275dir=Vt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&He("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&ym("target",r.target)("href",r.href,Sg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ps]}),t})();function uu(t){return""===t||!!t}class oF{}class aF{preload(e,n){return te(null)}}let uF=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new iF(i,r,u=>n.triggerEvent(new gO(u)),u=>n.triggerEvent(new mO(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ks(n=>n instanceof xl),ga(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(kr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return At(i).pipe(du(),me(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?te(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ft(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(F(Lt),F(Xd),F(Ie),F(oF))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),Vb=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Eb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof yO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new yO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Im()},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const go=new ce("ROUTER_CONFIGURATION"),cF=new ce("ROUTER_FORROOT_GUARD"),oZ=[Hy,{provide:SO,useClass:AO},{provide:Lt,useFactory:function(t,e,n,r,i,s,o={},a,u){const c=new Lt(null,t,e,n,r,i,wO(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null==(d=console.group)||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null==(h=console.groupEnd)||h.call(console)}),c},deps:[SO,Fl,Hy,Ie,Xd,Lb,go,[class{},new fn],[class{},new fn]]},Fl,{provide:au,useFactory:function(t){return t.routerState.root},deps:[Lt]},uF,aF,class{preload(e,n){return n().pipe(ts(()=>te(null)))}},{provide:go,useValue:{enableTracing:!1}}];function aZ(){return new ly("Router",Lt)}let lF=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[oZ,dF(n),{provide:cF,useFactory:lZ,deps:[[Lt,new fn,new Ai]]},{provide:go,useValue:r||{}},{provide:Ns,useFactory:cZ,deps:[Rs,[new Mo(By),new fn],go]},{provide:Vb,useFactory:uZ,deps:[Lt,EG,go]},{provide:oF,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:aF},{provide:ly,multi:!0,useFactory:aZ},[Ub,{provide:ec,multi:!0,useFactory:pZ,deps:[Ub]},{provide:hF,useFactory:gZ,deps:[Ub]},{provide:jA,multi:!0,useExisting:hF}]]}}static forChild(n){return{ngModule:t,providers:[dF(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(cF,8),F(Lt,8))},t.\u0275mod=Yr({type:t}),t.\u0275inj=nr({}),t})();function uZ(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Vb(t,e,n)}function cZ(t,e,n={}){return n.useHash?new ex(t,e):new Z1(t,e)}function lZ(t){return"guarded"}function dF(t){return[{provide:r2,multi:!0,useValue:t},{provide:Lb,multi:!0,useValue:t}]}let Ub=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $r}appInitializer(){return this.injector.get(X4,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Lt),o=this.injector.get(go);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?te(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(go),i=this.injector.get(uF),s=this.injector.get(Vb),o=this.injector.get(Lt),a=this.injector.get(ua);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function pZ(t){return t.appInitializer.bind(t)}function gZ(t){return t.bootstrapListener.bind(t)}const hF=new ce("Router Initializer");let yZ=(()=>{class t{constructor(n){this.Classify=n}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(L(op))},t.\u0275cmp=We({type:t,selectors:[["app-no-service-msg"]],decls:6,vars:0,consts:[[1,"message","is-warning"],[1,"message-header"],[1,"message-body"]],template:function(n,r){1&n&&(g(0,"article",0),g(1,"div",1),g(2,"p"),S(3,"Info"),m(),m(),g(4,"div",2),S(5,"The service is currently close"),m(),m())},encapsulation:2}),t})(),_Z=(()=>{class t{constructor(n,r){this.router=n,this.Classify=r}ngOnInit(){var n=this;return w(function*(){yl(),yield oo(1500);var r=n.Classify.isActive();z("loader").remove(),r?(Bf("main_el",1).style.display="unset",Bf("main_el",0).remove()):(Bf("main_el",0).style.display="unset",Bf("main_el",1).remove())})()}placeholderRange(n,r,i){var s=Number(z(n+"_units").value),o=z(n+"_input"),a=z(n+"_help");let u=String(parseFloat((s*r).toFixed(2))),c=String(parseFloat((s*i).toFixed(2)));a.innerHTML="must be between "+u+" and "+c,o.setAttribute("placeholder",u+"-"+c),o.setAttribute("min",u),o.setAttribute("max",c),o.value=""}glucoseDontKnow(){z("avg_glucose_level_input").value="",this.styleChange("avg_glucose_level"),z("avg_glucose_level_input").disabled=!z("avg_glucose_level_input").disabled,z("avg_glucose_level_units").disabled=!z("avg_glucose_level_units").disabled}fillParams(){var n=z("gender_input").value,r=z("age_input").value,i=Number(z("height_units").value),s=Number(z("height_input").value)/(100*i);i=Number(z("weight_units").value);var c,a=Number(z("weight_input").value)/i/s**2;c=Zn("EverMarried").checked?1:0;var h,l=z("job_input").value;h=Zn("ResidenceType").checked?0:1;var _,E,f=z("smoke_input").value;_=Zn("hypertension").checked?1:0,E=Zn("heart_disease").checked?1:0;var T,v=z("avg_glucose_level_input");return v.disabled?T=0:(i=Number(z("avg_glucose_level_units").value),T=Number(v.value)/i),{gender:Number(n),age:Number(r),bmi:a,ever_married:c,work_type:Number(l),Residence_type:h,smoking_status:Number(f),hypertension:_,heart_disease:E,avg_glucose_level:T}}validTest(){var n=z("gender_input").value;if(!["1","0"].includes(n))return 0;if(""==z("age_input").value)return 0;if(!this.styleChange("age"))return-1;var s=z("height_input").value;if(""==s)return 0;if(!this.styleChange("height"))return-1;var o=z("weight_input").value;if(""==o)return 0;if(!this.styleChange("weight"))return-1;var a=Zn("EverMarried",0),u=Zn("EverMarried",1);if(!a.checked&&!u.checked)return 0;var c=z("job_input").value;if(!["0","1","2","3","4"].includes(c))return 0;var d=Zn("ResidenceType",0),h=Zn("ResidenceType",1);if(!d.checked&&!h.checked)return 0;var f=z("smoke_input").value;if(!["1","2","3"].includes(f))return 0;var _=Zn("hypertension",0),y=Zn("hypertension",1);if(!_.checked&&!y.checked)return 0;var E=Zn("heart_disease",0),v=Zn("heart_disease",1);if(!E.checked&&!v.checked)return 0;var T=z("avg_glucose_level_input");if(!T.disabled&&""==T.value)return 0;if(!this.styleChange("avg_glucose_level")&&!T.disabled)return-1;var N=Number(z("height_units").value),U=Number(s)/(100*N);return N=Number(z("weight_units").value),Number(o)/N/U**2>200?-1:1}sendTest(){var n=this;return w(function*(){if(1==n.validTest()){var r=Re.auth.currentUser;if(null!=r){const a=Ji(Re.db,"users",r.uid),u=yield tu(a);if(u.exists()){var i=u.data().tests,s=n.fillParams();i[Object.keys(i).length+1]=s;var o=u.data().results;n.Classify.classifyOne(s).subscribe(function(){var c=w(function*(l){o[Object.keys(o).length+1]=l,yield ZM(a,{tests:i,results:o}),n.showGauge(l),window.alert("your chances to have stroke are: "+l+"%")});return function(l){return c.apply(this,arguments)}}())}else console.log("something gone wrong :(")}}else 0==n.validTest()?window.alert("complete all fields!"):-1==n.validTest()?window.alert("please fill valid parameters"):window.alert("something gone wrong :(")})()}styleChange(n){var r=z(n+"_input"),i=z(n+"_help");let s="0"==r.value&&"age"==n;return""==r.value||Number(r.value)<=Number(r.max)&&!s&&Number(r.min)<=Number(r.value)?(r.classList.remove("is-danger"),i.style.display="none",""!=r.value):(r.classList.add("is-danger"),i.style.display="block",!1)}showGauge(n){var r=z("tar");r.style.display="unset","NaN"==n?(r.style.display="none",r.src=""):parseFloat(n)>=0&&parseFloat(n)<20?r.src="../assets/img/lowRisk.png":parseFloat(n)>=20&&parseFloat(n)<50?r.src="../assets/img/mediumRisk.png":parseFloat(n)>=50&&parseFloat(n)<=100?r.src="../assets/img/highRisk.png":(r.style.display="none",r.src="",console.log("something gone wrong :(")),r.scrollIntoView()}AWSservice(){return this.Classify.isActive()}}return t.\u0275fac=function(n){return new(n||t)(L(Lt),L(op))},t.\u0275cmp=We({type:t,selectors:[["app-test"]],decls:210,vars:0,consts:[["id","loader","max","100",1,"progress","is-info"],[1,"main_el"],[1,"wrapper","main_el"],[1,"title","is-underlined"],[1,"field","is-horizontal"],[1,"field-label","row-center","is-medium"],[1,"label"],[1,"field-body"],[1,"field","is-narrow","row-center"],[1,"control","is-expanded"],[1,"select","is-medium","is-expanded"],["name","Gender","id","gender_input"],["value","1"],["value","0"],[1,"field","has-addons","has-addons-centered"],[1,"control"],["id","age_input","type","number","min","0","max","120","placeholder","0-120",1,"input","is-medium",3,"change"],[1,"button","is-static","is-medium"],["id","age_help",1,"help","is-danger"],["id","height_input","type","number","min","35","max","250","placeholder","35-250",1,"input","is-medium",3,"change"],[1,"select","is-medium"],["id","height_units",3,"change"],["value","0.393700787"],["id","height_help",1,"help","is-danger"],["id","weight_input","type","number","min","2","max","500","placeholder","2-500",1,"input","is-medium",3,"change"],["id","weight_units",3,"change"],["value","2.20462262"],["id","weight_help",1,"help","is-danger"],[1,"control","row-center"],[1,"radio","content","is-medium",2,"margin","0"],["type","radio","name","EverMarried"],[1,"radio","content","is-medium"],["name","WorkType","id","job_input"],["value","2"],["value","3"],["value","4"],["type","radio","name","ResidenceType"],["name","SmokingStastus","id","smoke_input"],["type","radio","name","hypertension"],[1,"row-center"],[1,"control","row-center","inf"],[1,"button","is-info","is-small","is-rounded"],[1,"icon"],[1,"fas","fa-info"],[1,"inf-text"],["type","radio","name","heart_disease"],["id","avg_glucose_level_input","type","number","min","50","max","300","step","0.01","placeholder","50-300",1,"input","is-medium",3,"change"],["id","avg_glucose_level_units",3,"change"],["value","0.0555"],[1,"field","row-center"],[1,"checkbox",2,"margin","0"],["type","checkbox",3,"click"],["id","avg_glucose_level_help",1,"help","is-danger"],[1,"button","is-success","is-large",3,"click"],[1,"container","has-text-centered"],["id","tar","alt","result"]],template:function(n,r){1&n&&(b(0,"progress",0),b(1,"app-no-service-msg",1),g(2,"div",2),g(3,"p",3),S(4,"Test yourself:"),m(),g(5,"div",4),g(6,"div",5),g(7,"label",6),S(8,"Gender"),m(),m(),g(9,"div",7),g(10,"div",8),g(11,"div",9),g(12,"div",10),g(13,"select",11),g(14,"option",12),S(15,"Male"),m(),g(16,"option",13),S(17,"Female"),m(),m(),m(),m(),m(),m(),m(),g(18,"div",4),g(19,"div",5),g(20,"label",6),S(21,"Age"),m(),m(),g(22,"div",7),g(23,"div",8),g(24,"div",14),g(25,"p",15),g(26,"input",16),He("change",function(){return r.styleChange("age")}),m(),m(),g(27,"p",15),g(28,"a",17),S(29," years old "),m(),m(),m(),m(),m(),m(),g(30,"p",18),S(31,"must be between 0 and 120"),m(),g(32,"div",4),g(33,"div",5),g(34,"label",6),S(35,"Height"),m(),m(),g(36,"div",7),g(37,"div",8),g(38,"div",14),g(39,"p",15),g(40,"input",19),He("change",function(){return r.styleChange("height")}),m(),m(),g(41,"p",15),g(42,"span",20),g(43,"select",21),He("change",function(){return r.placeholderRange("height",35,250)}),g(44,"option",12),S(45,"Cm"),m(),g(46,"option",22),S(47,"Inch"),m(),m(),m(),m(),m(),m(),m(),m(),g(48,"p",23),S(49,"must be between 35 and 250"),m(),g(50,"div",4),g(51,"div",5),g(52,"label",6),S(53,"Weight"),m(),m(),g(54,"div",7),g(55,"div",8),g(56,"div",14),g(57,"p",15),g(58,"input",24),He("change",function(){return r.styleChange("weight")}),m(),m(),g(59,"p",15),g(60,"span",20),g(61,"select",25),He("change",function(){return r.placeholderRange("weight",2,500)}),g(62,"option",12),S(63,"Kg"),m(),g(64,"option",26),S(65,"Lb"),m(),m(),m(),m(),m(),m(),m(),m(),g(66,"p",27),S(67,"must be between 2 and 500"),m(),g(68,"div",4),g(69,"div",5),g(70,"label",6),S(71,"Ever married?"),m(),m(),g(72,"div",7),g(73,"div",8),g(74,"div",28),g(75,"label",29),b(76,"input",30),S(77," Yes "),m(),g(78,"label",31),b(79,"input",30),S(80," No "),m(),m(),m(),m(),m(),g(81,"div",4),g(82,"div",5),g(83,"label",6),S(84,"Current job type"),m(),m(),g(85,"div",7),g(86,"div",8),g(87,"div",9),g(88,"div",20),g(89,"select",32),g(90,"option",12),S(91,"Unemployed"),m(),g(92,"option",33),S(93,"Private"),m(),g(94,"option",34),S(95,"Self-employed"),m(),g(96,"option",35),S(97,"Children"),m(),g(98,"option",13),S(99,"Government job"),m(),m(),m(),m(),m(),m(),m(),g(100,"div",4),g(101,"div",5),g(102,"label",6),S(103,"Residence type"),m(),m(),g(104,"div",7),g(105,"div",8),g(106,"div",15),g(107,"label",29),b(108,"input",36),S(109," Rural "),m(),g(110,"label",31),b(111,"input",36),S(112," Urban "),m(),m(),m(),m(),m(),g(113,"div",4),g(114,"div",5),g(115,"label",6),S(116,"Smoking status"),m(),m(),g(117,"div",7),g(118,"div",8),g(119,"div",9),g(120,"div",20),g(121,"select",37),g(122,"option",33),S(123,"Never smoked"),m(),g(124,"option",34),S(125,"smokes"),m(),g(126,"option",12),S(127,"Formerly smoked"),m(),m(),m(),m(),m(),m(),m(),g(128,"div",4),g(129,"div",5),g(130,"label",6),S(131,"Hypertension"),m(),m(),g(132,"div",7),g(133,"div",8),g(134,"div",28),g(135,"label",29),b(136,"input",38),S(137," Yes "),m(),g(138,"label",31),b(139,"input",38),S(140," No "),m(),m(),g(141,"p",39),S(142,"\xa0\xa0"),m(),g(143,"div",40),g(144,"a",41),g(145,"span",42),b(146,"i",43),m(),m(),g(147,"span",44),S(148,"Do you currently have high blood pressure?"),m(),m(),m(),m(),m(),g(149,"div",4),g(150,"div",5),g(151,"label",6),S(152,"Heart disease"),m(),m(),g(153,"div",7),g(154,"div",8),g(155,"div",28),g(156,"label",29),b(157,"input",45),S(158," Yes "),m(),g(159,"label",31),b(160,"input",45),S(161," No "),m(),m(),g(162,"p",39),S(163,"\xa0\xa0"),m(),g(164,"div",40),g(165,"a",41),g(166,"span",42),b(167,"i",43),m(),m(),g(168,"span",44),S(169,"Do you currently have heart disease?"),m(),m(),m(),m(),m(),g(170,"div",4),g(171,"div",5),g(172,"label",6),S(173,"Average glucose"),m(),m(),g(174,"div",7),g(175,"div",8),g(176,"div",14),g(177,"p",15),g(178,"input",46),He("change",function(){return r.styleChange("avg_glucose_level")}),m(),m(),g(179,"p",15),g(180,"span",20),g(181,"select",47),He("change",function(){return r.placeholderRange("avg_glucose_level",50,300)}),g(182,"option",12),S(183,"mg/dL"),m(),g(184,"option",48),S(185,"mmol/L"),m(),m(),m(),m(),m(),g(186,"p",39),S(187,"\xa0\xa0"),m(),g(188,"div",40),g(189,"a",41),g(190,"span",42),b(191,"i",43),m(),m(),g(192,"span",44),S(193,"What is your average glucose level over the past month?"),m(),m(),g(194,"p",39),S(195,"\xa0\xa0"),m(),g(196,"div",49),g(197,"div",15),g(198,"label",50),g(199,"input",51),He("click",function(){return r.glucoseDontKnow()}),m(),S(200," I don't know "),m(),m(),m(),m(),m(),m(),g(201,"p",52),S(202," must be between 50 and 300 "),m(),g(203,"div",53),He("click",function(){return r.sendTest()}),S(204," Click to see the results "),m(),m(),g(205,"div",54),b(206,"br"),b(207,"br"),b(208,"br"),b(209,"img",55),m())},directives:[yZ],styles:['.main_el[_ngcontent-%COMP%]{display:none}#tar[_ngcontent-%COMP%]{display:none}.help[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{padding-left:calc(50% - 200px)}.is-horizontal[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-basis:unset;flex-grow:unset}.field-label[_ngcontent-%COMP%]{justify-content:flex-start;width:200px}.row-center[_ngcontent-%COMP%]{height:50px;display:flex;flex-wrap:wrap;align-content:center;align-self:center}.inf[_ngcontent-%COMP%]   .inf-text[_ngcontent-%COMP%]{visibility:hidden;width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;top:-5px;left:110%}.inf[_ngcontent-%COMP%]   .inf-text[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent black transparent transparent}.inf[_ngcontent-%COMP%]:hover   .inf-text[_ngcontent-%COMP%]{visibility:visible}']}),t})(),vZ=(()=>{class t{constructor(n){this.router=n}ngOnInit(){yl()}onSubmit(){var n=this,r=z("nickname_input").value,i=z("email_input").value,s=z("password_input").value;[so("nickname"),so("email"),so("password"),so("confirm_password")].every(o=>o)?PI(Re.auth,ep).then(()=>{(function(t,e,n){return bI.apply(this,arguments)})(Re.auth,i,s).then(function(){var o=w(function*(a){yield function(t,e,n){t=ge(t,Qe);const r=ge(t.firestore,Ve),i=function(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return ml(r,[fE(Xa(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,it.none())])}(Ji(Re.db,"users",a.user.uid),{Name:r,tests:{},results:{}}),window.sessionStorage.setItem("log","true"),n.router.navigateByUrl("/profile")});return function(a){return o.apply(this,arguments)}}()).catch(o=>{})}).catch(o=>{}):window.alert("complete all fields!")}styleChange(n){so(n)}}return t.\u0275fac=function(n){return new(n||t)(L(Lt))},t.\u0275cmp=We({type:t,selectors:[["app-registerfields"]],decls:44,vars:0,consts:[[1,"field"],[1,"label"],[1,"control","has-icons-left"],[1,"icon","is-small","is-left"],[1,"fas","fa-user"],["id","nickname_input","type","text","placeholder","Nickname",1,"input",3,"change"],[1,"icon","is-small","is-right"],["id","nickname_icon",1,"fas"],["id","nickname_help",1,"help","is-danger"],["id","email_input","type","email","placeholder","Email",1,"input",3,"change"],[1,"fas","fa-envelope"],["id","email_icon",1,"fas"],["id","email_help",1,"help","is-danger"],["id","password_input","type","password","placeholder","Password",1,"input",3,"change"],[1,"fas","fa-lock"],["id","password_icon",1,"fas"],["id","password_help",1,"help","is-danger"],["id","confirm_password_input","type","password","placeholder","Password",1,"input",3,"change"],["id","confirm_password_icon",1,"fas"],["id","confirm_password_help",1,"help","is-danger"],[1,"control"],[1,"button","is-success",3,"click"]],template:function(n,r){1&n&&(g(0,"div",0),g(1,"label",1),S(2,"Nickname"),m(),g(3,"div",2),g(4,"span",3),b(5,"i",4),m(),g(6,"input",5),He("change",function(){return r.styleChange("nickname")}),m(),g(7,"span",6),b(8,"i",7),m(),m(),b(9,"p",8),m(),g(10,"div",0),g(11,"label",1),S(12,"Email"),m(),g(13,"div",2),g(14,"input",9),He("change",function(){return r.styleChange("email")}),m(),g(15,"span",3),b(16,"i",10),m(),g(17,"span",6),b(18,"i",11),m(),m(),b(19,"p",12),m(),g(20,"div",0),g(21,"label",1),S(22,"Password"),m(),g(23,"div",2),g(24,"input",13),He("change",function(){return r.styleChange("password")}),m(),g(25,"span",3),b(26,"i",14),m(),g(27,"span",6),b(28,"i",15),m(),m(),b(29,"p",16),m(),g(30,"div",0),g(31,"label",1),S(32,"Confirm Password"),m(),g(33,"div",2),g(34,"input",17),He("change",function(){return r.styleChange("confirm_password")}),m(),g(35,"span",3),b(36,"i",14),m(),g(37,"span",6),b(38,"i",18),m(),m(),b(39,"p",19),m(),g(40,"div",0),g(41,"div",20),g(42,"button",21),He("click",function(){return r.onSubmit()}),S(43,"Register"),m(),m(),m())},encapsulation:2}),t})(),wZ=(()=>{class t{constructor(){}ngOnInit(){}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-home"]],decls:8,vars:0,consts:[["id","container"],["id","background"],["id","first_circle"],["routerLink","test",1,"has-text-weight-bold","has-text-black"],["id","second_circle"],["routerLink","about",1,"has-text-weight-bold","has-text-black"]],template:function(n,r){1&n&&(g(0,"div",0),g(1,"div",1),g(2,"div",2),g(3,"a",3),S(4,"Test yourself and help us help you"),m(),m(),g(5,"div",4),g(6,"a",5),S(7,"How does it works?"),m(),m(),m(),m())},directives:[jl],styles:["#container[_ngcontent-%COMP%]{background:silver;display:block;position:relative;width:100%;height:0;padding-bottom:64.375%}#background[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:url(background.6b0bdd71bc180783.png) no-repeat;background-size:cover;font-size:2.5vw}#background[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;background-color:#fff;border-radius:50%;opacity:.75}#first_circle[_ngcontent-%COMP%]{top:20%;left:10%;width:19%;height:0;padding:9.5% 0}#second_circle[_ngcontent-%COMP%]{top:60%;left:30%;width:15%;height:0;padding:7.5% 0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center}@media screen and (min-width: 1600px){#background[_ngcontent-%COMP%]{font-size:30px}}"]}),t})(),EZ=(()=>{class t{constructor(n){this.router=n}ngOnInit(){yl()}onSubmit(){var n=z("email_input").value,r=z("password_input").value;[so("email"),""!=r].every(i=>i)?(z("remember-me").checked?PI(Re.auth,HP):PI(Re.auth,ep),function(t,e,n){return function(t,e){return dI.apply(this,arguments)}(gn(t),MP.credential(e,n))}(Re.auth,n,r).then(()=>{window.sessionStorage.setItem("log","true"),this.router.navigateByUrl("/profile")}).catch(i=>{var s=i.code,o=i.message;"auth/invalid-email"==s?window.alert("can't use this email"):"auth/user-not-found"==s?window.alert("User does not exist"):window.alert("Error ["+s+"]: "+o)})):window.alert("enter valid email and password!")}styleChange(n){so(n)}}return t.\u0275fac=function(n){return new(n||t)(L(Lt))},t.\u0275cmp=We({type:t,selectors:[["app-loginfields"]],decls:26,vars:0,consts:[[1,"field"],[1,"label"],[1,"control","has-icons-left"],["id","email_input","type","email","placeholder","Email",1,"input",3,"change"],[1,"icon","is-small","is-left"],[1,"fas","fa-envelope"],[1,"icon","is-small","is-right"],["id","email_icon",1,"fas"],["id","email_help",1,"help","is-danger"],["id","password_input","type","password","placeholder","Password",1,"input"],[1,"fas","fa-lock"],[1,"control"],[1,"checkbox"],["type","checkbox","id","remember-me"],["id","login_button",1,"button","is-success",3,"click"]],template:function(n,r){1&n&&(g(0,"div",0),g(1,"label",1),S(2,"Email"),m(),g(3,"div",2),g(4,"input",3),He("change",function(){return r.styleChange("email")}),m(),g(5,"span",4),b(6,"i",5),m(),g(7,"span",6),b(8,"i",7),m(),m(),b(9,"p",8),m(),g(10,"div",0),g(11,"label",1),S(12,"Password"),m(),g(13,"p",2),b(14,"input",9),g(15,"span",4),b(16,"i",10),m(),m(),m(),g(17,"div",0),g(18,"div",11),g(19,"label",12),b(20,"input",13),S(21," Remember Me "),m(),m(),m(),g(22,"div",0),g(23,"p",11),g(24,"button",14),He("click",function(){return r.onSubmit()}),S(25," Login "),m(),m(),m())},encapsulation:2}),t})(),IZ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-none"]],decls:2,vars:0,template:function(n,r){1&n&&(g(0,"p"),S(1," none works! "),m())},encapsulation:2}),t})(),bZ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-no-tests"]],decls:9,vars:0,consts:[[1,"message","is-info"],[1,"message-header"],["routerLink","/test",1,"message-body"],[1,"icon"],[1,"fas","fa-arrow-right"]],template:function(n,r){1&n&&(g(0,"article",0),g(1,"div",1),g(2,"p"),S(3,"There are no tests"),m(),m(),g(4,"div",2),g(5,"span"),S(6," Let's start your first test"),m(),g(7,"span",3),b(8,"i",4),m(),m(),m())},directives:[bp],styles:[".message-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;pointer-events:all}.message-body[_ngcontent-%COMP%]{pointer-events:none}"]}),t})();const CZ=[{path:"login",component:EZ},{path:"",component:wZ},{path:"register",component:vZ},{path:"profile",component:(()=>{class t{constructor(n,r){this.router=n,this.Classify=r}ngOnInit(){yl(),this.loadProfile()}loadProfile(){var n=this;return w(function*(){for(;null==Re.auth.currentUser;)yield oo(200);const i=Ji(Re.db,"users",Re.auth.currentUser.uid),s=yield tu(i);if(s.exists()){var o=s.data().Name,a=document.getElementById("uName");null!=a&&(a.innerHTML="hello "+o+" \u270c")}else console.log("No name found!");n.insertTests(),z("loader").remove()})()}openTest(n){var r=this;return w(function*(){let i=n.target,s=i.id;var o=z("tOpen");if(null!=o){let E=o.parentElement==i;if(o.remove(),E)return}var a=document.createElement("div");for(a.setAttribute("id","tOpen"),a.setAttribute("class","box has-background-link-light"),a.style.textAlign="left",a.style.pointerEvents="none",z(s).appendChild(a);null==Re.auth.currentUser;)yield oo(200);const c=Ji(Re.db,"users",Re.auth.currentUser.uid),l=yield tu(c);if(l.exists()){var h=l.data().tests[Number(s)],p=l.data().results[Number(s)],_=[];for(let E in h){let T,v=h[E];switch(E){case"age":T=" Years old";break;case"bmi":v=String(parseFloat(v.toFixed(2))),T=" kg/m\xb2";break;case"avg_glucose_level":0!=v?(v=String(parseFloat(v.toFixed(2))),T=" mg/dL"):(v="Unknown",T="");break;default:T=""}_.push(E+": "+v+T)}"NaN"==p&&(p=yield r.tryToClassify(s),yield oo(700)),_.push("probability: "+p+"%"),_.sort(function(E,v){let T=["gender","age","bmi","ever_married","work_type","Residence_type","smoking_status","hypertension","heart_disease","avg_glucose_level","probability"];return T.indexOf(E.slice(0,E.indexOf(":")))-T.indexOf(v.slice(0,v.indexOf(":")))}),o=z("tOpen");var y=document.createElement("strong");y.innerHTML="Parameters:",o.appendChild(y);for(let E in _){o.appendChild(document.createElement("br"));let v=_[E],T=v.slice(0,v.indexOf(":")),N=!0;-1==v.indexOf(" ",v.indexOf(":")+2)&&(N=!1);let Ne,U=v.slice(v.indexOf(" ",v.indexOf(":")+2)),_e=v.slice(v.indexOf(":")+2,v.indexOf(" ",v.indexOf(":")+2));N||(U="",_e=v.slice(v.indexOf(":")+2)),U==_e&&(U=""),Ne="probability"==T?document.createElement("strong"):document.createElement("span"),Ne.innerHTML=T+": "+r9(_e,T)+U,o.appendChild(Ne)}}})()}tryToClassify(n){var r=this;return w(function*(){var i=Re.auth.currentUser;if(null!=i){const u=Ji(Re.db,"users",i.uid),c=yield tu(u);if(c.exists()){var o=c.data().tests[Number(n)],a=c.data().results;return r.Classify.classifyOne(o).subscribe(function(){var l=w(function*(d){return a[Number(n)]=d,yield ZM(u,{results:a}),d});return function(d){return l.apply(this,arguments)}}()),"NaN"}return console.log("something gone wrong :("),"NaN"}return console.log("something gone wrong :("),"NaN"})()}insertTests(){var n=this;return w(function*(){for(;null==Re.auth.currentUser;)yield oo(200);var r=Re.auth.currentUser,i=z("results-wrapper");const s=Ji(Re.db,"users",r.uid),o=yield tu(s);if(o.exists()){var a=o.data().tests;if(0==Object.keys(a).length)z("noTests").style.display="block";else{z("noTests").remove();for(let d=0;d<Object.keys(a).length;d++){var u=document.createElement("div");u.setAttribute("class","column is-one-third");var c=document.createElement("div");c.setAttribute("class","box is-clickable has-background-info-light"),c.setAttribute("id",Object.keys(a)[d]),c.addEventListener("click",n.openTest.bind(n));var l=document.createElement("span");l.setAttribute("class","is-size-3 has-text-weight-semibold"),l.style.pointerEvents="none",l.innerHTML="Test "+Object.keys(a)[d],i.appendChild(u).appendChild(c).appendChild(l)}}}})()}}return t.\u0275fac=function(n){return new(n||t)(L(Lt),L(op))},t.\u0275cmp=We({type:t,selectors:[["app-profile"]],decls:6,vars:0,consts:[["id","loader","max","100",1,"progress","is-info"],[1,"title"],["id","uName"],["id","results-wrapper","role","results",1,"columns","is-multiline"],["id","noTests",1,"column"]],template:function(n,r){1&n&&(g(0,"div"),b(1,"progress",0),g(2,"div",1),b(3,"span",2),m(),g(4,"div",3),b(5,"app-no-tests",4),m(),m())},directives:[bZ],styles:["#noTests[_ngcontent-%COMP%]{display:none}"]}),t})()},{path:"logo",component:zY},{path:"test",component:_Z},{path:"none",component:IZ},{path:"about",component:V6}];let DZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yr({type:t}),t.\u0275inj=nr({imports:[[lF.forRoot(CZ,{useHash:!0})],lF]}),t})();function TZ(t,e){1&t&&(g(0,"a",19),S(1,"Test Yourself"),m())}function SZ(t,e){1&t&&(g(0,"a",20),S(1,"Profile"),m())}function AZ(t,e){1&t&&(g(0,"a",21),g(1,"strong"),S(2,"Sign up"),m(),m())}function xZ(t,e){1&t&&(g(0,"a",22),g(1,"strong"),S(2," Log in "),m(),m())}function RZ(t,e){if(1&t){const n=Cm();g(0,"a",23),He("click",function(){return eg(n),Sm().logout()}),g(1,"strong"),S(2," Log out "),m(),m()}}let NZ=(()=>{class t{constructor(){}ngOnInit(){}ngAfterContentInit(){this.fixBurgers()}userLogin(){return"true"==window.sessionStorage.getItem("log")}fixBurgers(){const n=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);n.length>0&&n.forEach(r=>{r.addEventListener("click",()=>{const s=document.getElementById(r.dataset.target);r.classList.toggle("is-active"),null==s||s.classList.toggle("is-active")})})}logout(){(function(t){return gn(t).signOut()})(Re.auth).then(function(){var n=w(function*(r){window.sessionStorage.setItem("log","false"),yl()});return function(r){return n.apply(this,arguments)}}())}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-header"]],decls:24,vars:5,consts:[["id","head-nav"],["id","main-nav","role","navigation","aria-label","main navigation",1,"navbar","is-dark"],[1,"navbar-brand"],["routerLink","/logo",1,"navbar-item","brand-wrapper"],["src","./assets/img/logo2.png","alt","logo"],["id","main-burger","role","button","aria-label","menu","aria-expanded","true","data-target","main-menu",1,"navbar-burger"],["aria-hidden","true"],["id","main-menu",1,"navbar-menu"],[1,"navbar-start"],["routerLink","",1,"navbar-item"],["routerLink","about",1,"navbar-item"],["class","navbar-item","routerLink","test",4,"ngIf"],["class","navbar-item","routerLink","profile",4,"ngIf"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],["class","button is-primary","routerLink","/register",4,"ngIf"],["class","button is-link","routerLink","/login",4,"ngIf"],["class","button is-danger is-light is-outlined",3,"click",4,"ngIf"],["routerLink","test",1,"navbar-item"],["routerLink","profile",1,"navbar-item"],["routerLink","/register",1,"button","is-primary"],["routerLink","/login",1,"button","is-link"],[1,"button","is-danger","is-light","is-outlined",3,"click"]],template:function(n,r){1&n&&(g(0,"div",0),g(1,"nav",1),g(2,"div",2),g(3,"a",3),b(4,"img",4),m(),g(5,"a",5),b(6,"span",6),b(7,"span",6),b(8,"span",6),m(),m(),g(9,"div",7),g(10,"div",8),g(11,"a",9),S(12,"Home"),m(),g(13,"a",10),S(14,"About"),m(),bs(15,TZ,2,0,"a",11),bs(16,SZ,2,0,"a",12),m(),g(17,"div",13),g(18,"div",14),g(19,"div",15),bs(20,AZ,3,0,"a",16),bs(21,xZ,3,0,"a",17),bs(22,RZ,3,0,"a",18),m(),m(),m(),m(),m(),m(),b(23,"br")),2&n&&(Es(15),Ni("ngIf",r.userLogin()),Es(1),Ni("ngIf",r.userLogin()),Es(4),Ni("ngIf",!r.userLogin()),Es(1),Ni("ngIf",!r.userLogin()),Es(1),Ni("ngIf",r.userLogin()))},directives:[jl,Jy],styles:[".brand-wrapper[_ngcontent-%COMP%]{padding:0;width:220px}.brand-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:90%;max-height:unset}.navbar-item[_ngcontent-%COMP%]{font-size:large}"]}),t})(),kZ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer","has-background-light"],[1,"container","content","has-text-centered"]],template:function(n,r){1&n&&(b(0,"br"),g(1,"footer",0),g(2,"div",1),g(3,"p"),S(4,"Made with \u{1f495} by Mechanical Monsters"),m(),m(),m())},encapsulation:2}),t})(),MZ=(()=>{class t{ngOnInit(){return w(function*(){null==Re.auth.currentUser&&(yield oo(1e3)),null!=Re.auth.currentUser?window.sessionStorage.setItem("log","true"):"true"==window.sessionStorage.getItem("log")&&window.sessionStorage.setItem("log","false")})()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[["id","main-div",1,"container"]],template:function(n,r){1&n&&(b(0,"app-header"),g(1,"div",0),b(2,"router-outlet"),m(),b(3,"app-footer"))},directives:[NZ,Mb,kZ],encapsulation:2}),t})();null==window.sessionStorage.getItem("log")&&window.sessionStorage.setItem("log","false");let PZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Yr({type:t,bootstrap:[MZ]}),t.\u0275inj=nr({providers:[{provide:Ns,useClass:ex}],imports:[[k6,d6,DZ]]}),t})();(function(){if(KA)throw new Error("Cannot enable prod mode after platform setup.");zA=!1})(),c6().bootstrapModule(PZ).catch(t=>console.error(t))}},In=>{In(In.s=422)}]);