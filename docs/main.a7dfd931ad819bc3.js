"use strict";var UZ=Object.defineProperty,jZ=Object.defineProperties,BZ=Object.getOwnPropertyDescriptors,yF=Object.getOwnPropertySymbols,HZ=Object.prototype.hasOwnProperty,$Z=Object.prototype.propertyIsEnumerable,_F=(bn,Yt,ln)=>Yt in bn?UZ(bn,Yt,{enumerable:!0,configurable:!0,writable:!0,value:ln}):bn[Yt]=ln,W=(bn,Yt)=>{for(var ln in Yt||(Yt={}))HZ.call(Yt,ln)&&_F(bn,ln,Yt[ln]);if(yF)for(var ln of yF(Yt))$Z.call(Yt,ln)&&_F(bn,ln,Yt[ln]);return bn},In=(bn,Yt)=>jZ(bn,BZ(Yt));(self.webpackChunkstrkpre=self.webpackChunkstrkpre||[]).push([[179],{422:(bn,Yt,ln)=>{var gu={};function Ve(t){return"function"==typeof t}function Np(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}ln.r(gu),ln.d(gu,{FirebaseError:()=>Fs,SDK_VERSION:()=>Hs,_DEFAULT_ENTRY_NAME:()=>js,_addComponent:()=>Uh,_addOrOverwriteComponent:()=>aR,_apps:()=>Hi,_clearComponents:()=>KW,_components:()=>Ac,_getProvider:()=>xc,_registerComponent:()=>Bs,_removeServiceInstance:()=>zW,deleteApp:()=>cR,getApp:()=>M_,getApps:()=>JW,initializeApp:()=>uR,onLog:()=>lR,registerVersion:()=>Lr,setLogLevel:()=>dR});const kp=Np(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Mp(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class jn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ve(r))try{r()}catch(s){e=s instanceof kp?s.errors:[s]}const{_teardowns:i}=this;if(i){this._teardowns=null;for(const s of i)try{Jb(s)}catch(o){e=null!=e?e:[],o instanceof kp?e=[...e,...o.errors]:e.push(o)}}if(e)throw new kp(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Jb(e);else{if(e instanceof jn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mp(n,e)}remove(e){const{_teardowns:n}=this;n&&Mp(n,e),e instanceof jn&&e._removeParent(this)}}jn.EMPTY=(()=>{const t=new jn;return t.closed=!0,t})();const Qb=jn.EMPTY;function Yb(t){return t instanceof jn||t&&"closed"in t&&Ve(t.remove)&&Ve(t.add)&&Ve(t.unsubscribe)}function Jb(t){Ve(t)?t():t.unsubscribe()}const as={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Kl={setTimeout(...t){const{delegate:e}=Kl;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=Kl;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Xb(t){Kl.setTimeout(()=>{const{onUnhandledError:e}=as;if(!e)throw t;e(t)})}function Ql(){}const vF=Pp("C",void 0,void 0);function Pp(t,e,n){return{kind:t,value:e,error:n}}let us=null;function Yl(t){if(as.useDeprecatedSynchronousErrorHandling){const e=!us;if(e&&(us={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=us;if(us=null,n)throw r}}else t()}class Op extends jn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yb(e)&&e.add(this)):this.destination=bF}static create(e,n,r){return new Fp(e,n,r)}next(e){this.isStopped?Vp(Pp("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Vp(Pp("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vp(vF,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Fp extends Op{constructor(e,n,r){let i;if(super(),Ve(e))i=e;else if(e){let s;({next:i,error:n,complete:r}=e),this&&as.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,i=null==i?void 0:i.bind(s),n=null==n?void 0:n.bind(s),r=null==r?void 0:r.bind(s)}this.destination={next:i?Lp(i):Ql,error:Lp(null!=n?n:Zb),complete:r?Lp(r):Ql}}}function Lp(t,e){return(...n)=>{try{t(...n)}catch(r){as.useDeprecatedSynchronousErrorHandling?function(t){as.useDeprecatedSynchronousErrorHandling&&us&&(us.errorThrown=!0,us.error=t)}(r):Xb(r)}}}function Zb(t){throw t}function Vp(t,e){const{onStoppedNotification:n}=as;n&&Kl.setTimeout(()=>n(t,e))}const bF={closed:!0,next:Ql,error:Zb,complete:Ql},Up="function"==typeof Symbol&&Symbol.observable||"@@observable";function cs(t){return t}let Pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function(t){return t&&t instanceof Op||function(t){return t&&Ve(t.next)&&Ve(t.error)&&Ve(t.complete)}(t)&&Yb(t)}(n)?n:new Fp(n,r,i);return Yl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=tC(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(u){s(u),null==o||o.unsubscribe()}},s,i)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Up](){return this}pipe(...n){return function(t){return 0===t.length?cs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=tC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function tC(t){var e;return null!==(e=null!=t?t:as.Promise)&&void 0!==e?e:Promise}const TF=Np(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Wr=(()=>{class t extends Pe{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new nC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new TF}next(n){Yl(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const i of r)i.next(n)}})}error(n){Yl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Yl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Qb:(s.push(n),new jn(()=>Mp(s,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return t.create=(e,n)=>new nC(e,n),t})();class nC extends Wr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Qb}}function rC(t){return Ve(null==t?void 0:t.lift)}function Tt(t){return e=>{if(rC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class St extends Op{constructor(e,n,r,i,s){super(e),this.onFinalize=s,this._next=n?function(o){try{n(o)}catch(a){e.error(a)}}:super._next,this._error=i?function(o){try{i(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function ye(t,e){return Tt((n,r)=>{let i=0;n.subscribe(new St(r,s=>{r.next(t.call(e,s,i++))}))})}function ls(t){return this instanceof ls?(this.v=t,this):new ls(t)}function xF(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,_){s.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof ls?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function RF(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const aC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function uC(t){return Ve(null==t?void 0:t.then)}function cC(t){return Ve(t[Up])}function lC(t){return Symbol.asyncIterator&&Ve(null==t?void 0:t[Symbol.asyncIterator])}function dC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hC="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function fC(t){return Ve(null==t?void 0:t[hC])}function pC(t){return xF(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ls(n.read());if(i)return yield ls(void 0);yield yield ls(r)}}finally{n.releaseLock()}})}function gC(t){return Ve(null==t?void 0:t.getReader)}function zr(t){if(t instanceof Pe)return t;if(null!=t){if(cC(t))return function(t){return new Pe(e=>{const n=t[Up]();if(Ve(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(aC(t))return function(t){return new Pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(uC(t))return function(t){return new Pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xb)})}(t);if(lC(t))return mC(t);if(fC(t))return function(t){return new Pe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(gC(t))return function(t){return mC(pC(t))}(t)}throw dC(t)}function mC(t){return new Pe(e=>{(function(t,e){var n,r,i,s;return function(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=RF(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Kr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ft(t,e,n=1/0){return Ve(e)?ft((r,i)=>ye((s,o)=>e(r,s,i,o))(zr(t(r,i))),n):("number"==typeof e&&(n=e),Tt((r,i)=>function(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=_=>c<r?p(_):u.push(_),p=_=>{c++;let y=!1;zr(n(_,l++)).subscribe(new St(e,w=>{e.next(w)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const w=u.shift();p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(new St(e,f,()=>{d=!0,h()})),()=>{}}(r,i,t,n)))}function mu(t=1/0){return ft(cs,t)}const Qr=new Pe(t=>t.complete());function Bp(t){return t[t.length-1]}function yu(t){return function(t){return t&&Ve(t.schedule)}(Bp(t))?t.pop():void 0}function yC(t,e=0){return Tt((n,r)=>{n.subscribe(new St(r,i=>Kr(r,t,()=>r.next(i),e),()=>Kr(r,t,()=>r.complete(),e),i=>Kr(r,t,()=>r.error(i),e)))})}function _C(t,e=0){return Tt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vC(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pe(n=>{Kr(n,e,()=>{const r=t[Symbol.asyncIterator]();Kr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function At(t,e){return e?function(t,e){if(null!=t){if(cC(t))return function(t,e){return zr(t).pipe(_C(e),yC(e))}(t,e);if(aC(t))return function(t,e){return new Pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(uC(t))return function(t,e){return zr(t).pipe(_C(e),yC(e))}(t,e);if(lC(t))return vC(t,e);if(fC(t))return function(t,e){return new Pe(n=>{let r;return Kr(n,e,()=>{r=t[hC](),Kr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ve(null==r?void 0:r.return)&&r.return()})}(t,e);if(gC(t))return function(t,e){return vC(pC(t),e)}(t,e)}throw dC(t)}(t,e):zr(t)}function Jl(t){return t<=0?()=>Qr:Tt((e,n)=>{let r=0;e.subscribe(new St(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Hp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Jl(1)).subscribe(()=>t())}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function qp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const XF=Ee({__forward_ref__:Ee});function Gp(t){return t.__forward_ref__=Gp,t.toString=function(){return se(this())},t}function B(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(XF)&&t.__forward_ref__===Gp}(t)?t():t}class ds extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function Z(t){return"string"==typeof t?t:null==t?"":String(t)}function Jt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Z(t)}function Xl(t,e){const n=e?` in ${e}`:"";throw new ds("201",`No provider for ${Jt(t)} found${n}`)}function Dn(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ir(t){return{providers:t.providers||[],imports:t.imports||[]}}function Jr(t){return EC(t,Zl)||EC(t,bC)}function EC(t,e){return t.hasOwnProperty(e)?t[e]:null}function IC(t){return t&&(t.hasOwnProperty(zp)||t.hasOwnProperty(sL))?t[zp]:null}const Zl=Ee({\u0275prov:Ee}),zp=Ee({\u0275inj:Ee}),bC=Ee({ngInjectableDef:Ee}),sL=Ee({ngInjectorDef:Ee});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let Kp;function Di(t){const e=Kp;return Kp=t,e}function CC(t,e,n){const r=Jr(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H.Optional?null:void 0!==e?e:void Xl(se(t),"Injector")}function Ti(t){return{toString:t}.toString()}var Bn=(()=>((Bn=Bn||{})[Bn.OnPush=0]="OnPush",Bn[Bn.Default=1]="Default",Bn))(),Tn=(()=>{return(t=Tn||(Tn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Tn;var t})();const aL="undefined"!=typeof globalThis&&globalThis,uL="undefined"!=typeof window&&window,cL="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ve=aL||"undefined"!=typeof global&&global||uL||cL,Eo={},Ce=[],ed=Ee({\u0275cmp:Ee}),Qp=Ee({\u0275dir:Ee}),Yp=Ee({\u0275pipe:Ee}),DC=Ee({\u0275mod:Ee}),Xr=Ee({\u0275fac:Ee}),_u=Ee({__NG_ELEMENT_ID__:Ee});let lL=0;function We(t){return Ti(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Bn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Tn.Emulated,id:"c",styles:t.styles||Ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=lL++,r.inputs=xC(t.inputs,n),r.outputs=xC(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(TC):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(SC):null,r})}function TC(t){return Ut(t)||function(t){return t[Qp]||null}(t)}function SC(t){return function(t){return t[Yp]||null}(t)}const AC={};function Zr(t){return Ti(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ce,declarations:t.declarations||Ce,imports:t.imports||Ce,exports:t.exports||Ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(AC[t.id]=t.type),e})}function xC(t,e){if(null==t)return Eo;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Vt=We;function Ut(t){return t[ed]||null}function Hn(t,e){const n=t[DC]||null;if(!n&&!0===e)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return n}function Tr(t){return Array.isArray(t)&&"object"==typeof t[1]}function or(t){return Array.isArray(t)&&!0===t[1]}function Zp(t){return 0!=(8&t.flags)}function id(t){return 2==(2&t.flags)}function sd(t){return 1==(1&t.flags)}function ar(t){return null!==t.template}function mL(t){return 0!=(512&t[2])}function ms(t,e){return t.hasOwnProperty(Xr)?t[Xr]:null}class NC{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ys(){return kC}function kC(t){return t.type.prototype.ngOnChanges&&(t.setInput=wL),vL}function vL(){const t=PC(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Eo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function wL(t,e,n,r){const i=PC(t)||function(t,e){return t[MC]=e}(t,{previous:Eo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new NC(u&&u.currentValue,e,o===Eo),t[r]=e}ys.ngInherit=!0;const MC="__ngSimpleChanges__";function PC(t){return t[MC]||null}let ng;function Ue(t){return!!t.listen}const LC={createRenderer:(t,e)=>void 0!==ng?ng:"undefined"!=typeof document?document:void 0};function Ye(t){for(;Array.isArray(t);)t=t[0];return t}function Gn(t,e){return Ye(e[t.index])}function ig(t,e){return t.data[e]}function An(t,e){const n=e[t];return Tr(n)?n:n[0]}function sg(t){return 128==(128&t[2])}function Ai(t,e){return null==e?null:t[e]}function UC(t){t[18]=0}function og(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const K={lFrame:zC(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jC(){return K.bindingsEnabled}function D(){return K.lFrame.lView}function he(){return K.lFrame.tView}function ag(t){return K.lFrame.contextLView=t,t[8]}function ot(){let t=BC();for(;null!==t&&64===t.type;)t=t.parent;return t}function BC(){return K.lFrame.currentTNode}function Sr(t,e){const n=K.lFrame;n.currentTNode=t,n.isParent=e}function ug(){return K.lFrame.isParent}function ad(){return K.isInCheckNoChangesMode}function ud(t){K.isInCheckNoChangesMode=t}function So(){return K.lFrame.bindingIndex++}function OL(t,e){const n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,lg(e)}function lg(t){K.lFrame.currentDirectiveIndex=t}function hg(t){K.lFrame.currentQueryIndex=t}function LL(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function GC(t,e,n){if(n&H.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&H.Host||(i=LL(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=K.lFrame=WC();return r.currentTNode=e,r.lView=t,!0}function cd(t){const e=WC(),n=t[1];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function WC(){const t=K.lFrame,e=null===t?null:t.child;return null===e?zC(t):e}function zC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function KC(){const t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const QC=KC;function ld(){const t=KC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zt(){return K.lFrame.selectedIndex}function xi(t){K.lFrame.selectedIndex=t}function je(){const t=K.lFrame;return ig(t.tView,t.selectedIndex)}function dd(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function hd(t,e,n){YC(t,e,3,n)}function fd(t,e,n,r){(3&t[2])===n&&YC(t,e,n,r)}function fg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function YC(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(WL(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function WL(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class bu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function pd(t,e,n){const r=Ue(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];gg(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function JC(t){return 3===t||4===t||6===t}function gg(t){return 64===t.charCodeAt(0)}function gd(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||XC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function XC(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function ZC(t){return-1!==t}function Ao(t){return 32767&t}function xo(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let mg=!0;function md(t){const e=mg;return mg=t,e}let XL=0;function Du(t,e){const n=_g(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,yg(r.data,t),yg(e,null),yg(r.blueprint,null));const i=yd(t,e),s=t.injectorIndex;if(ZC(i)){const o=Ao(i),a=xo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function yg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _g(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function yd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function _d(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(_u)&&(r=n[_u]),null==r&&(r=n[_u]=XL++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function n0(t,e,n){if(n&H.Optional)return t;Xl(e,"NodeInjector")}function r0(t,e,n,r){if(n&H.Optional&&void 0===r&&(r=null),0==(n&(H.Self|H.Host))){const i=t[9],s=Di(void 0);try{return i?i.get(e,r,n&H.Optional):CC(e,r,n&H.Optional)}finally{Di(s)}}return n0(r,e,n)}function s0(t,e,n,r=H.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(_u)?t[_u]:void 0;return"number"==typeof e?e>=0?255&e:t2:e}(n);if("function"==typeof s){if(!GC(e,t,r))return r&H.Host?n0(i,n,r):r0(e,n,r,i);try{const o=s(r);if(null!=o||r&H.Optional)return o;Xl(n)}finally{QC()}}else if("number"==typeof s){let o=null,a=_g(t,e),u=-1,c=r&H.Host?e[16][6]:null;for((-1===a||r&H.SkipSelf)&&(u=-1===a?yd(t,e):e[a+8],-1!==u&&u0(r,!1)?(o=e[1],a=Ao(u),e=xo(u,e)):a=-1);-1!==a;){const l=e[1];if(a0(s,a,l.data)){const d=n2(a,e,n,o,r,c);if(d!==o0)return d}u=e[a+8],-1!==u&&u0(r,e[1].data[a+8]===c)&&a0(s,a,e)?(o=l,a=Ao(u),e=xo(u,e)):a=-1}}}return r0(e,n,r,i)}const o0={};function t2(){return new Ro(ot(),D())}function n2(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&ar(f)&&f.type===n)return u}return null}(a,o,n,null==r?id(a)&&mg:r!=o&&0!=(3&a.type),i&H.Host&&s===a);return null!==l?Tu(e,o,l,a):o0}function Tu(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof bu}(i)){const o=i;o.resolving&&function(t,e){throw new ds("200",`Circular dependency in DI detected for ${t}`)}(Jt(s[n]));const a=md(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Di(o.injectImpl):null;GC(t,r,H.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=kC(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&Di(u),md(a),o.resolving=!1,QC()}}return i}function a0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function u0(t,e){return!(t&H.Self||t&H.Host&&e)}class Ro{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return s0(this._tNode,this._lView,e,r,n)}}function Su(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(JC(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(ot(),t)}const ko="__parameters__";function _s(t,e,n){return Ti(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ko)?u[ko]:Object.defineProperty(u,ko,{value:[]})[ko];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class ce{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const a2=new ce("AnalyzeForEntryComponents");function Ar(t,e){t.forEach(n=>Array.isArray(n)?Ar(n,e):e(n))}function wd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const ku={},Cg="__NG_DI_FLAG__",Oo="ngTempTokenPath",y2=/\n/gm,Dg="__source",Tg=Ee({provide:String,useValue:Ee});let Mu;function Fo(t){const e=Mu;return Mu=t,e}function v2(t,e=H.Default){if(void 0===Mu)throw new Error("inject() must be called from an injection context");return null===Mu?CC(t,void 0,e):Mu.get(t,e&H.Optional?null:void 0,e)}function F(t,e=H.Default){return(Kp||v2)(B(t),e)}function ws(t){const e=[];for(let n=0;n<t.length;n++){const r=B(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=H.Default;for(let o=0;o<r.length;o++){const a=r[o],u=w2(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function Pu(t,e){return t[Cg]=e,t.prototype[Cg]=e,t}function w2(t){return t[Cg]}function f0(t,e,n,r){const i=t[Oo];throw e[Dg]&&i.unshift(e[Dg]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=se(e);if(Array.isArray(e))i=e.map(se).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):se(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(y2,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Oo]=null,t}const Lo=Pu(_s("Inject",t=>({token:t})),-1),fn=Pu(_s("Optional"),8),ki=Pu(_s("SkipSelf"),4);class Es{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function xr(t,e){const n=function(t){return t instanceof Es&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}const q2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,G2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var De=(()=>((De=De||{})[De.NONE=0]="NONE",De[De.HTML=1]="HTML",De[De.STYLE=2]="STYLE",De[De.SCRIPT=3]="SCRIPT",De[De.URL=4]="URL",De[De.RESOURCE_URL=5]="RESOURCE_URL",De))();function Pg(t){const e=function(){const t=D();return t&&t[12]}();return e?e.sanitize(De.URL,t)||"":xr(t,"URL")?function(t){return t instanceof Es?t.changingThisBreaksApplicationSecurity:t}(t):function(t){return(t=String(t)).match(q2)||t.match(G2)?t:"unsafe:"+t}(Z(t))}const k0="__ngContext__";function Bt(t,e){t[k0]=e}function Fg(t){const e=function(t){return t[k0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Sd(t){return t.ngOriginalError}function fV(t,...e){t.error(...e)}class Is{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=(t=e)&&t.ngErrorLogger||fV;var t;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Sd(e)):null}_findOriginalError(e){let n=e&&Sd(e);for(;n&&Sd(n);)n=Sd(n);return n||null}}const B0=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ve))();function Nr(t){return t instanceof Function?t():t}var Nn=(()=>((Nn=Nn||{})[Nn.Important=1]="Important",Nn[Nn.DashCase=2]="DashCase",Nn))();function Ug(t,e){return undefined(t,e)}function ju(t){const e=t[3];return or(e)?e[3]:e}function jg(t){return W0(t[13])}function Bg(t){return W0(t[4])}function W0(t){for(;null!==t&&!or(t);)t=t[4];return t}function Bo(t,e,n,r,i){if(null!=r){let s,o=!1;or(r)?s=r:Tr(r)&&(o=!0,r=r[0]);const a=Ye(r);0===t&&null!==n?null==i?X0(e,n,a):bs(e,n,a,i||null,!0):1===t&&null!==n?bs(e,n,a,i||null,!0):2===t?function(t,e,n){const r=xd(t,e);r&&function(t,e,n,r){Ue(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Ye(n)&&Bo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];Bu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function $g(t,e,n){return Ue(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function K0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,og(i,-1)),n.splice(r,1)}function qg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&K0(i,r),e>0&&(t[n-1][4]=r[4]);const s=vs(t,10+e);!function(t,e){Bu(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Q0(t,e){if(!(256&e[2])){const n=e[11];Ue(n)&&n.destroyNode&&Bu(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gg(t[1],t);for(;e;){let n=null;if(Tr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Tr(e)&&Gg(e[1],e),e=e[3];null===e&&(e=t),Tr(e)&&Gg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof bu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Ye(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Ue(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&or(e[3])){n!==e[3]&&K0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Y0(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Tn.None||i===Tn.Emulated)return null}return Gn(r,n)}(t,e.parent,n)}function bs(t,e,n,r,i){Ue(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function X0(t,e,n){Ue(t)?t.appendChild(e,n):e.appendChild(n)}function Z0(t,e,n,r,i){null!==r?bs(t,e,n,r,i):X0(t,e,n)}function xd(t,e){return Ue(t)?t.parentNode(e):e.parentNode}let nD=function(t,e,n){return 40&t.type?Gn(t,n):null};function Rd(t,e,n,r){const i=Y0(t,r,e),s=e[11],a=function(t,e,n){return nD(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Z0(s,i,n[u],a,!1);else Z0(s,i,n,a,!1)}function Nd(t,e){if(null!==e){const n=e.type;if(3&n)return Gn(e,t);if(4&n)return zg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Nd(t,r);{const i=t[e.index];return or(i)?zg(-1,i):Ye(i)}}if(32&n)return Ug(e,t)()||Ye(t[e.index]);{const r=iD(t,e);return null!==r?Array.isArray(r)?r[0]:Nd(ju(t[16]),r):Nd(t,e.next)}}return null}function iD(t,e){return null!==e?t[16][6].projection[e.projection]:null}function zg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Nd(r,i)}return e[7]}function Kg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Bt(Ye(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Kg(t,e,n.child,r,i,s,!1),Bo(e,t,i,a,s);else if(32&u){const c=Ug(n,r);let l;for(;l=c();)Bo(e,t,i,l,s);Bo(e,t,i,a,s)}else 16&u?oD(t,e,r,n,i,s):Bo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Bu(t,e,n,r,i,s){Kg(n,r,t.firstChild,e,i,s,!1)}function oD(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Bo(e,t,i,u[c],s);else Kg(t,e,u,o[3],i,s,!0)}function aD(t,e,n){Ue(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qg(t,e,n){Ue(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function uD(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const cD="ng-template";function UV(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==uD(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function lD(t){return 4===t.type&&t.value!==cD}function jV(t,e,n){return e===(4!==t.type||n?t.value:cD)}function BV(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(JC(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!jV(t,u,n)||""===u&&1===e.length){if(ur(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!UV(t.attrs,c,n)){if(ur(r))return!1;o=!0}continue}const d=HV(8&r?"class":u,i,lD(t),n);if(-1===d){if(ur(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==uD(f,c,0)||2&r&&c!==h){if(ur(r))return!1;o=!0}}}}else{if(!o&&!ur(r)&&!ur(u))return!1;if(o&&ur(u))continue;o=!1,r=u|1&r}}return ur(r)||o}function ur(t){return 0==(1&t)}function HV(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function dD(t,e,n=!1){for(let r=0;r<e.length;r++)if(BV(t,e[r],n))return!0;return!1}function hD(t,e){return t?":not("+e.trim()+")":e}function zV(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ur(o)&&(e+=hD(s,i),i=""),r=o,s=s||!ur(r);n++}return""!==i&&(e+=hD(s,i)),e}const ee={};function Cs(t){fD(he(),D(),Zt()+t,ad())}function fD(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&hd(e,s,n)}else{const s=t.preOrderHooks;null!==s&&fd(e,s,0,n)}xi(n)}function bD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];hg(i),o.contentQueries(2,e[s],s)}}}function Hu(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,UC(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ho(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=BC(),o=ug(),u=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),K.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Sr(s,!0),s}function $o(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $u(t,e,n){cd(e);try{const r=t.viewQuery;null!==r&&pm(1,r,n);const i=t.template;null!==i&&CD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bD(t,e),t.staticViewQueries&&pm(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)TU(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,ld()}}function qo(t,e,n,r){const i=e[2];if(256==(256&i))return;cd(e);const s=ad();try{UC(e),function(t){K.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&CD(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const c=t.preOrderCheckHooks;null!==c&&hd(e,c,null)}else{const c=t.preOrderHooks;null!==c&&fd(e,c,0,null),fg(e,0)}if(function(t){for(let e=jg(t);null!==e;e=Bg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&og(s,1),i[2]|=1024}}}(e),function(t){for(let e=jg(t);null!==e;e=Bg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];sg(r)&&qo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&bD(t,e),!s)if(o){const c=t.contentCheckHooks;null!==c&&hd(e,c)}else{const c=t.contentHooks;null!==c&&fd(e,c,1),fg(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)xi(~i);else{const s=i,o=n[++r],a=n[++r];OL(o,s),a(2,e[s])}}}finally{xi(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)DU(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&pm(2,u,r),!s)if(o){const c=t.viewCheckHooks;null!==c&&hd(e,c)}else{const c=t.viewHooks;null!==c&&fd(e,c,2),fg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,og(e[3],-1))}finally{ld()}}function oU(t,e,n,r){const i=e[10],s=!ad(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&$u(t,e,r),qo(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function CD(t,e,n,r,i){const s=Zt(),o=2&r;try{xi(-1),o&&e.length>20&&fD(t,e,20,ad()),n(r,i)}finally{xi(s)}}function om(t,e,n){!jC()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Du(n,e),Bt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=ar(u);c&&wU(e,n,u);const l=Tu(e,t,a,n);Bt(l,e),null!==o&&EU(0,a-i,l,u,0,o),c&&(An(n.index,e)[8]=l)}}(t,e,n,Gn(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=K.lFrame.currentDirectiveIndex;try{xi(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];lg(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&MD(c,l)}}finally{xi(-1),lg(a)}}(t,e,n))}function am(t,e,n=Gn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function TD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Od(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Od(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ee);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function RD(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function um(t,e,n,r){let i=!1;if(jC()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];dD(n,o.selectors,!1)&&(i||(i=[]),_d(Du(n,e),t,o.type),ar(o)?(PD(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,OD(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=$o(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=gd(n.mergedAttrs,d.hostAttrs),FD(t,n,e,c,d),vU(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||lD(e)?null:IU(d,s);o.push(h),a=RD(d,c,a),u=RD(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ds("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=gd(n.mergedAttrs,n.attrs),i}function kD(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function MD(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function PD(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function vU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ar(e)&&(n[""]=t)}}function OD(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function FD(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=ms(i.type)),o=new bu(s,ar(i),null);t.blueprint[r]=o,n[r]=o,kD(t,e,0,r,$o(t,n,i.hostVars,ee),i)}function wU(t,e,n){const r=Gn(e,t),i=TD(n),s=t[10],o=Fd(t,Hu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function kr(t,e,n,r,i,s){const o=Gn(t,e);!function(t,e,n,r,i,s,o){if(null==s)Ue(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?Z(s):o(s,r||"",i);Ue(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}function EU(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function IU(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function LD(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function DU(t,e){const n=An(e,t);if(sg(n)){const r=n[1];80&n[2]?qo(r,n,r.template,n[8]):n[5]>0&&lm(n)}}function lm(t){for(let r=jg(t);null!==r;r=Bg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];qo(o,s,o.template,s[8])}else s[5]>0&&lm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=An(n[r],t);sg(i)&&i[5]>0&&lm(i)}}function TU(t,e){const n=An(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),$u(r,n,n[8])}function Fd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function dm(t){for(;t;){t[2]|=64;const e=ju(t);if(mL(t)&&!e)return t;t=e}return null}function fm(t,e,n){const r=e[10];r.begin&&r.begin();try{qo(t,e,t.template,n)}catch(i){throw HD(e,i),i}finally{r.end&&r.end()}}function VD(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Fg(n),i=r[1];oU(i,r,i.template,n)}}(t[8])}function pm(t,e,n){hg(0),e(t,n)}const NU=(()=>Promise.resolve(null))();function UD(t){return t[7]||(t[7]=[])}function jD(t){return t.cleanup||(t.cleanup=[])}function HD(t,e){const n=t[9],r=n?n.get(Is,null):null;r&&r.handleError(e)}function $D(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ld(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=qp(i,a):2==s&&(r=qp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const qu=new ce("INJECTOR",-1);class qD{get(e,n=ku){if(n===ku){const r=new Error(`NullInjectorError: No provider for ${se(e)}!`);throw r.name="NullInjectorError",r}return n}}const Gu=new ce("Set Injector scope."),Wu={},PU={};let gm;function GD(){return void 0===gm&&(gm=new qD),gm}function WD(t,e=null,n=null,r){return new FU(t,n,e||GD(),r)}class FU{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Ar(n,a=>this.processProvider(a,e,n)),Ar([e],a=>this.processInjectorType(a,[],s)),this.records.set(qu,Go(void 0,this));const o=this.records.get(Gu);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:se(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=ku,r=H.Default){this.assertNotDestroyed();const i=Fo(this),s=Di(void 0);try{if(!(r&H.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=("function"==typeof(t=e)||"object"==typeof t&&t instanceof ce)&&Jr(e);a=u&&this.injectableDefInScope(u)?Go(mm(e),Wu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&H.Self?GD():this.parent).get(e,n=r&H.Optional&&n===ku?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Oo]=o[Oo]||[]).unshift(se(e)),i)throw o;return f0(o,e,"R3InjectorError",this.source)}throw o}finally{Di(s),Fo(i)}var t}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(se(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=B(e)))return!1;let i=IC(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=IC(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Ar(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Ar(f,p=>this.processProvider(p,h,f||Ce))}}this.injectorDefTypes.add(o);const u=ms(o)||(()=>new o);this.records.set(o,Go(u,Wu));const c=i.providers;if(null!=c&&!a){const l=e;Ar(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Wo(e=B(e))?e:B(e&&e.provide);const s=function(t,e,n){return KD(t)?Go(void 0,t.useValue):Go(function(t,e,n){let r;if(Wo(t)){const i=B(t);return ms(i)||mm(i)}if(KD(t))r=()=>B(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ws(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>F(B(t.useExisting));else{const i=B(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ms(i)||mm(i);r=()=>new i(...ws(t.deps))}return r}(t),Wu)}(e);if(Wo(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Go(void 0,Wu,!0),o.factory=()=>ws(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Wu&&(n.value=PU,n.value=n.factory()),"object"==typeof n.value&&n.value&&null!==(t=n.value)&&"object"==typeof t&&"function"==typeof t.ngOnDestroy&&this.onDestroy.add(n.value),n.value;var t}injectableDefInScope(e){if(!e.providedIn)return!1;const n=B(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function mm(t){const e=Jr(t),n=null!==e?e.factory:ms(t);if(null!==n)return n;if(t instanceof ce)throw new Error(`Token ${se(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${se(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Zl]||t[bC]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function KD(t){return null!==t&&"object"==typeof t&&Tg in t}function Wo(t){return"function"==typeof t}const QD=function(t,e,n){return function(t,e=null,n=null,r){const i=WD(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ie=(()=>{class t{static create(n,r){return Array.isArray(n)?QD(n,r,""):QD(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=ku,t.NULL=new qD,t.\u0275prov=Y({token:t,providedIn:"any",factory:()=>F(qu)}),t.__NG_ELEMENT_ID__=-1,t})();function rj(t,e){dd(Fg(t)[1],ot())}let Vd=null;function zo(){if(!Vd){const t=ve.Symbol;if(t&&t.iterator)Vd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Vd=r)}}}return Vd}function Ku(t){return!!bm(t)&&(Array.isArray(t)||!(t instanceof Map)&&zo()in t)}function bm(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ht(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Cm(t,e,n,r){const i=D();return Ht(i,So(),e)&&(he(),kr(je(),i,t,e,n,r)),Cm}function Ts(t,e,n,r,i,s,o,a){const u=D(),c=he(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ho(e,t,4,o||null,Ai(c,a));um(e,n,l,Ai(c,u)),dd(e,l);const d=l.tViews=Od(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Sr(d,!1);const h=u[11].createComment("");Rd(c,u,h,d),Bt(h,u),Fd(u,u[l]=LD(h,u,h,d)),sd(d)&&om(c,u,d),null!=o&&am(u,d,a)}function L(t,e=H.Default){const n=D();return null===n?F(t,e):s0(ot(),n,B(t),e)}function xm(){throw new Error("invalid")}function Oi(t,e,n){const r=D();return Ht(r,So(),e)&&function(t,e,n,r,i,s,o,a){const u=Gn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?($D(t,n,l,r,i),id(e)&&function(t,e){const n=An(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ue(s)?s.setProperty(u,r,i):gg(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}(he(),je(),r,t,e,r[11],n,!1),Oi}function Rm(t,e,n,r,i){const o=i?"class":"style";$D(t,n,e.inputs[o],o,r)}function g(t,e,n,r){const i=D(),s=he(),o=20+t,a=i[11],u=i[o]=$g(a,e,K.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Ho(e,t,2,i,Ai(a,s));return um(e,n,c,Ai(a,o)),null!==c.attrs&&Ld(c,c.attrs,!1),null!==c.mergedAttrs&&Ld(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Sr(c,!0);const l=c.mergedAttrs;null!==l&&pd(a,u,l);const d=c.classes;null!==d&&Qg(a,u,d);const h=c.styles;null!==h&&aD(a,u,h),64!=(64&c.flags)&&Rd(s,i,u,c),0===K.lFrame.elementDepthCount&&Bt(u,i),K.lFrame.elementDepthCount++,sd(c)&&(om(s,i,c),function(t,e,n){if(Zp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,c,i)),null!==r&&am(i,c)}function m(){let t=ot();ug()?K.lFrame.isParent=!1:(t=t.parent,Sr(t,!1));const e=t;K.lFrame.elementDepthCount--;const n=he();n.firstCreatePass&&(dd(n,t),Zp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Rm(n,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Rm(n,e,D(),e.stylesWithoutHost,!1)}function b(t,e,n,r){g(t,e,n,r),m()}function Nm(){return D()}function Bd(t){return!!t&&"function"==typeof t.then}const km=function(t){return!!t&&"function"==typeof t.subscribe};function Be(t,e,n,r){const i=D(),s=he(),o=ot();return function(t,e,n,r,i,s,o,a){const u=sd(r),l=t.firstCreatePass&&jD(t),d=e[8],h=UD(e);let f=!0;if(3&r.type||a){const y=Gn(r,e),w=a?a(y):y,E=h.length,A=a?R=>a(Ye(R[r.index])):r.index;if(Ue(n)){let R=null;if(!a&&u&&(R=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=s,R.__ngLastListenerFn__=s,f=!1;else{s=Mm(r,e,d,s,!1);const U=n.listen(w,i,s);h.push(s,U),l&&l.push(i,A,E,E+1)}}else s=Mm(r,e,d,s,!0),w.addEventListener(i,s,o),h.push(s),l&&l.push(i,A,E,o)}else s=Mm(r,e,d,s,!1);const p=r.outputs;let _;if(f&&null!==p&&(_=p[i])){const y=_.length;if(y)for(let w=0;w<y;w+=2){const me=e[_[w]][_[w+1]].subscribe(s),Ge=h.length;h.push(s,me),l&&l.push(i,r.index,Ge,-(Ge+1))}}}(s,i,i[11],o,t,e,!!n,r),Be}function UT(t,e,n,r){try{return!1!==n(r)}catch(i){return HD(t,i),!1}}function Mm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?An(t.index,e):e;0==(32&e[2])&&dm(a);let u=UT(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=UT(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Pm(t=1){return function(t){return(K.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,K.lFrame.contextLView))[8]}(t)}function T(t,e=""){const n=D(),r=he(),i=t+20,s=r.firstCreatePass?Ho(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Ue(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Rd(r,n,o,s),Sr(s,!1)}const Ss=void 0;var AB=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let sa={};function NS(t){return t in sa||(sa[t]=ve.ng&&ve.ng.common&&ve.ng.common.locales&&ve.ng.common.locales[t]),sa[t]}var P=(()=>((P=P||{})[P.LocaleId=0]="LocaleId",P[P.DayPeriodsFormat=1]="DayPeriodsFormat",P[P.DayPeriodsStandalone=2]="DayPeriodsStandalone",P[P.DaysFormat=3]="DaysFormat",P[P.DaysStandalone=4]="DaysStandalone",P[P.MonthsFormat=5]="MonthsFormat",P[P.MonthsStandalone=6]="MonthsStandalone",P[P.Eras=7]="Eras",P[P.FirstDayOfWeek=8]="FirstDayOfWeek",P[P.WeekendRange=9]="WeekendRange",P[P.DateFormat=10]="DateFormat",P[P.TimeFormat=11]="TimeFormat",P[P.DateTimeFormat=12]="DateTimeFormat",P[P.NumberSymbols=13]="NumberSymbols",P[P.NumberFormats=14]="NumberFormats",P[P.CurrencyCode=15]="CurrencyCode",P[P.CurrencySymbol=16]="CurrencySymbol",P[P.CurrencyName=17]="CurrencyName",P[P.Currencies=18]="Currencies",P[P.Directionality=19]="Directionality",P[P.PluralCase=20]="PluralCase",P[P.ExtraData=21]="ExtraData",P))();const $d="en-US";let kS=$d;class rA{}const sA="ngComponent";class RH{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${se(t)}. Did you add it to @NgModule.entryComponents?`);return e[sA]=t,e}(e)}}let As=(()=>{class t{}return t.NULL=new RH,t})();function Kd(...t){}function aa(t,e){return new Mn(Gn(t,e))}const MH=function(){return aa(ot(),D())};let Mn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=MH,t})();class Qd{}let Yd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>OH(),t})();const OH=function(){const t=D(),n=An(ot().index,t);return function(t){return t[11]}(Tr(n)?n:t)};let Gm=(()=>{class t{}return t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>null}),t})();class Jd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const aA=new Jd("13.0.0"),ua={};function Xd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ye(s)),or(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Xd(u[1],u,c,r)}const o=n.type;if(8&o)Xd(t,e,n.child,r);else if(32&o){const a=Ug(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=iD(e,n);if(Array.isArray(a))r.push(...a);else{const u=ju(e[16]);Xd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class tc{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Xd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(or(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(qg(e,r),vs(n,r))}this._attachedToViewContainer=!1}Q0(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=UD(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&jD(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){dm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ud(!0);try{fm(t,e,n)}finally{ud(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Bu(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class VH extends tc{constructor(e){super(e),this._view=e}detectChanges(){VD(this._view)}checkNoChanges(){!function(t){ud(!0);try{VD(t)}finally{ud(!1)}}(this._view)}get context(){return null}}class uA extends As{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ut(e);return new Wm(n,this.ngModule)}}function cA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const jH=new ce("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>B0});class Wm extends rA{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=e.selectors.map(zV).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return cA(this.componentDef.inputs)}get outputs(){return cA(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ua,i);return s!==ua||r===ua?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Qd,LC),a=s.get(Gm,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function(t,e,n){if(Ue(t))return t.selectRootElement(e,n===Tn.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):$g(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||B0,clean:NU,playerHandler:e||null,flags:0}}(),f=Od(0,null,null,1,0,null,null,null,null,null),p=Hu(null,f,h,d,null,null,o,u,a,s);let _,y;cd(p);try{const w=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Ho(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Ld(u,c,!0),null!==t&&(pd(i,t,c),null!==u.classes&&Qg(i,t,u.classes),null!==u.styles&&aD(i,t,u.styles)));const l=r.createRenderer(t,e),d=Hu(n,TD(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(_d(Du(u,n),o,e.type),PD(o,u),OD(u,n.length,1)),Fd(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)pd(u,l,["ng-version",aA.full]);else{const{attrs:E,classes:A}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ur(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);E&&pd(u,l,E),A&&A.length>0&&Qg(u,l,A.join(" "))}if(y=ig(f,20),void 0!==n){const E=y.projection=[];for(let A=0;A<this.ngContentSelectors.length;A++){const R=n[A];E.push(null!=R?Array.from(R):null)}}_=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ot();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),FD(t,r,e,$o(t,e,1,null),n));const i=Tu(e,t,r.directiveStart,r);Bt(i,e);const s=Gn(r,e);return s&&Bt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=ot();e.contentQueries(1,o,u.directiveStart)}const a=ot();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(xi(a.index),kD(n[1],a,0,a.directiveStart,a.directiveEnd,e),MD(e,o)),o}(w,this.componentDef,p,h,[rj]),$u(f,p,null)}finally{ld()}return new $H(this.componentType,_,aa(y,p),p,y)}}class $H extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new VH(i),this.componentType=e}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Fr{}class lA{}const ca=new Map;class hA extends Fr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uA(this);const r=Hn(e);this._bootstrapComponents=Nr(r.bootstrap),this._r3Injector=WD(e,n,[{provide:Fr,useValue:this},{provide:As,useValue:this.componentFactoryResolver}],se(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Ie.THROW_IF_NOT_FOUND,r=H.Default){return e===Ie||e===Fr||e===qu?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Km extends lA{constructor(e){super(),this.moduleType=e,null!==Hn(e)&&function(t){const e=new Set;!function n(r){const i=Hn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${se(e)} vs ${se(e.name)}`)}(s,ca.get(s),r),ca.set(s,r));const o=Nr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new hA(this.moduleType,e)}}function Qm(t){return e=>{setTimeout(t,void 0,e)}}const nn=class extends Wr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var u,c,l;let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const d=e;i=null==(u=d.next)?void 0:u.bind(d),s=null==(c=d.error)?void 0:c.bind(d),o=null==(l=d.complete)?void 0:l.bind(d)}this.__isAsync&&(s=Qm(s),i&&(i=Qm(i)),o&&(o=Qm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof jn&&e.add(a),a}};Symbol;const h3=function(){return function(t,e){return 4&t.type?new p3(e,t,aa(t,e)):null}(ot(),D())};let oi=(()=>{class t{}return t.__NG_ELEMENT_ID__=h3,t})();const f3=oi,p3=class extends f3{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Hu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),$u(n,r,e),new tc(r)}};const y3=function(){return function(t,e){let n;const r=e[t.index];if(or(r))n=r;else{let i;if(8&t.type)i=Ye(r);else{const s=e[11];i=s.createComment("");const o=Gn(t,e);bs(s,xd(s,o),i,function(t,e){return Ue(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=LD(r,e,i,t),Fd(e,n)}return new _A(n,t,e)}(ot(),D())};let fr=(()=>{class t{}return t.__NG_ELEMENT_ID__=y3,t})();const v3=fr,_A=class extends v3{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const e=yd(this._hostTNode,this._hostLView);if(ZC(e)){const n=xo(e,this._hostLView),r=Ao(e);return new Ro(n[1].data[r+8],n)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=vA(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Wm(Ut(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule&&c){const d=c.get(Fr,null);d&&(s=d)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(or(r[3])){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new _A(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],wd(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=zg(s,o),u=r[11],c=xd(u,o[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Bu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),wd(Ym(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=vA(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=qg(this._lContainer,n);r&&(vs(Ym(this._lContainer),n),Q0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=qg(this._lContainer,n);return r&&null!=vs(Ym(this._lContainer),n)?new tc(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function vA(t){return t[8]}function Ym(t){return t[8]||(t[8]=[])}const sc=new ce("Application Initializer");let da=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Kd,this.reject=Kd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Bd(s))n.push(s);else if(km(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(sc,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const oc=new ce("AppId"),n$={provide:oc,useFactory:function(){return`${ly()}${ly()}${ly()}`},deps:[]};function ly(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $A=new ce("Platform Initializer"),rh=new ce("Platform ID"),qA=new ce("appBootstrapListener");let ih=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const Fi=new ce("LocaleId"),GA=new ce("DefaultCurrencyCode");class i${constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const dy=function(t){return new Km(t)},s$=dy,o$=function(t){return Promise.resolve(dy(t))},zA=function(t){const e=dy(t),r=Nr(Hn(t).declarations).reduce((i,s)=>{const o=Ut(s);return o&&i.push(new Wm(o)),i},[]);return new i$(e,r)},a$=zA,u$=function(t){return Promise.resolve(zA(t))};let sh=(()=>{class t{constructor(){this.compileModuleSync=s$,this.compileModuleAsync=o$,this.compileModuleAndAllComponentsSync=a$,this.compileModuleAndAllComponentsAsync=u$}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const d$=(()=>Promise.resolve(0))();function hy(t){"undefined"==typeof Zone?d$.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=ve.requestAnimationFrame,e=ve.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,py(t),t.isCheckStableRunning=!0,fy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),py(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return KA(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),QA(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return KA(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),QA(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,py(t),fy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Je.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Je.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,f$,Kd,Kd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const f$={};function fy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function py(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function KA(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QA(t){t._nesting--,fy(t)}class m${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let gy=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Je.assertNotInAngularZone(),hy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(Je))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),YA=(()=>{class t{constructor(){this._applications=new Map,my.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return my.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class y${addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let my=new y$,JA=!0,XA=!1;let pr;const e1=new ce("AllowMultipleToken");class yy{constructor(e,n){this.name=e,this.token=n}}function t1(t,e,n=[]){const r=`Platform: ${e}`,i=new ce(r);return(s=[])=>{let o=n1();if(!o||o.injector.get(e1,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:Gu,useValue:"platform"});!function(t){if(pr&&!pr.destroyed&&!pr.injector.get(e1,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");pr=t.get(r1);const e=t.get($A,null);e&&e.forEach(n=>n())}(Ie.create({providers:a,name:r}))}return function(t){const e=n1();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function n1(){return pr&&!pr.destroyed?pr:null}let r1=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new m$:("zone.js"===t?void 0:t)||new Je({enableLongStackTrace:(XA=!0,JA),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Je,useValue:a}];return a.run(()=>{const c=Ie.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Is,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{_y(this._modules,l),h.unsubscribe()})}),function(t,e,n){try{const r=n();return Bd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(da);return h.runInitializers(),h.donePromise.then(()=>(function(t){Dn(t,"Expected localeId to be defined"),"string"==typeof t&&(kS=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Fi,$d)||$d),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=i1({},r);return function(t,e,n){const r=new Km(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ha);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${se(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function i1(t,e){return Array.isArray(e)?e.reduce(i1,t):W(W({},t),e)}let ha=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Pe(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),u=new Pe(c=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Je.assertNotInAngularZone(),hy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{Je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{l.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){const e=yu(t),n=function(t,e){return"number"==typeof Bp(t)?t.pop():1/0}(t),r=t;return r.length?1===r.length?zr(r[0]):mu(n)(At(r,e)):Qr}(a,u.pipe(function(t={}){const{connector:e=(()=>new Wr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const _=o;f(),null==_||_.unsubscribe()};return Tt((_,y)=>{c++,!d&&!l&&h();const w=u=null!=u?u:e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Hp(p,i))}),w.subscribe(y),o||(o=new Fp({next:E=>w.next(E),error:E=>{d=!0,h(),a=Hp(f,n,E),w.error(E)},complete:()=>{l=!0,h(),a=Hp(f,r),w.complete()}}),At(_).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof rA?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Fr),a=i.create(Ie.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(gy,null),l=c&&a.injector.get(YA);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),_y(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;_y(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(qA,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(F(Je),F(Ie),F(Is),F(As),F(da))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function _y(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const k$=function(t){return function(t,e,n){if(id(t)&&!n){const r=An(t.index,e);return new tc(r,r)}return 47&t.type?new tc(e[16],e):null}(ot(),D(),16==(16&t))};let wy=(()=>{class t{}return t.__NG_ELEMENT_ID__=k$,t})();class d1{constructor(){}supports(e){return Ku(e)}create(e){return new G$(e)}}const q$=(t,e)=>e;class G${constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||q$}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<f1(r,i,s)?n:r,a=f1(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ku(e))throw new Error(`Error trying to diff '${se(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[zo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new W$(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new h1),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new h1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class W${constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class z${constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class h1{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new z$,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f1(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class p1{constructor(){}supports(e){return e instanceof Map||bm(e)}create(){return new K$}}class K${constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||bm(e)))throw new Error(`Error trying to diff '${se(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Q$(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Q${constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function g1(){return new ac([new d1])}let ac=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||g1()),deps:[[t,new ki,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=Y({token:t,providedIn:"root",factory:g1}),t})();function m1(){return new fa([new p1])}let fa=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||m1()),deps:[[t,new ki,new fn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=Y({token:t,providedIn:"root",factory:m1}),t})();const J$=[new p1],Z$=new ac([new d1]),eq=new fa(J$),tq=t1(null,"core",[{provide:rh,useValue:"unknown"},{provide:r1,deps:[Ie]},{provide:YA,deps:[]},{provide:ih,deps:[]}]),oq=[{provide:ha,useClass:ha,deps:[Je,Ie,Is,As,da]},{provide:jH,deps:[Je],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:da,useClass:da,deps:[[new fn,sc]]},{provide:sh,useClass:sh,deps:[]},n$,{provide:ac,useFactory:function(){return Z$},deps:[]},{provide:fa,useFactory:function(){return eq},deps:[]},{provide:Fi,useFactory:function(t){return t||"undefined"!=typeof $localize&&$localize.locale||$d},deps:[[new Lo(Fi),new fn,new ki]]},{provide:GA,useValue:"USD"}];let uq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(ha))},t.\u0275mod=Zr({type:t}),t.\u0275inj=ir({providers:oq}),t})(),vh=null;function Ui(){return vh}const yt=new ce("DocumentToken");let Ms=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:function(){return F(ex)},providedIn:"platform"}),t})();const n8=new ce("Location Initialized");let ex=(()=>{class t extends Ms{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ui().getBaseHref(this._doc)}onPopState(n){const r=Ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ui().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){tx()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){tx()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(yt))},t.\u0275prov=Y({token:t,factory:function(){return new ex(F(yt))},providedIn:"platform"}),t})();function tx(){return!!window.history.pushState}function zy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function nx(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ui(t){return t&&"?"!==t[0]?"?"+t:t}let Ps=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:function(){return function(t){const e=F(yt).location;return new rx(F(Ms),e&&e.origin||"")}()},providedIn:"root"}),t})();const Ky=new ce("appBaseHref");let rx=(()=>{class t extends Ps{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return zy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ui(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ui(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(Ms),F(Ky,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),ix=(()=>{class t extends Ps{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=zy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ui(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(Ms),F(Ky,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),Qy=(()=>{class t{constructor(n,r){this._subject=new nn,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=nx(sx(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ui(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,sx(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ui(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ui(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ui,t.joinWithSlash=zy,t.stripTrailingSlash=nx,t.\u0275fac=function(n){return new(n||t)(F(Ps),F(Ms))},t.\u0275prov=Y({token:t,factory:function(){return new Qy(F(Ps),F(Ms))},providedIn:"root"}),t})();function sx(t){return t.replace(/\/index.html$/,"")}var Xe=(()=>((Xe=Xe||{})[Xe.Zero=0]="Zero",Xe[Xe.One=1]="One",Xe[Xe.Two=2]="Two",Xe[Xe.Few=3]="Few",Xe[Xe.Many=4]="Many",Xe[Xe.Other=5]="Other",Xe))();const f8=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=NS(e);if(n)return n;const r=e.split("-")[0];if(n=NS(r),n)return n;if("en"===r)return AB;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[P.PluralCase]};class xh{}let H8=(()=>{class t extends xh{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(f8(r||this.locale)(n)){case Xe.Zero:return"zero";case Xe.One:return"one";case Xe.Two:return"two";case Xe.Few:return"few";case Xe.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(F(Fi))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function px(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let i_=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new K8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){mx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){mx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(L(fr),L(oi))},t.\u0275dir=Vt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class K8{constructor(){this.$implicit=null,this.ngIf=null}}function mx(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${se(e)}'.`)}let EG=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zr({type:t}),t.\u0275inj=ir({providers:[{provide:xh,useClass:H8}]}),t})();let DG=(()=>{class t{}return t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new TG(F(yt),window)}),t})();class TG{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=wx(this.window.history)||wx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function wx(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ex{}class c_ extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new c_,vh||(vh=t)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(Ec=Ec||document.querySelector("base"),Ec?Ec.getAttribute("href"):null);return null==n?null:function(t){Rh=Rh||document.createElement("a"),Rh.setAttribute("href",t);const e=Rh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return px(document.cookie,e)}}let Rh,Ec=null;const Ix=new ce("TRANSITION_ID"),kG=[{provide:sc,useFactory:function(t,e,n){return()=>{n.get(da).donePromise.then(()=>{const r=Ui(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Ix,yt,Ie],multi:!0}];class l_{static init(){var t;t=new l_,my=t}addToWindow(e){ve.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),ve.getAllAngularRootElements=()=>e.getAllRootElements(),ve.frameworkStabilizers||(ve.frameworkStabilizers=[]),ve.frameworkStabilizers.push(r=>{const i=ve.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Ui().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let MG=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const Ic=new ce("EventManagerPlugins");let kh=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(Ic),F(Je))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class d_{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ui().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Cx=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),bc=(()=>{class t extends Cx{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Dx),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Dx))}}return t.\u0275fac=function(n){return new(n||t)(F(yt))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function Dx(t){Ui().remove(t)}const h_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},f_=/%COMP%/g;function Mh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Mh(t,i,n):(i=i.replace(f_,t),n.push(i))}return n}function Ax(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let p_=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new g_(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Tn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new KG(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Tn.ShadowDom:return new QG(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=Mh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(kh),F(bc),F(oc))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class g_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(h_[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=h_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=h_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Nn.DashCase|Nn.Important)?e.style.setProperty(n,r,i&Nn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Nn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Ax(r)):this.eventManager.addEventListener(e,n,Ax(r))}}class KG extends g_{constructor(e,n,r,i){super(e),this.component=r;const s=Mh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(f_,i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(f_,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class QG extends g_{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Mh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let YG=(()=>{class t extends d_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(yt))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const Nx=["alt","control","meta","shift"],r6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},i6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let s6=(()=>{class t extends d_{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ui().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Nx.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&kx.hasOwnProperty(e)&&(e=kx[e]))}return r6[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Nx.forEach(s=>{s!=i&&i6[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(yt))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const d6=[{provide:rh,useValue:"browser"},{provide:$A,useValue:function(){c_.makeCurrent(),l_.init()},multi:!0},{provide:yt,useFactory:function(){return t=document,ng=t,document;var t},deps:[]}],f6=t1(tq,"browser",d6),p6=[[],{provide:Gu,useValue:"root"},{provide:Is,useFactory:function(){return new Is},deps:[]},{provide:Ic,useClass:YG,multi:!0,deps:[yt,Je,rh]},{provide:Ic,useClass:s6,multi:!0,deps:[yt]},[],{provide:p_,useClass:p_,deps:[kh,bc,oc]},{provide:Qd,useExisting:p_},{provide:Cx,useExisting:bc},{provide:bc,useClass:bc,deps:[yt]},{provide:gy,useClass:gy,deps:[Je]},{provide:kh,useClass:kh,deps:[Ic,Je]},{provide:Ex,useClass:MG,deps:[]},[]];let g6=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:oc,useValue:n.appId},{provide:Ix,useExisting:oc},kG]}}}return t.\u0275fac=function(n){return new(n||t)(F(t,12))},t.\u0275mod=Zr({type:t}),t.\u0275inj=ir({providers:p6,imports:[EG,uq]}),t})();function te(...t){return At(t,yu(t))}function va(t,e){return Ve(e)?ft(t,e,1):ft(t,1)}function Os(t,e){return Tt((n,r)=>{let i=0;n.subscribe(new St(r,s=>t.call(e,s,i++)&&r.next(s)))})}"undefined"!=typeof window&&window;class Px{}class Ox{}class li{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(n=>{let r=e[n];const i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(n,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof li?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new li;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof li?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class b6{encodeKey(e){return Fx(e)}encodeValue(e){return Fx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const D6=/%(\d[a-f0-9])/gi,T6={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Fx(t){return encodeURIComponent(t).replace(D6,(e,n)=>{var r;return null!=(r=T6[n])?r:e})}function Lx(t){return`${t}`}class Bi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new b6,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n];this.map.set(n,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Bi({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Lx(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Lx(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class S6{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Vx(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Ux(t){return"undefined"!=typeof Blob&&t instanceof Blob}function jx(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Cc{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new li),this.context||(this.context=new S6),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Bi,this.urlWithParams=n}serializeBody(){return null===this.body?null:Vx(this.body)||Ux(this.body)||jx(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Bi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jx(this.body)?null:Ux(this.body)?this.body.type||null:Vx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var d;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=null!=(d=e.context)?d:this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),c)),new Cc(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var et=(()=>((et=et||{})[et.Sent=0]="Sent",et[et.UploadProgress=1]="UploadProgress",et[et.ResponseHeader=2]="ResponseHeader",et[et.DownloadProgress=3]="DownloadProgress",et[et.Response=4]="Response",et[et.User=5]="User",et))();class w_{constructor(e,n=200,r="OK"){this.headers=e.headers||new li,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class E_ extends w_{constructor(e={}){super(e),this.type=et.ResponseHeader}clone(e={}){return new E_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ph extends w_{constructor(e={}){super(e),this.type=et.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ph({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bx extends w_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function I_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Hx=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Cc)s=n;else{let u,c;u=i.headers instanceof li?i.headers:new li(i.headers),i.params&&(c=i.params instanceof Bi?i.params:new Bi({fromObject:i.params})),s=new Cc(n,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=te(s).pipe(va(u=>this.handler.handle(u)));if(n instanceof Cc||"events"===i.observe)return o;const a=o.pipe(Os(u=>u instanceof Ph));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ye(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ye(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ye(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ye(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Bi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,I_(i,r))}post(n,r,i={}){return this.request("POST",n,I_(i,r))}put(n,r,i={}){return this.request("PUT",n,I_(i,r))}}return t.\u0275fac=function(n){return new(n||t)(F(Px))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class $x{constructor(e,n){this.next=e,this.interceptor=n}handle(e){return this.interceptor.intercept(e,this.next)}}const qx=new ce("HTTP_INTERCEPTORS");let R6=(()=>{class t{intercept(n,r){return r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const N6=/^\)\]\}',?\n/;let Gx=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pe(r=>{const i=this.xhrFactory.build();if(i.open(n.method,n.urlWithParams),n.withCredentials&&(i.withCredentials=!0),n.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),n.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const f=n.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(n.responseType){const f=n.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=n.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===i.status?204:i.status,p=i.statusText||"OK",_=new li(i.getAllResponseHeaders()),y=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||n.url;return o=new E_({headers:_,status:f,statusText:p,url:y}),o},u=()=>{let{headers:f,status:p,statusText:_,url:y}=a(),w=null;204!==p&&(w=void 0===i.response?i.responseText:i.response),0===p&&(p=w?200:0);let E=p>=200&&p<300;if("json"===n.responseType&&"string"==typeof w){const A=w;w=w.replace(N6,"");try{w=""!==w?JSON.parse(w):null}catch(R){w=A,E&&(E=!1,w={error:R,text:w})}}E?(r.next(new Ph({body:w,headers:f,status:p,statusText:_,url:y||void 0})),r.complete()):r.error(new Bx({error:w,headers:f,status:p,statusText:_,url:y||void 0}))},c=f=>{const{url:p}=a(),_=new Bx({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(_)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:et.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===n.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:et.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),n.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:et.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),n.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return t.\u0275fac=function(n){return new(n||t)(F(Ex))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const b_=new ce("XSRF_COOKIE_NAME"),C_=new ce("XSRF_HEADER_NAME");class Wx{}let M6=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=px(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return t.\u0275fac=function(n){return new(n||t)(F(yt),F(rh),F(b_))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),D_=(()=>{class t{constructor(n,r){this.tokenService=n,this.headerName=r}intercept(n,r){const i=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(n);const s=this.tokenService.getToken();return null!==s&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,s)})),r.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(F(Wx),F(C_))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),P6=(()=>{class t{constructor(n,r){this.backend=n,this.injector=r,this.chain=null}handle(n){if(null===this.chain){const r=this.injector.get(qx,[]);this.chain=r.reduceRight((i,s)=>new $x(i,s),this.backend)}return this.chain.handle(n)}}return t.\u0275fac=function(n){return new(n||t)(F(Ox),F(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),O6=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:D_,useClass:R6}]}}static withOptions(n={}){return{ngModule:t,providers:[n.cookieName?{provide:b_,useValue:n.cookieName}:[],n.headerName?{provide:C_,useValue:n.headerName}:[]]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zr({type:t}),t.\u0275inj=ir({providers:[D_,{provide:qx,useExisting:D_,multi:!0},{provide:Wx,useClass:M6},{provide:b_,useValue:"XSRF-TOKEN"},{provide:C_,useValue:"X-XSRF-TOKEN"}]}),t})(),F6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zr({type:t}),t.\u0275inj=ir({providers:[Hx,{provide:Px,useClass:P6},Gx,{provide:Ox,useExisting:Gx}],imports:[[O6.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),L6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-daniel"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Male anonymus.png","alt","Daniel",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),T(6,"Daniel Erez"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),T(10,"Development director"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),T(14,"Daniel was born in 2000. He was born and lives in Jerusalem. Today he is studying his forth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),V6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-lisa"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Female anonymus.png","alt","Lisa",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),T(6,"Lisa Marx"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),T(10,"CEO"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),T(14,"Lisa was born in 1996. She was born in Paris and lives in Jerusalem. Today she is studying her fourth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),U6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-maayan"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Female anonymus.png","alt","Maayan",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),T(6,"Maayan Cohen"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),T(10,"Project manager"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),T(14,"Maayan was born in 1995. She was born and lives in Jerusalem. Today she is studying her fourth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),j6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-ori"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Male anonymus.png","alt","Ori",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),T(6,"Ori Schaefer"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),T(10,"Product manager"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),T(14,"Ori was born in 1994. He was born and lives in Jerusalem. Today he is studying his fourth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),B6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-sapir"]],decls:15,vars:0,consts:[[1,"container","has-text-centered"],["src","./assets/img/Female anonymus.png","alt","Sapir",2,"height","125px","width","125px"],[1,"has-text-black"],[1,"has-text-info"]],template:function(n,r){1&n&&(g(0,"div",0),b(1,"img",1),b(2,"br"),b(3,"br"),b(4,"br"),g(5,"span",2),T(6,"Sapir Shimon"),m(),b(7,"br"),b(8,"br"),g(9,"span",3),T(10,"Product manager"),m(),b(11,"br"),b(12,"br"),g(13,"span",2),T(14,"Sapir was born in 1995. She was born and lives in Jerusalem. Today she is studying her fourth year in Industrial Engineering and Management at the Academic College of Engineering - Azrieli"),m(),m())},encapsulation:2}),t})(),H6=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-about"]],decls:35,vars:0,consts:[[1,"columns"],[1,"column"]],template:function(n,r){1&n&&(g(0,"body"),g(1,"h1"),T(2,"About Mechanical Monsters"),m(),b(3,"br"),b(4,"br"),b(5,"br"),b(6,"br"),g(7,"h2"),T(8," Mechanical Monsters is a website that help you prevent from stroke attack, we developed it in 2021. "),b(9,"br"),T(10," We are using Machine Learning [...] "),b(11,"br"),T(12," When you share with us the results that you got from the doctor you help us to improve our algorithm and so"),b(13,"br"),T(14," you helping us to help "),g(15,"strong"),T(16," you "),m(),m(),b(17,"br"),b(18,"br"),b(19,"br"),b(20,"br"),g(21,"h3"),T(22,"About Us"),m(),b(23,"br"),g(24,"div",0),g(25,"div",1),b(26,"app-daniel"),m(),g(27,"div",1),b(28,"app-lisa"),m(),g(29,"div",1),b(30,"app-maayan"),m(),g(31,"div",1),b(32,"app-ori"),m(),g(33,"div",1),b(34,"app-sapir"),m(),m(),m())},directives:[L6,V6,U6,j6,B6],styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:30px;-webkit-text-decoration:underline solid royalblue 4px;text-decoration:underline solid royalblue 4px}h2[_ngcontent-%COMP%]{text-align:center;font-size:20px}h3[_ngcontent-%COMP%]{text-align:center;font-size:20px;-webkit-text-decoration:underline solid royalblue;text-decoration:underline solid royalblue}"]}),t})();function zx(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){zx(s,r,i,o,a,"next",u)}function a(u){zx(s,r,i,o,a,"throw",u)}o(void 0)})}}const Qx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function Dc(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!z6(n)||(t[n]=Dc(t[n],e[n]));return t}function z6(t){return"__proto__"!==t}class K6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function _t(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Jx(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function Xx(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Zx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function eR(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}class Fs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ls.prototype.create)}}class Ls{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(tW,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Fs(i,`${this.serviceName}: ${o} (${i}).`,r)}}const tW=/\{\$([^}]+)}/g;function nR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rR(s)&&rR(o)){if(!Fh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rR(t){return null!==t&&"object"==typeof t}function Lh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iR(t,e){const n=new rW(t,e);return n.subscribe.bind(n)}class rW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=A_),void 0===i.error&&(i.error=A_),void 0===i.complete&&(i.complete=A_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A_(){}function gn(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Us="[DEFAULT]";class lW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Us})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Us?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const R_=[];var pe=(()=>{return(t=pe||(pe={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",pe;var t})();const sR={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},pW=pe.INFO,gW={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},mW=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=gW[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Vh{constructor(e){this.name=e,this._logLevel=pW,this._logHandler=mW,this._userLogHandler=null,R_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}class vW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const N_="@firebase/app",k_=new Vh("@firebase/app"),js="[DEFAULT]",WW={[N_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hi=new Map,Ac=new Map;function Uh(t,e){try{t.container.addComponent(e)}catch(n){k_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function aR(t,e){t.container.addOrOverwriteComponent(e)}function Bs(t){const e=t.name;if(Ac.has(e))return k_.debug(`There were multiple attempts to register component ${e}.`),!1;Ac.set(e,t);for(const n of Hi.values())Uh(n,t);return!0}function xc(t,e){return t.container.getProvider(e)}function zW(t,e,n=js){xc(t,e).clearInstance(n)}function KW(){Ac.clear()}const Rc=new Ls("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class YW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rc.create("app-deleted",{appName:this._name})}}const Hs="9.6.0";function uR(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:js,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Rc.create("bad-app-name",{appName:String(r)});const i=Hi.get(r);if(i){if(Fh(t,i.options)&&Fh(n,i.config))return i;throw Rc.create("duplicate-app",{appName:r})}const s=new fW(r);for(const a of Ac.values())s.addComponent(a);const o=new YW(t,n,s);return Hi.set(r,o),o}function M_(t=js){const e=Hi.get(t);if(!e)throw Rc.create("no-app",{appName:t});return e}function JW(){return Array.from(Hi.values())}function cR(t){return P_.apply(this,arguments)}function P_(){return(P_=v(function*(t){const e=t.name;Hi.has(e)&&(Hi.delete(e),yield Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)})).apply(this,arguments)}function Lr(t,e,n){var r;let i=null!==(r=WW[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void k_.warn(a.join(" "))}Bs(new Vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function lR(t,e){if(null!==t&&"function"!=typeof t)throw Rc.create("invalid-log-argument");!function(t,e){for(const n of R_){let r=null;e&&e.level&&(r=sR[e.level]),n.userLogHandler=null===t?null:(i,s,...o)=>{const a=o.map(u=>{if(null==u)return null;if("string"==typeof u)return u;if("number"==typeof u||"boolean"==typeof u)return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch(c){return null}}).filter(u=>u).join(" ");s>=(null!=r?r:i.logLevel)&&t({level:pe[s].toLowerCase(),message:a,args:o,type:i.name})}}}(t,e)}function dR(t){!function(t){R_.forEach(e=>{e.setLogLevel(t)})}(t)}Bs(new Vs("platform-logger",e=>new vW(e),"PRIVATE")),Lr(N_,"0.7.10",""),Lr(N_,"0.7.10","esm2017"),Lr("fire-js","");var O,ZW="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},di={},O_=O_||{},X=ZW||self;function jh(){}function F_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Nc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var L_="closure_uid_"+(1e9*Math.random()>>>0),t5=0;function n5(t,e,n){return t.call.apply(t.bind,arguments)}function r5(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n5:r5).apply(null,arguments)}function Bh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Rt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $i(){this.s=this.s,this.o=this.o}var s5={};$i.prototype.s=!1,$i.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,L_)&&t[L_]||(t[L_]=++t5)}(this);delete s5[t]}},$i.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const hR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},fR=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function pR(t){return Array.prototype.concat.apply([],arguments)}function V_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Hh(t){return/^[\s\xa0]*$/.test(t)}var an,gR=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function on(t,e){return-1!=t.indexOf(e)}function U_(t,e){return t<e?-1:t>e?1:0}e:{var mR=X.navigator;if(mR){var yR=mR.userAgent;if(yR){an=yR;break e}}an=""}function j_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _R(t){const e={};for(const n in t)e[n]=t[n];return e}var vR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wR(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<vR.length;s++)n=vR[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B_(t){return B_[" "](t),t}B_[" "]=jh;var $h,u5=on(an,"Opera"),wa=on(an,"Trident")||on(an,"MSIE"),ER=on(an,"Edge"),H_=ER||wa,IR=on(an,"Gecko")&&!(on(an.toLowerCase(),"webkit")&&!on(an,"Edge"))&&!(on(an,"Trident")||on(an,"MSIE"))&&!on(an,"Edge"),c5=on(an.toLowerCase(),"webkit")&&!on(an,"Edge");function bR(){var t=X.document;return t?t.documentMode:void 0}e:{var $_="",q_=function(){var t=an;return IR?/rv:([^\);]+)(\)|;)/.exec(t):ER?/Edge\/([\d\.]+)/.exec(t):wa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):c5?/WebKit\/(\S+)/.exec(t):u5?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(q_&&($_=q_?q_[1]:""),wa){var G_=bR();if(null!=G_&&G_>parseFloat($_)){$h=String(G_);break e}}$h=$_}var l5={};function d5(){return e=l5,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=gR(String($h)).split("."),n=gR("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=U_(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||U_(0==i[2].length,0==s[2].length)||U_(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var e}var h5=X.document&&wa&&(bR()||parseInt($h,10))||void 0,f5=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{X.addEventListener("test",jh,e),X.removeEventListener("test",jh,e)}catch(n){}return t}();function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function kc(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(IR){e:{try{B_(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:p5[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&kc.Z.h.call(this)}}Gt.prototype.h=function(){this.defaultPrevented=!0},Rt(kc,Gt);var p5={2:"touch",3:"pen",4:"mouse"};kc.prototype.h=function(){kc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Mc="closure_listenable_"+(1e6*Math.random()|0),g5=0;function m5(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++g5,this.ca=this.fa=!1}function qh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Gh(t){this.src=t,this.g={},this.h=0}function z_(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=hR(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function K_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Gh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=K_(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new m5(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Q_="closure_lm_"+(1e6*Math.random()|0),Y_={};function DR(t,e,n,r,i){if(r&&r.once)return SR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)DR(t,e[s],n,r,i);return null}return n=ev(n),t&&t[Mc]?t.N(e,n,Nc(r)?!!r.capture:!!r,i):TR(t,e,n,!1,r,i)}function TR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nc(i)?!!i.capture:!!i,a=X_(t);if(a||(t[Q_]=a=new Gh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var e=_5;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)f5||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xR(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function SR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)SR(t,e[s],n,r,i);return null}return n=ev(n),t&&t[Mc]?t.O(e,n,Nc(r)?!!r.capture:!!r,i):TR(t,e,n,!0,r,i)}function AR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AR(t,e[s],n,r,i);else r=Nc(r)?!!r.capture:!!r,n=ev(n),t&&t[Mc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=K_(s=t.g[e],n,r,i))&&(qh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=X_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=K_(e,n,r,i)),(n=-1<t?e[t]:null)&&J_(n))}function J_(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Mc])z_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=X_(e))?(z_(n,t),0==n.h&&(n.src=null,e[Q_]=null)):qh(t)}}}function xR(t){return t in Y_?Y_[t]:Y_[t]="on"+t}function _5(t,e){if(t.ca)t=!0;else{e=new kc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&J_(t),t=n.call(r,e)}return t}function X_(t){return(t=t[Q_])instanceof Gh?t:null}var Z_="__closure_events_fn_"+(1e9*Math.random()>>>0);function ev(t){return"function"==typeof t?t:(t[Z_]||(t[Z_]=function(e){return t.handleEvent(e)}),t[Z_])}function vt(){$i.call(this),this.i=new Gh(this),this.P=this,this.I=null}function Nt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;wR(e=new Gt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Wh(o,r,!0,e)&&i}if(i=Wh(o=e.g=t,r,!0,e)&&i,i=Wh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Wh(o=e.g=n[s],r,!1,e)&&i}function Wh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&z_(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Rt(vt,$i),vt.prototype[Mc]=!0,vt.prototype.removeEventListener=function(t,e,n,r){AR(this,t,e,n,r)},vt.prototype.M=function(){if(vt.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qh(n[r]);delete t.g[e],t.h--}}this.I=null},vt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var tv=X.JSON.stringify;function v5(){var t=NR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var rv,RR=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new E5,t=>t.reset());class E5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function I5(t){X.setTimeout(()=>{throw t},0)}function nv(t,e){rv||function(){var t=X.Promise.resolve(void 0);rv=function(){t.then(C5)}}(),iv||(rv(),iv=!0),NR.add(t,e)}var iv=!1,NR=new class{constructor(){this.h=this.g=null}add(e,n){const r=RR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function C5(){for(var t;t=v5();){try{t.h.call(t.g)}catch(n){I5(n)}var e=RR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}iv=!1}function zh(t,e){vt.call(this),this.h=t||1,this.g=e||X,this.j=xt(this.kb,this),this.l=Date.now()}function sv(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ov(t,e,n){if("function"==typeof t)n&&(t=xt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xt(t.handleEvent,t)}return 2147483647<Number(e)?-1:X.setTimeout(t,e||0)}function kR(t){t.g=ov(()=>{t.g=null,t.i&&(t.i=!1,kR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Rt(zh,vt),(O=zh.prototype).da=!1,O.S=null,O.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nt(this,"tick"),this.da&&(sv(this),this.start()))}},O.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},O.M=function(){zh.Z.M.call(this),sv(this),delete this.g};class D5 extends $i{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kR(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pc(t){$i.call(this),this.h=t,this.g={}}Rt(Pc,$i);var MR=[];function PR(t,e,n,r){Array.isArray(n)||(n&&(MR[0]=n.toString()),n=MR);for(var i=0;i<n.length;i++){var s=DR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function OR(t){j_(t.g,function(e,n){this.g.hasOwnProperty(n)&&J_(e)},t),t.g={}}function Kh(){this.g=!0}function Ea(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return tv(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Pc.prototype.M=function(){Pc.Z.M.call(this),OR(this)},Pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kh.prototype.Aa=function(){this.g=!1},Kh.prototype.info=function(){};var $s={},FR=null;function Qh(){return FR=FR||new vt}function LR(t){Gt.call(this,$s.Ma,t)}function Oc(t){const e=Qh();Nt(e,new LR(e,t))}function VR(t,e){Gt.call(this,$s.STAT_EVENT,t),this.stat=e}function un(t){const e=Qh();Nt(e,new VR(e,t))}function UR(t,e){Gt.call(this,$s.Na,t),this.size=e}function Fc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){t()},e)}$s.Ma="serverreachability",Rt(LR,Gt),$s.STAT_EVENT="statevent",Rt(VR,Gt),$s.Na="timingevent",Rt(UR,Gt);var Yh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function av(){}function HR(){}av.prototype.h=null;var lv,Lc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function uv(){Gt.call(this,"d")}function cv(){Gt.call(this,"c")}function Jh(){}function Vc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Pc(this),this.P=R5,this.W=new zh(t=H_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $R}function $R(){this.i=null,this.g="",this.h=!1}Rt(uv,Gt),Rt(cv,Gt),Rt(Jh,av),Jh.prototype.g=function(){return new XMLHttpRequest},Jh.prototype.i=function(){return{}},lv=new Jh;var R5=45e3,dv={},Xh={};function hv(t,e,n){t.K=1,t.v=rf(hi(e)),t.s=n,t.U=!0,qR(t,null)}function qR(t,e){t.F=Date.now(),Uc(t),t.A=hi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),ZR(n.h,"t",r),t.C=0,n=t.l.H,t.h=new $R,t.g=IN(t.l,n?e:null,!t.s),0<t.O&&(t.L=new D5(xt(t.Ia,t,t.g),t.O)),PR(t.V,t.g,"readystatechange",t.gb),e=t.H?_R(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Oc(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function GR(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function WR(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=N5(t,n),i==Xh){4==e&&(t.o=4,un(14),r=!1),Ea(t.j,t.m,null,"[Incomplete Response]");break}if(i==dv){t.o=4,un(15),Ea(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ea(t.j,t.m,i,null),fv(t,i)}GR(t)&&i!=Xh&&i!=dv&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cv(e),e.L=!0,un(11))):(Ea(t.j,t.m,n,"[Invalid Chunked Response]"),qs(t),jc(t))}function N5(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Xh:(n=Number(e.substring(n,r)),isNaN(n)?dv:(r+=1)+n>e.length?Xh:(e=e.substr(r,n),t.C=r+n,e))}function Uc(t){t.Y=Date.now()+t.P,zR(t,t.P)}function zR(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Fc(xt(t.eb,t),e)}function Zh(t){t.B&&(X.clearTimeout(t.B),t.B=null)}function jc(t){0==t.l.G||t.I||_N(t.l,t)}function qs(t){Zh(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,sv(t.W),OR(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function fv(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||mv(n.i,t)))if(n.I=t.N,!t.J&&mv(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Fc(xt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;lf(n),uf(n)}bv(n),un(18)}if(1>=nN(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else zs(n,11)}else if((t.J||n.g==t)&&lf(n),!Hh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(on(p,"spdy")||on(p,"quic")||on(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(yv(s,s.h),s.h=null))}if(r.D){const _=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,ke(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=EN(r,r.H?r.la:null,r.W),o.J){rN(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Zh(a),Uc(a)),r.g=o}else mN(r);0<n.l.length&&cf(n)}else"stop"!=c[0]&&"close"!=c[0]||zs(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?zs(n,7):Ev(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Oc(4)}catch(c){}}function pv(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(F_(t)||"string"==typeof t)fR(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(F_(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(F_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ia(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ia)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function gv(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Gs(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Gs(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Gs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(O=Vc.prototype).setTimeout=function(t){this.P=t},O.gb=function(t){t=t.target;const e=this.L;e&&3==fi(t)?e.l():this.Ia(t)},O.Ia=function(t){try{if(t==this.g)e:{const l=fi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||H_||this.g&&(this.h.h||this.g.ga()||dN(this.g)))){this.I||4!=l||7==e||Oc(8==e||0>=d?3:2),Zh(this);var n=this.g.ba();this.N=n;t:if(GR(this)){var r=dN(this.g);t="";var i=r.length,s=4==fi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qs(this),jc(this);var o="";break t}this.h.i=new X.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,un(12),qs(this),jc(this);break e}Ea(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fv(this,n)}this.U?(WR(this,l,o),H_&&this.i&&3==l&&(PR(this.V,this.W,"tick",this.fb),this.W.start())):(Ea(this.j,this.m,o,null),fv(this,o)),4==l&&qs(this),this.i&&!this.I&&(4==l?_N(this.l,this):(this.i=!1,Uc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),qs(this),jc(this)}}}catch(l){}},O.fb=function(){if(this.g){var t=fi(this.g),e=this.g.ga();this.C<e.length&&(Zh(this),WR(this,t,e),this.i&&4!=t&&Uc(this))}},O.cancel=function(){this.I=!0,qs(this)},O.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Oc(3),un(17)),qs(this),this.o=2,jc(this)):zR(this,this.Y-t)},(O=Ia.prototype).R=function(){gv(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},O.T=function(){return gv(this),this.g.concat()},O.get=function(t,e){return Gs(this.h,t)?this.h[t]:e},O.set=function(t,e){Gs(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},O.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var KR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ws(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ws){this.g=void 0!==e?e:t.g,ef(this,t.j),this.s=t.s,tf(this,t.i),nf(this,t.m),this.l=t.l,e=t.h;var n=new $c;n.i=e.i,e.g&&(n.g=new Ia(e.g),n.h=e.h),QR(this,n),this.o=t.o}else t&&(n=String(t).match(KR))?(this.g=!!e,ef(this,n[1]||"",!0),this.s=Bc(n[2]||""),tf(this,n[3]||"",!0),nf(this,n[4]),this.l=Bc(n[5]||"",!0),QR(this,n[6]||"",!0),this.o=Bc(n[7]||"")):(this.g=!!e,this.h=new $c(null,this.g))}function hi(t){return new Ws(t)}function ef(t,e,n){t.j=n?Bc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function tf(t,e,n){t.i=n?Bc(e,!0):e}function nf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function QR(t,e,n){e instanceof $c?(t.h=e,function(t,e){e&&!t.j&&(qi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(JR(this,r),ZR(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=Hc(e,U5)),t.h=new $c(e,t.g))}function ke(t,e,n){t.h.set(e,n)}function rf(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,F5),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function F5(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Hc(e,YR,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Hc(e,YR,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hc(n,"/"==n.charAt(0)?V5:L5,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Hc(n,j5)),t.join("")};var YR=/[#\/\?@]/g,L5=/[#\?:]/g,V5=/[#\?]/g,U5=/[#\?@]/g,j5=/#/g;function $c(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qi(t){t.g||(t.g=new Ia,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function JR(t,e){qi(t),e=ba(t,e),Gs(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Gs((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&gv(t)))}function XR(t,e){return qi(t),e=ba(t,e),Gs(t.g.h,e)}function ZR(t,e,n){JR(t,e),0<n.length&&(t.i=null,t.g.set(ba(t,e),V_(n)),t.h+=n.length)}function ba(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eN(t){this.l=t||$5,t=X.PerformanceNavigationTiming?0<(t=X.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(X.g&&X.g.Ea&&X.g.Ea()&&X.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(O=$c.prototype).add=function(t,e){qi(this),this.i=null,t=ba(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},O.forEach=function(t,e){qi(this),this.g.forEach(function(n,r){fR(n,function(i){t.call(e,i,r,this)},this)},this)},O.T=function(){qi(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},O.R=function(t){qi(this);var e=[];if("string"==typeof t)XR(this,t)&&(e=pR(e,this.g.get(ba(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=pR(e,t[n])}return e},O.set=function(t,e){return qi(this),this.i=null,XR(this,t=ba(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},O.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},O.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var $5=10;function tN(t){return!!t.h||!!t.g&&t.g.size>=t.j}function nN(t){return t.h?1:t.g?t.g.size:0}function mv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function yv(t,e){t.g?t.g.add(e):t.h=e}function rN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function iN(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return V_(t.i)}function _v(){}function q5(){this.g=new _v}function G5(t,e,n){const r=n||"";try{pv(t,function(i,s){let o=i;Nc(i)&&(o=tv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function qc(t){this.l=t.$b||null,this.j=t.ib||!1}function of(t,e){vt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=vv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eN.prototype.cancel=function(){if(this.i=iN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},_v.prototype.stringify=function(t){return X.JSON.stringify(t,void 0)},_v.prototype.parse=function(t){return X.JSON.parse(t,void 0)},Rt(qc,av),qc.prototype.g=function(){return new of(this.l,this.j)},qc.prototype.i=function(t){return function(){return t}}({}),Rt(of,vt);var vv=0;function sN(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Gc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Wc(t)}function Wc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(O=of.prototype).open=function(t,e){if(this.readyState!=vv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Wc(this)},O.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||X).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gc(this)),this.readyState=vv},O.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Wc(this)),this.g&&(this.readyState=3,Wc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==X.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;sN(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},O.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gc(this):Wc(this),3==this.readyState&&sN(this)}},O.Ua=function(t){this.g&&(this.response=this.responseText=t,Gc(this))},O.Ta=function(t){this.g&&(this.response=t,Gc(this))},O.ha=function(){this.g&&Gc(this)},O.setRequestHeader=function(t,e){this.v.append(t,e)},O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(of.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var z5=X.JSON.parse;function tt(t){vt.call(this),this.headers=new Ia,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=oN,this.K=this.L=!1}Rt(tt,vt);var oN="",K5=/^https?$/i,Q5=["POST","PUT"];function J5(t){return"content-type"==t.toLowerCase()}function aN(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uN(t),af(t)}function uN(t){t.D||(t.D=!0,Nt(t,"complete"),Nt(t,"error"))}function cN(t){if(t.h&&void 0!==O_&&(!t.C[1]||4!=fi(t)||2!=t.ba()))if(t.v&&4==fi(t))ov(t.Fa,0,t);else if(Nt(t,"readystatechange"),4==fi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(KR)[1]||null;if(!i&&X.self&&X.self.location){var s=X.self.location.protocol;i=s.substr(0,s.length-1)}r=!K5.test(i?i.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<fi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",uN(t)}}finally{af(t)}}}function af(t,e){if(t.g){lN(t);const n=t.g,r=t.C[0]?jh:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function lN(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(X.clearTimeout(t.A),t.A=null)}function fi(t){return t.g?t.g.readyState:0}function dN(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case oN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function wv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(t){let e="";return j_(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ke(t,e,n))}function zc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function hN(t){this.za=0,this.l=[],this.h=new Kh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zc("baseRetryDelayMs",5e3,t),this.$a=zc("retryDelaySeedMs",1e4,t),this.Ya=zc("forwardChannelMaxRetries",2,t),this.ra=zc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new eN(t&&t.concurrentRequestLimit),this.Ca=new q5,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Ev(t){if(fN(t),3==t.G){var e=t.V++,n=hi(t.F);ke(n,"SID",t.J),ke(n,"RID",e),ke(n,"TYPE","terminate"),Kc(t,n),(e=new Vc(t,t.h,e,void 0)).K=2,e.v=rf(hi(n)),n=!1,X.navigator&&X.navigator.sendBeacon&&(n=X.navigator.sendBeacon(e.v.toString(),"")),!n&&X.Image&&((new Image).src=e.v,n=!0),n||(e.g=IN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Uc(e)}wN(t)}function uf(t){t.g&&(Cv(t),t.g.cancel(),t.g=null)}function fN(t){uf(t),t.u&&(X.clearTimeout(t.u),t.u=null),lf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&X.clearTimeout(t.m),t.m=null)}function Iv(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&cf(t)}function cf(t){tN(t.i)||t.m||(t.m=!0,nv(t.Ha,t),t.C=0)}function pN(t,e){var n;n=e?e.m:t.V++;const r=hi(t.F);ke(r,"SID",t.J),ke(r,"RID",n),ke(r,"AID",t.U),Kc(t,r),t.o&&t.s&&wv(r,t.o,t.s),n=new Vc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=gN(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),yv(t.i,n),hv(n,r,e)}function Kc(t,e){t.j&&pv({},function(n,r){ke(e,r,n)})}function gN(t,e,n){n=Math.min(t.l.length,n);var r=t.j?xt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{G5(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function mN(t){t.g||t.u||(t.Y=1,nv(t.Ga,t),t.A=0)}function bv(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Fc(xt(t.Ga,t),vN(t,t.A)),t.A++,0))}function Cv(t){null!=t.B&&(X.clearTimeout(t.B),t.B=null)}function yN(t){t.g=new Vc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=hi(t.oa);ke(e,"RID","rpc"),ke(e,"SID",t.J),ke(e,"CI",t.N?"0":"1"),ke(e,"AID",t.U),Kc(t,e),ke(e,"TYPE","xmlhttp"),t.o&&t.s&&wv(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=rf(hi(e)),n.s=null,n.U=!0,qR(n,t)}function lf(t){null!=t.v&&(X.clearTimeout(t.v),t.v=null)}function _N(t,e){var n=null;if(t.g==e){lf(t),Cv(t),t.g=null;var r=2}else{if(!mv(t.i,e))return;n=e.D,rN(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Nt(r=Qh(),new UR(r,n,e,i)),cf(t)}else mN(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(nN(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Fc(xt(t.Ha,t,e),vN(t,t.C)),t.C++,0)))}(t,e)||2==r&&bv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:zs(t,5);break;case 4:zs(t,10);break;case 3:zs(t,6);break;default:zs(t,2)}}function vN(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function zs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=xt(t.jb,t);n||(n=new Ws("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||ef(n,"https"),rf(n)),function(t,e){const n=new Kh;if(X.Image){const r=new Image;r.onload=Bh(sf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bh(sf,n,r,"TestLoadImage: error",!1,e),r.onabort=Bh(sf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bh(sf,n,r,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else un(2);t.G=0,t.j&&t.j.va(e),wN(t),fN(t)}function wN(t){t.G=0,t.I=-1,t.j&&((0!=iN(t.i).length||0!=t.l.length)&&(t.i.i.length=0,V_(t.l),t.l.length=0),t.j.ua())}function EN(t,e,n){let r=function(t){return t instanceof Ws?hi(t):new Ws(t,void 0)}(n);if(""!=r.i)e&&tf(r,e+"."+r.i),nf(r,r.m);else{const i=X.location;r=function(t,e,n,r){var i=new Ws(null,void 0);return t&&ef(i,t),e&&tf(i,e),n&&nf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&j_(t.aa,function(i,s){ke(r,s,i)}),n=t.sa,(e=t.D)&&n&&ke(r,e,n),ke(r,"VER",t.ma),Kc(t,r),r}function IN(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(n&&t.Ba&&!t.qa?new qc({ib:!0}):t.qa)).L=t.H,e}function bN(){}function df(){if(wa&&!(10<=Number(h5)))throw Error("Environmental error: no available transport.")}function Pn(t,e){vt.call(this),this.g=new hN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Hh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ca(this)}function CN(t){uv.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function DN(){cv.call(this),this.status=1}function Ca(t){this.g=t}(O=tt.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lv.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:lv),this.g.onreadystatechange=xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void aN(this,s)}t=n||"";const i=new Ia(this.headers);r&&pv(r,function(s,o){i.set(o,s)}),r=function(t){e:{var e=J5;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=X.FormData&&t instanceof X.FormData,!(0<=hR(Q5,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{lN(this),0<this.B&&((this.K=function(t){return wa&&d5()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.pa,this)):this.A=ov(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){aN(this,s)}},O.pa=function(){void 0!==O_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))},O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),af(this))},O.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),af(this,!0)),tt.Z.M.call(this)},O.Fa=function(){this.s||(this.F||this.v||this.l?cN(this):this.cb())},O.cb=function(){cN(this)},O.ba=function(){try{return 2<fi(this)?this.g.status:-1}catch(t){return-1}},O.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},O.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),z5(e)}},O.Da=function(){return this.m},O.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(O=hN.prototype).ma=8,O.G=1,O.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},O.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Vc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=_R(s),wR(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gN(this,i,e),ke(n=hi(this.F),"RID",t),ke(n,"CVER",22),this.D&&ke(n,"X-HTTP-Session-Id",this.D),Kc(this,n),this.o&&s&&wv(n,this.o,s),yv(this.i,i),this.Ra&&ke(n,"TYPE","init"),this.ja?(ke(n,"$req",e),ke(n,"SID","null"),i.$=!0,hv(i,n,null)):hv(i,n,e),this.G=2}}else 3==this.G&&(t?pN(this,t):0==this.l.length||tN(this.i)||pN(this))},O.Ga=function(){if(this.u=null,yN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Fc(xt(this.bb,this),t)}},O.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,un(10),uf(this),yN(this))},O.ab=function(){null!=this.v&&(this.v=null,uf(this),bv(this),un(19))},O.jb=function(t){t?(this.h.info("Successfully pinged google.com"),un(2)):(this.h.info("Failed to ping google.com"),un(1))},(O=bN.prototype).xa=function(){},O.wa=function(){},O.va=function(){},O.ua=function(){},O.Oa=function(){},df.prototype.g=function(t,e){return new Pn(t,e)},Rt(Pn,vt),Pn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),nv(xt(t.hb,t,e))),un(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=EN(t,null,t.W),cf(t)},Pn.prototype.close=function(){Ev(this.g)},Pn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Iv(this.g,e)}else this.v?((e={}).__data__=tv(t),Iv(this.g,e)):Iv(this.g,t)},Pn.prototype.M=function(){this.g.j=null,delete this.j,Ev(this.g),delete this.g,Pn.Z.M.call(this)},Rt(CN,uv),Rt(DN,cv),Rt(Ca,bN),Ca.prototype.xa=function(){Nt(this.g,"a")},Ca.prototype.wa=function(t){Nt(this.g,new CN(t))},Ca.prototype.va=function(t){Nt(this.g,new DN(t))},Ca.prototype.ua=function(){Nt(this.g,"b")},df.prototype.createWebChannel=df.prototype.g,Pn.prototype.send=Pn.prototype.u,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Yh.NO_ERROR=0,Yh.TIMEOUT=8,Yh.HTTP_ERROR=6,jR.COMPLETE="complete",HR.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",vt.prototype.listen=vt.prototype.N,tt.prototype.listenOnce=tt.prototype.O,tt.prototype.getLastError=tt.prototype.La,tt.prototype.getLastErrorCode=tt.prototype.Da,tt.prototype.getStatus=tt.prototype.ba,tt.prototype.getResponseJson=tt.prototype.Qa,tt.prototype.getResponseText=tt.prototype.ga,tt.prototype.send=tt.prototype.ea;var e7=di.createWebChannelTransport=function(){return new df},t7=di.getStatEventTarget=function(){return Qh()},Dv=di.ErrorCode=Yh,n7=di.EventType=jR,r7=di.Event=$s,TN=di.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},i7=di.FetchXmlHttpFactory=qc,hf=di.WebChannel=HR,s7=di.XhrIo=tt;const SN="@firebase/firestore";class kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");let Da="9.6.0";const Gi=new Vh("@firebase/firestore");function Tv(){return Gi.logLevel}function x(t,...e){if(Gi.logLevel<=pe.DEBUG){const n=e.map(Sv);Gi.debug(`Firestore (${Da}): ${t}`,...n)}}function nt(t,...e){if(Gi.logLevel<=pe.ERROR){const n=e.map(Sv);Gi.error(`Firestore (${Da}): ${t}`,...n)}}function ff(t,...e){if(Gi.logLevel<=pe.WARN){const n=e.map(Sv);Gi.warn(`Firestore (${Da}): ${t}`,...n)}}function Sv(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function j(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw nt(e),new Error(e)}function G(t,e){t||j()}function k(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends Error{constructor(e,n){super(n),this.code=e,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class AN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class u7{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(v(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new AN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new kt(e)}}class c7{constructor(e,n,r){this.type="FirstParty",this.user=kt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class l7{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new c7(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d7{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,n){this.o=i=>{e.enqueueRetryable(()=>{return null!=(s=i).error&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`),n(s.token);var s})};const r=i=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G("string"==typeof n.token),new xN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class On{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.p(r),this.T=r=>n.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function h7(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}On.I=-1;class RN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=h7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Mt(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function kN(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Qc{constructor(e,n,r){void 0===n?n=0:n>e.length&&j(),void 0===r?r=e.length-n:r>e.length-n&&j(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Qc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends Qc{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const f7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Qc{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return f7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class Sa{constructor(e){this.fields=e,e.sort(Wt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Et(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Et(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const p7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(G(!!t),"string"==typeof t){let e=0;const n=p7.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Aa(t){return"string"==typeof t?Et.fromBase64String(t):Et.fromUint8Array(t)}function Av(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function PN(t){const e=t.mapValue.fields.__previous_value__;return Av(e)?PN(e):e}function Yc(t){const e=Wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Mt(e.seconds,e.nanos)}function Qs(t){return null==t}function pf(t){return 0===t&&1/t==-1/0}class V{constructor(e){this.path=e}static fromPath(e){return new V(_e.fromString(e))}static fromName(e){return new V(_e.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===_e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new V(new _e(e.slice()))}}function Ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Av(t)?4:10:j()}function Vr(t,e){const n=Ys(t);if(n!==Ys(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Wi(r.timestampValue),o=Wi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Aa(t.bytesValue).isEqual(Aa(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=rt(r.doubleValue),o=rt(i.doubleValue);return s===o?pf(s)===pf(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(kN(s)!==kN(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Vr(s[a],o[a])))return!1;return!0}(t,e);default:return j()}var i}function Jc(t,e){return void 0!==(t.values||[]).find(n=>Vr(n,e))}function xa(t,e){const n=Ys(t),r=Ys(e);if(n!==r)return le(n,r);switch(n){case 0:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=rt(i.integerValue||i.doubleValue),a=rt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return FN(t.timestampValue,e.timestampValue);case 4:return FN(Yc(t),Yc(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Aa(i),a=Aa(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=le(o[u],a[u]);if(0!==c)return c}return le(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=le(rt(i.latitude),rt(s.latitude));return 0!==o?o:le(rt(i.longitude),rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=xa(o[u],a[u]);if(c)return c}return le(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=le(a[l],c[l]);if(0!==d)return d;const h=xa(o[a[l]],u[c[l]]);if(0!==h)return h}return le(a.length,c.length)}(t.mapValue,e.mapValue);default:throw j()}}function FN(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return le(t,e);const n=Wi(t),r=Wi(e),i=le(n.seconds,r.seconds);return 0!==i?i:le(n.nanos,r.nanos)}function xv(t){return Rv(t)}function Rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Wi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Aa(t.bytesValue).toBase64():"referenceValue"in t?V.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Rv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Rv(r.fields[a])}`;return s+"}"}(t.mapValue):j();var e}function Nv(t){return!!t&&"integerValue"in t}function kv(t){return!!t&&"arrayValue"in t}function LN(t){return!!t&&"nullValue"in t}function VN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mf(t){return!!t&&"mapValue"in t}function Xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());mf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];mf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new zt(Xc(this.value))}}function UN(t){const e=[];return Ks(t.fields,(n,r)=>{const i=new Wt([n]);if(mf(r)){const s=UN(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Sa(e)}class Me{constructor(e,n,r,i,s){this.key=e,this.documentType=n,this.version=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new Me(e,0,ne.min(),zt.empty(),0)}static newFoundDocument(e,n,r){return new Me(e,1,n,r,0)}static newNoDocument(e,n){return new Me(e,2,n,zt.empty(),0)}static newUnknownDocument(e,n){return new Me(e,3,n,zt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Me(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class g7{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.R=null}}function jN(t,e=null,n=[],r=[],i=null,s=null,o=null){return new g7(t,e,n,r,i,s,o)}function Zc(t){const e=k(t);if(null===e.R){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>function(t){return t.field.canonicalString()+t.op.toString()+xv(t.value)}(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Qs(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=vf(e.startAt)),e.endAt&&(n+="|ub:",n+=vf(e.endAt)),e.R=n}return e.R}function yf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!D7(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Vr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$N(t.startAt,e.startAt)&&$N(t.endAt,e.endAt)}function _f(t){return V.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class cn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.P(e,n,r):new _7(e,n,r):"array-contains"===n?new E7(e,r):"in"===n?new I7(e,r):"not-in"===n?new b7(e,r):"array-contains-any"===n?new C7(e,r):new cn(e,n,r)}static P(e,n,r){return"in"===n?new v7(e,r):new w7(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(xa(n,this.value)):null!==n&&Ys(this.value)===Ys(n)&&this.v(xa(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return j()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _7 extends cn{constructor(e,n,r){super(e,n,r),this.key=V.fromName(r.referenceValue)}matches(e){const n=V.comparator(e.key,this.key);return this.v(n)}}class v7 extends cn{constructor(e,n){super(e,"in",n),this.keys=BN(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w7 extends cn{constructor(e,n){super(e,"not-in",n),this.keys=BN(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BN(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>V.fromName(r.referenceValue))}class E7 extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kv(n)&&Jc(n.arrayValue,this.value)}}class I7 extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Jc(this.value.arrayValue,n)}}class b7 extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Jc(this.value.arrayValue,n)}}class C7 extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Jc(this.value.arrayValue,r))}}class el{constructor(e,n){this.position=e,this.before=n}}function vf(t){return`${t.before?"b":"a"}:${t.position.map(e=>xv(e)).join(",")}`}class Ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function D7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function HN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?V.comparator(V.fromName(o.referenceValue),n.key):xa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function $N(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}class pi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.S=null,this.D=null}}function Na(t){return new pi(t)}function wf(t){return!Qs(t.limit)&&"F"===t.limitType}function Ef(t){return!Qs(t.limit)&&"L"===t.limitType}function ka(t){const e=k(t);if(null===e.S){e.S=[];const n=function(t){for(const e of t.filters)if(e.V())return e.field;return null}(e),r=function(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.S.push(new Ra(n)),e.S.push(new Ra(Wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.S.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ra(Wt.keyField(),s))}}}return e.S}function Zn(t){const e=k(t);if(!e.D)if("F"===e.limitType)e.D=jN(e.path,e.collectionGroup,ka(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ka(e))n.push(new Ra(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new el(e.endAt.position,!e.endAt.before):null,i=e.startAt?new el(e.startAt.position,!e.startAt.before):null;e.D=jN(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.D}function tl(t,e){return yf(Zn(t),Zn(e))&&t.limitType===e.limitType}function WN(t){return`${Zc(Zn(t))}|lt:${t.limitType}`}function Fv(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${xv(r.value)}`;var r}).join(", ")}]`),Qs(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: "+vf(t.startAt)),t.endAt&&(e+=", endAt: "+vf(t.endAt)),`Target(${e})`}(Zn(t))}; limitType=${t.limitType})`}function nl(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):V.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!HN(n.startAt,ka(n),r)||n.endAt&&HN(n.endAt,ka(n),r)));var n,r}function zN(t){return(e,n)=>{let r=!1;for(const i of ka(t)){const s=T7(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function T7(t,e,n){const r=t.field.isKeyField()?V.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?xa(a,u):j()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}function KN(t,e){if(t.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function QN(t){return{integerValue:""+t}}function YN(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?QN(e):KN(t,e)}class If{constructor(){this._=void 0}}function S7(t,e,n){return t instanceof Ma?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Js?XN(t,e):t instanceof Xs?ZN(t,e):function(r,i){const s=JN(r,i),o=ek(s)+ek(r.N);return Nv(s)&&Nv(r.N)?QN(o):KN(r.k,o)}(t,e)}function A7(t,e,n){return t instanceof Js?XN(t,e):t instanceof Xs?ZN(t,e):n}function JN(t,e){return t instanceof Pa?Nv(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class Ma extends If{}class Js extends If{constructor(e){super(),this.elements=e}}function XN(t,e){const n=tk(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xs extends If{constructor(e){super(),this.elements=e}}function ZN(t,e){let n=tk(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class Pa extends If{constructor(e,n){super(),this.k=e,this.N=n}}function ek(t){return rt(t.integerValue||t.doubleValue)}function tk(t){return kv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class R7{constructor(e,n){this.version=e,this.transformResults=n}}class it{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new it}static exists(e){return new it(void 0,e)}static updateTime(e){return new it(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Cf{}function N7(t,e,n){t instanceof il?function(r,i,s){const o=r.value.clone(),a=sk(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(r,i,s){if(!bf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=sk(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(ik(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Lv(t,e,n){var i;t instanceof il?function(r,i,s){if(!bf(r.precondition,i))return;const o=r.value.clone(),a=ok(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(rk(i),o).setHasLocalMutations()}(t,e,n):t instanceof zi?function(r,i,s){if(!bf(r.precondition,i))return;const o=ok(r.fieldTransforms,s,i),a=i.data;a.setAll(ik(r)),a.setAll(o),i.convertToFoundDocument(rk(i),a).setHasLocalMutations()}(t,e,n):bf(t.precondition,i=e)&&i.convertToNoDocument(ne.min())}function k7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=JN(r.transform,i||null);null!=s&&(null==n&&(n=zt.empty()),n.set(r.field,s))}return n||null}function nk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ta(n,r,(i,s)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Js&&r instanceof Js||n instanceof Xs&&r instanceof Xs?Ta(n.elements,r.elements,Vr):n instanceof Pa&&r instanceof Pa?Vr(n.N,r.N):n instanceof Ma&&r instanceof Ma);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function rk(t){return t.isFoundDocument()?t.version:ne.min()}class il extends Cf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class zi extends Cf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function ik(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sk(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,A7(o,a,n[i]))}return r}function ok(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,S7(s,o,e))}return r}class sl extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class Vv extends Cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class M7{constructor(e){this.count=e}}var st,fe;function ak(t){switch(t){default:return j();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function uk(t){if(void 0===t)return nt("GRPC error has no .code"),I.UNKNOWN;switch(t){case st.OK:return I.OK;case st.CANCELLED:return I.CANCELLED;case st.UNKNOWN:return I.UNKNOWN;case st.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case st.INTERNAL:return I.INTERNAL;case st.UNAVAILABLE:return I.UNAVAILABLE;case st.UNAUTHENTICATED:return I.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case st.NOT_FOUND:return I.NOT_FOUND;case st.ALREADY_EXISTS:return I.ALREADY_EXISTS;case st.PERMISSION_DENIED:return I.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case st.ABORTED:return I.ABORTED;case st.OUT_OF_RANGE:return I.OUT_OF_RANGE;case st.UNIMPLEMENTED:return I.UNIMPLEMENTED;case st.DATA_LOSS:return I.DATA_LOSS;default:return j()}}(fe=st||(st={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class lt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Pt.RED,this.left=null!=i?i:Pt.EMPTY,this.right=null!=s?s:Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1,Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Pt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ck(this.data.getIterator())}getIteratorFrom(e){return new ck(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class ck{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const P7=new lt(V.comparator);function er(){return P7}const O7=new lt(V.comparator);function Uv(){return O7}const F7=new lt(V.comparator);const L7=new $e(V.comparator);function be(...t){let e=L7;for(const n of t)e=e.add(n);return e}const V7=new $e(le);function Tf(){return V7}class ol{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,al.createSynthesizedTargetChangeForCurrentChange(e,n)),new ol(ne.min(),r,Tf(),er(),be())}}class al{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new al(Et.EMPTY_BYTE_STRING,n,be(),be(),be())}}class Sf{constructor(e,n,r,i){this.$=e,this.removedTargetIds=n,this.key=r,this.F=i}}class dk{constructor(e,n){this.targetId=e,this.O=n}}class hk{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fk{constructor(){this.M=0,this.L=gk(),this.B=Et.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=be(),n=be(),r=be();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:j()}}),new al(this.B,this.U,e,n,r)}H(){this.q=!1,this.L=gk()}J(e,n){this.q=!0,this.L=this.L.insert(e,n)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class U7{constructor(e){this.et=e,this.nt=new Map,this.st=er(),this.it=pk(),this.rt=new $e(le)}ot(e){for(const n of e.$)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ut(e){this.forEachTarget(e,n=>{const r=this.ht(n);switch(e.state){case 0:this.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(n);break;case 3:this.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(n)&&(this.ft(n),r.W(e.resumeToken));break;default:j()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.nt.forEach((r,i)=>{this.lt(i)&&n(i)})}dt(e){const n=e.targetId,r=e.O.count,i=this.wt(n);if(i){const s=i.target;if(_f(s))if(0===r){const o=new V(s.path);this.ct(n,o,Me.newNoDocument(o,ne.min()))}else G(1===r);else this._t(n)!==r&&(this.ft(n),this.rt=this.rt.add(n))}}gt(e){const n=new Map;this.nt.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&_f(a.target)){const u=new V(a.target.path);null!==this.st.get(u)||this.yt(o,u)||this.ct(o,u,Me.newNoDocument(u,e))}s.j&&(n.set(o,s.G()),s.H())}});let r=be();this.it.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.wt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))});const i=new ol(e,n,this.rt,this.st,r);return this.st=er(),this.it=pk(),this.rt=new $e(le),i}at(e,n){if(!this.lt(e))return;const r=this.yt(e,n.key)?2:0;this.ht(e).J(n.key,r),this.st=this.st.insert(n.key,n),this.it=this.it.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,n)?i.J(n,1):i.Y(n),this.it=this.it.insert(n,this.Tt(n).delete(e)),r&&(this.st=this.st.insert(n,r))}removeTarget(e){this.nt.delete(e)}_t(e){const n=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let n=this.nt.get(e);return n||(n=new fk,this.nt.set(e,n)),n}Tt(e){let n=this.it.get(e);return n||(n=new $e(le),this.it=this.it.insert(e,n)),n}lt(e){const n=null!==this.wt(e);return n||x("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.nt.get(e);return n&&n.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new fk),this.et.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}yt(e,n){return this.et.getRemoteKeysForTarget(e).has(n)}}function pk(){return new lt(V.comparator)}function gk(){return new lt(V.comparator)}const j7={asc:"ASCENDING",desc:"DESCENDING"},B7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class H7{constructor(e,n){this.databaseId=e,this.C=n}}function ul(t,e){return t.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mk(t,e){return t.C?e.toBase64():e.toUint8Array()}function $7(t,e){return ul(t,e.toTimestamp())}function It(t){return G(!!t),ne.fromTimestamp(function(e){const n=Wi(e);return new Mt(n.seconds,n.nanos)}(t))}function jv(t,e){return(n=t,new _e(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function yk(t){const e=_e.fromString(t);return G(xk(e)),e}function cl(t,e){return jv(t.databaseId,e.path)}function Ur(t,e){const n=yk(e);if(n.get(1)!==t.databaseId.projectId)throw new S(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new V(vk(n))}function Bv(t,e){return jv(t.databaseId,e)}function ll(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vk(t){return G(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function wk(t,e,n){return{name:cl(t,e),fields:n.value.mapValue.fields}}function bk(t,e){return{documents:[Bv(t,e.path)]}}function Ck(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Bv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(0===a.length)return;const u=a.map(c=>function(l){if("=="===l.op){if(VN(l.value))return{unaryFilter:{field:Oa(l.field),op:"IS_NAN"}};if(LN(l.value))return{unaryFilter:{field:Oa(l.field),op:"IS_NULL"}}}else if("!="===l.op){if(VN(l.value))return{unaryFilter:{field:Oa(l.field),op:"IS_NOT_NAN"}};if(LN(l.value))return{unaryFilter:{field:Oa(l.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(l.field),op:Q7(l.op),value:l.value}}}(c));return 1===u.length?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(0!==a.length)return a.map(u=>{return{field:Oa((c=u).field),direction:K7(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(u=e.limit,t.C||Qs(u)?u:{value:u});var u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Sk(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Sk(e.endAt)),n}function Dk(t){let e=function(t){const e=yk(t);return 4===e.length?_e.emptyPath():vk(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=Tk(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ra(Fa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Qs(d)?null:d}(n.limit));let u=null;n.startAt&&(u=Ak(n.startAt));let c=null;return n.endAt&&(c=Ak(n.endAt)),function(t,e,n,r,i,s,o,a){return new pi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function Tk(t){return t?void 0!==t.unaryFilter?[J7(t)]:void 0!==t.fieldFilter?[Y7(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>Tk(e)).reduce((e,n)=>e.concat(n)):j():[]}function Sk(t){return{before:t.before,values:t.position}}function Ak(t){return new el(t.values||[],!!t.before)}function K7(t){return j7[t]}function Q7(t){return B7[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function Fa(t){return Wt.fromServerFormat(t.fieldPath)}function Y7(t){return cn.create(Fa(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(t.fieldFilter.op),t.fieldFilter.value)}function J7(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Fa(t.unaryFilter.field);return cn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Fa(t.unaryFilter.field);return cn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fa(t.unaryFilter.field);return cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fa(t.unaryFilter.field);return cn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return j()}}function X7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xk(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Er(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Rk(e)),e=Z7(t.get(n),e);return Rk(e)}function Z7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Rk(t){return t+"\x01\x01"}class Fn{constructor(e,n,r){this.ownerId=e,this.allowTabSynchronization=n,this.leaseTimestampMs=r}}Fn.store="owner",Fn.key="owner";class Ki{constructor(e,n,r){this.userId=e,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}}Ki.store="mutationQueues",Ki.keyPath="userId";class xe{constructor(e,n,r,i,s){this.userId=e,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=s}}xe.store="mutations",xe.keyPath="batchId",xe.userMutationsIndex="userMutationsIndex",xe.userMutationsKeyPath=["userId","batchId"];class Kt{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,n){return[e,Er(n)]}static key(e,n,r){return[e,Er(n),r]}}Kt.store="documentMutations",Kt.PLACEHOLDER=new Kt;class qe{constructor(e,n,r,i,s,o){this.unknownDocument=e,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=s,this.parentPath=o}}qe.store="remoteDocuments",qe.readTimeIndex="readTimeIndex",qe.readTimeIndexPath="readTime",qe.collectionReadTimeIndex="collectionReadTimeIndex",qe.collectionReadTimeIndexPath=["parentPath","readTime"];class jr{constructor(e){this.byteSize=e}}jr.store="remoteDocumentGlobal",jr.key="remoteDocumentGlobalKey";class mn{constructor(e,n,r,i,s,o,a){this.targetId=e,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=o,this.query=a}}mn.store="targets",mn.keyPath="targetId",mn.queryTargetsIndexName="queryTargetsIndex",mn.queryTargetsKeyPath=["canonicalId","targetId"];class Ot{constructor(e,n,r){this.targetId=e,this.path=n,this.sequenceNumber=r}}Ot.store="targetDocuments",Ot.keyPath=["targetId","path"],Ot.documentTargetsIndex="documentTargetsIndex",Ot.documentTargetsKeyPath=["path","targetId"];class Ln{constructor(e,n,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}Ln.key="targetGlobalKey",Ln.store="targetGlobal";class Zs{constructor(e,n){this.collectionId=e,this.parent=n}}Zs.store="collectionParents",Zs.keyPath=["collectionId","parent"];class mi{constructor(e,n,r,i){this.clientId=e,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}}mi.store="clientMetadata",mi.keyPath="clientId";class La{constructor(e,n,r){this.bundleId=e,this.createTime=n,this.version=r}}La.store="bundles",La.keyPath="bundleId";class Va{constructor(e,n,r){this.name=e,this.readTime=n,this.bundledQuery=r}}Va.store="namedQueries",Va.keyPath="name";const Nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(i=>i?C.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function eo(t){return"IndexedDbTransactionError"===t.name}class $v{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&N7(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Lv(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Lv(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ne.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,r)=>nk(n,r))&&Ta(this.baseMutations,e.baseMutations,(n,r)=>nk(n,r))}}class qv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=F7;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qv(e,n,r,i)}}class Qi{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=Et.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Pk{constructor(e){this.Gt=e}}function zv(t){const e=Dk({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function(t,e,n){return new pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class uz{constructor(){this.zt=new Kv}addToCollectionParentIndex(e,n){return this.zt.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.zt.getEntries(n))}}class Kv{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(_e.comparator)).toArray()}}class _n{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class no{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new no(0)}static re(){return new no(-1)}}function ro(t){return Yv.apply(this,arguments)}function Yv(){return Yv=v(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==Nk)throw t;x("LocalStore","Unexpectedly lost primary lease")}),Yv.apply(this,arguments)}class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.inner[r]=[[e,n]]}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return MN(this.inner)}}class Qk{constructor(e,n,r){this.Je=e,this.An=n,this.Jt=r}Rn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Pn(e,n,r))}Pn(e,n,r){return this.Je.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}bn(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}vn(e,n){return this.Je.getEntries(e,n).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.bn(n,r))}getDocumentsMatchingQuery(e,n,r){return V.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,n.path):function(t){return null!==t.collectionGroup}(n)?this.Dn(e,n,r):this.Cn(e,n,r);var i}Sn(e,n){return this.Rn(e,new V(n)).next(r=>{let i=Uv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,n,r){const i=n.collectionGroup;let s=Uv();return this.Jt.getCollectionParents(e,i).next(o=>C.forEach(o,a=>{const u=(c=n,l=a.child(i),new pi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.Cn(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}Cn(e,n,r){let i,s;return this.Je.getDocumentsMatchingQuery(e,n,r).next(o=>(i=o,this.An.getAllMutationBatchesAffectingQuery(e,n))).next(o=>(s=o,this.Nn(e,s,i).next(a=>{i=a;for(const u of s)for(const c of u.mutations){const l=c.key;let d=i.get(l);null==d&&(d=Me.newInvalidDocument(l),i=i.insert(l,d)),Lv(c,d,u.localWriteTime),d.isFoundDocument()||(i=i.remove(l))}}))).next(()=>(i.forEach((o,a)=>{nl(n,a)||(i=i.remove(o))}),i))}Nn(e,n,r){let i=be();for(const o of n)for(const a of o.mutations)a instanceof zi&&null===r.get(a.key)&&(i=i.add(a.key));let s=r;return this.Je.getEntries(e,i).next(o=>(o.forEach((a,u)=>{u.isFoundDocument()&&(s=s.insert(a,u))}),s))}}class ew{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.kn=r,this.xn=i}static $n(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ew(e,n.fromCache,r,i)}}class Yk{Fn(e){this.On=e}getDocumentsMatchingQuery(e,n,r,i){return 0===(s=n).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(ne.min())?this.Mn(e,n):this.On.vn(e,i).next(s=>{const o=this.Ln(n,s);return(wf(n)||Ef(n))&&this.Bn(n.limitType,o,i,r)?this.Mn(e,n):(Tv()<=pe.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Fv(n)),this.On.getDocumentsMatchingQuery(e,n,r).next(a=>(o.forEach(u=>{a=a.insert(u.key,u)}),a)))});var s}Ln(e,n){let r=new $e(zN(e));return n.forEach((i,s)=>{nl(e,s)&&(r=r.add(s))}),r}Bn(e,n,r,i){if(r.size!==n.size)return!0;const s="F"===e?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mn(e,n){return Tv()<=pe.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",Fv(n)),this.On.getDocumentsMatchingQuery(e,n,ne.min())}}class wz{constructor(e,n,r,i){this.persistence=e,this.Un=n,this.k=i,this.qn=new lt(le),this.Kn=new qa(s=>Zc(s),yf),this.jn=ne.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Qk(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qn))}}function Xk(t,e){return tw.apply(this,arguments)}function tw(){return tw=v(function*(t,e){const n=k(t);let r=n.An,i=n.Wn;const s=yield n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(u=>(a=u,r=n.persistence.getMutationQueue(e),i=new Qk(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(o))).next(u=>{const c=[],l=[];let d=be();for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of u){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return i.vn(o,d).next(h=>({Gn:h,removedBatchIds:c,addedBatchIds:l}))})});return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}),tw.apply(this,arguments)}function Ez(t,e){const n=k(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=C.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const _=u.docVersions.get(f);G(null!==_),p.version.compareTo(_)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&c.addEntry(p,u.commitVersion))})}),h.next(()=>o.An.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.An.performConsistencyCheck(r)).next(()=>n.Wn.vn(r,i))})}function Zk(t){const e=k(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.He.getLastRemoteSnapshotVersion(n))}function Iz(t,e){const n=k(t),r=e.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const a=[];e.targetChanges.forEach((c,l)=>{const d=i.get(l);if(!d)return;a.push(n.He.removeMatchingKeys(s,c.removedDocuments,l).next(()=>n.He.addMatchingKeys(s,c.addedDocuments,l)));const h=c.resumeToken;if(h.approximateByteSize()>0){const f=d.withResumeToken(h,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(l,f),p=d,y=c,G((_=f).resumeToken.approximateByteSize()>0),(0===p.resumeToken.approximateByteSize()||_.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.He.updateTargetData(s,f))}var p,_,y});let u=er();if(e.documentUpdates.forEach((c,l)=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(function(t,e,n,r,i){let s=be();return n.forEach(o=>s=s.add(o)),e.getEntries(t,s).next(o=>{let a=er();return n.forEach((u,c)=>{const l=o.get(u),d=(null==i?void 0:i.get(u))||r;c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(u,d),a=a.insert(u,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c,d),a=a.insert(u,c)):x("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version)}),a})}(s,o,e.documentUpdates,r,void 0).next(c=>{u=c})),!r.isEqual(ne.min())){const c=n.He.getLastRemoteSnapshotVersion(s).next(l=>n.He.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return C.waitFor(a).next(()=>o.apply(s)).next(()=>n.Wn.Vn(s,u)).next(()=>u)}).then(s=>(n.qn=i,s))}function bz(t,e){const n=k(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.An.getNextMutationBatchAfterBatchId(r,e)))}function Ga(t,e){const n=k(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.He.getTargetData(r,e).next(s=>s?(i=s,C.resolve(i)):n.He.allocateTargetId(r).next(o=>(i=new Qi(e,o,0,r.currentSequenceNumber),n.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qn=n.qn.insert(r.targetId,r),n.Kn.set(e,r.targetId)),r})}function Wa(t,e,n){return nw.apply(this,arguments)}function nw(){return nw=v(function*(t,e,n){const r=k(t),i=r.qn.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!eo(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),nw.apply(this,arguments)}function Pf(t,e,n){const r=k(t);let i=ne.min(),s=be();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=k(a),d=l.Kn.get(c);return void 0!==d?C.resolve(l.qn.get(d)):l.He.getTargetData(u,c)}(r,o,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Un.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:be())).next(a=>({documents:a,zn:s})))}class Sz{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,n){return C.resolve(this.Xn.get(n))}saveBundleMetadata(e,n){var r;return this.Xn.set(n.id,{id:(r=n).id,version:r.version,createTime:It(r.createTime)}),C.resolve()}getNamedQuery(e,n){return C.resolve(this.Zn.get(n))}saveNamedQuery(e,n){return this.Zn.set(n.name,{name:(r=n).name,query:zv(r.bundledQuery),readTime:It(r.readTime)}),C.resolve();var r}}class ow{constructor(){this.ts=new $e(bt.es),this.ns=new $e(bt.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,n){const r=new bt(e,n);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.os(new bt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new V(new _e([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.ns.forEachInRange([r,i],o=>{this.os(o),s.push(o.key)}),s}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const n=new V(new _e([])),r=new bt(n,e),i=new bt(n,e+1);let s=be();return this.ns.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.ts.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.fs=n}static es(e,n){return V.comparator(e.key,n.key)||le(e.fs,n.fs)}static ss(e,n){return le(e.fs,n.fs)||V.comparator(e.key,n.key)}}class Az{constructor(e,n){this.Jt=e,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new $e(bt.es)}checkEmpty(e){return C.resolve(0===this.An.length)}addMutationBatch(e,n,r,i){const s=this.ds;this.ds++;const o=new $v(s,n,r,i);this.An.push(o);for(const a of i)this.ws=this.ws.add(new bt(a.key,s)),this.Jt.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.gs(n+1),s=i<0?0:i;return C.resolve(this.An.length>s?this.An[s]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return C.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.ws.forEachInRange([r,i],o=>{const a=this._s(o.fs);s.push(a)}),C.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(le);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([s,o],a=>{r=r.add(a.fs)})}),C.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;V.isDocumentKey(s)||(s=s.child(""));const o=new bt(new V(s),0);let a=new $e(le);return this.ws.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.fs)),!0)},o),C.resolve(this.ys(a))}ys(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){G(0===this.ps(n.batchId,"removed")),this.An.shift();let r=this.ws;return C.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,n){const r=new bt(n,0),i=this.ws.firstAfterOrEqual(r);return C.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return C.resolve()}ps(e,n){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const n=this.gs(e);return n<0||n>=this.An.length?null:this.An[n]}}class xz{constructor(e,n){this.Jt=e,this.Ts=n,this.docs=new lt(V.comparator),this.size=0}addEntry(e,n,r){const i=n.key,s=this.docs.get(i),o=s?s.size:0,a=this.Ts(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:a,readTime:r}),this.size+=a-o,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.clone():Me.newInvalidDocument(n))}getEntries(e,n){let r=er();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.clone():Me.newInvalidDocument(i))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r){let i=er();const s=new V(n.path.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(r)<=0||nl(n,u)&&(i=i.insert(u.key,u.clone()))}return C.resolve(i)}Es(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rz(this)}getSize(e){return C.resolve(this.size)}}class Rz extends class{constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}getReadTime(e){const n=this.changes.get(e);return n?n.readTime:ne.min()}addEntry(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})}removeEntry(e,n=null){this.assertNotApplied(),this.changes.set(e,{document:Me.newInvalidDocument(e),readTime:n})}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?C.resolve(r.document):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.De=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?n.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this.De.getEntry(e,n)}getAllFromCache(e,n){return this.De.getEntries(e,n)}}class Nz{constructor(e){this.persistence=e,this.Is=new qa(n=>Zc(n),yf),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.As=0,this.Rs=new ow,this.targetCount=0,this.Ps=no.ie()}forEachTarget(e,n){return this.Is.forEach((r,i)=>n(i)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.As&&(this.As=n),C.resolve()}ce(e){this.Is.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ps=new no(n),this.highestTargetId=n),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,n){return this.ce(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.ce(n),C.resolve()}removeTargetData(e,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Is.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),C.waitFor(s).next(()=>i)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Is.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.Rs.rs(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.Rs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),C.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Rs.us(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Rs.ls(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.Rs.containsKey(n))}}class kz{constructor(e,n){this.bs={},this.Be=new On(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new Nz(this),this.Jt=new uz,this.Je=new xz(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new Pk(n),this.Ye=new Sz(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let n=this.bs[e.toKey()];return n||(n=new Az(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);const i=new Mz(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(s=>this.referenceDelegate.Ss(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ds(e,n){return C.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class Mz extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class aw{constructor(e){this.persistence=e,this.Cs=new ow,this.Ns=null}static ks(e){return new aw(e)}get xs(){if(this.Ns)return this.Ns;throw j()}addReference(e,n,r){return this.Cs.addReference(r,n),this.xs.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Cs.removeReference(r,n),this.xs.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.xs.add(n.toString()),C.resolve()}removeTarget(e,n){this.Cs.us(n.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.xs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Vs(){this.Ns=new Set}Ss(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.xs,r=>{const i=V.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i)})}).next(()=>(this.Ns=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(e){return 0}$s(e,n){return C.or([()=>C.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ds(e,n)])}}class lw{constructor(){this.activeTargetIds=Tf()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sM{constructor(){this.pi=new lw,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,n,r){this.Ti[e]=n}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new lw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Pz{Ei(e){}shutdown(){}}class oM{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Oz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fz{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class Lz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,n,r,i,s){const o=this.Ui(e,n);x("RestConnection","Sending: ",o,r);const a={};return this.qi(a,i,s),this.Ki(e,o,a,r).then(u=>(x("RestConnection","Received: ",u),u),u=>{throw ff("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ji(e,n,r,i,s){return this.Bi(e,n,r,i,s)}qi(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Da,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Ui(e,n){return`${this.Mi}/v1/${n}:${Oz[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,n,r,i){return new Promise((s,o)=>{const a=new s7;a.listenOnce(n7.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Dv.NO_ERROR:const c=a.getResponseJson();x("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Dv.TIMEOUT:x("Connection",'RPC "'+e+'" timed out'),o(new S(I.DEADLINE_EXCEEDED,"Request time out"));break;case Dv.HTTP_ERROR:const l=a.getStatus();if(x("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(p)>=0?p:I.UNKNOWN}(d.status);o(new S(h,d.message))}else o(new S(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new S(I.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{x("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}Qi(e,n,r){const i=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=e7(),o=t7(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new i7({})),this.qi(a.initMessageHeaders,n,r),Jx()||Zx()||_t().indexOf("Electron/")>=0||eR()||_t().indexOf("MSAppHost/")>=0||Xx()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");x("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Fz({Vi:p=>{d?x("Connection","Not sending because WebChannel is closed:",p):(l||(x("Connection","Opening WebChannel transport."),c.open(),l=!0),x("Connection","WebChannel sending:",p),c.send(p))},Si:()=>c.close()}),f=(p,_,y)=>{p.listen(_,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return f(c,hf.EventType.OPEN,()=>{d||x("Connection","WebChannel transport opened.")}),f(c,hf.EventType.CLOSE,()=>{d||(d=!0,x("Connection","WebChannel transport closed"),h.Fi())}),f(c,hf.EventType.ERROR,p=>{d||(d=!0,ff("Connection","WebChannel transport errored:",p),h.Fi(new S(I.UNAVAILABLE,"The operation could not be completed")))}),f(c,hf.EventType.MESSAGE,p=>{var _;if(!d){const y=p.data[0];G(!!y);const w=y,E=w.error||(null===(_=w[0])||void 0===_?void 0:_.error);if(E){x("Connection","WebChannel received error:",E);const A=E.status;let R=function(me){const Ge=st[me];if(void 0!==Ge)return uk(Ge)}(A),U=E.message;void 0===R&&(R=I.INTERNAL,U="Unknown error status: "+A+" with message "+E.message),d=!0,h.Fi(new S(R,U)),c.close()}else x("Connection","WebChannel received:",y),h.Oi(y)}}),f(o,r7.STAT_EVENT,p=>{p.stat===TN.PROXY?x("Connection","Detected buffering proxy"):p.stat===TN.NOPROXY&&x("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.$i()},0),h}}function Lf(){return"undefined"!=typeof document?document:null}function gl(t){return new H7(t,!0)}class hw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Oe=e,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=s,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class uM{constructor(e,n,r,i,s,o,a,u){this.Oe=e,this.nr=r,this.sr=i,this.ir=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new hw(e,n)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return v(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return v(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,n){var r=this;return v(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(nt(n.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(n)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===n&&this.Ir(r,i)},r=>{e(()=>{const i=new S(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,n){const r=this.Er(this.rr);this.stream=this.Rr(e,n),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi(v(function*(){e.state=0,e.start()}))}Ar(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return n=>{this.Oe.enqueueAndForget(()=>this.rr===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vz extends uM{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.k=s}Rr(e,n){return this.ir.Qi("Listen",e,n)}onMessage(e){this.ur.reset();const n=function(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:j(),i=e.targetChange.targetIds||[],s=function(u,c){return u.C?(G(void 0===c||"string"==typeof c),Et.fromBase64String(c||"")):(G(void 0===c||c instanceof Uint8Array),Et.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:uk(u.code);return new S(c,u.message||"")}(o);n=new hk(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ur(t,r.document.name),s=It(r.document.updateTime),o=new zt({mapValue:{fields:r.document.fields}}),a=Me.newFoundDocument(i,s,o);n=new Sf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Ur(t,r.document),s=r.readTime?It(r.readTime):ne.min(),o=Me.newNoDocument(i,s);n=new Sf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ur(t,r.document);n=new Sf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return j();{const r=e.filter,s=new M7(r.count||0);n=new dk(r.targetId,s)}}var u;return n}(this.k,e),r=function(i){if(!("targetChange"in i))return ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?It(s.readTime):ne.min()}(e);return this.listener.Pr(n,r)}br(e){const n={};n.database=ll(this.k),n.addTarget=function(i,s){let o;const a=s.target;return o=_f(a)?{documents:bk(i,a)}:{query:Ck(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mk(i,s.resumeToken):s.snapshotVersion.compareTo(ne.min())>0&&(o.readTime=ul(i,s.snapshotVersion.toTimestamp())),o}(this.k,e);const r=function(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return j()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.gr(n)}vr(e){const n={};n.database=ll(this.k),n.removeTarget=e,this.gr(n)}}class Uz extends uM{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.k=s,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,n){return this.ir.Qi("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const n=function(t,e){return t&&t.length>0?(G(void 0!==e),t.map(n=>function(r,i){let s=It(r.updateTime?r.updateTime:i);return s.isEqual(ne.min())&&(s=It(i)),new R7(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=It(e.commitTime);return this.listener.Cr(r,n)}return G(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=ll(this.k),this.gr(e)}Dr(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function(t,e){let n;if(e instanceof il)n={update:wk(t,e.key,e.value)};else if(e instanceof sl)n={delete:cl(t,e.key)};else if(e instanceof zi)n={update:wk(t,e.key,e.data),updateMask:X7(e.fieldMask)};else{if(!(e instanceof Vv))return j();n={verify:cl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Js)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Pa)return{fieldPath:s.field.canonicalString(),increment:o.N};throw j()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:$7(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:j()),n;var i}(this.k,r))};this.gr(n)}}class jz extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.ir=r,this.k=i,this.$r=!1}Fr(){if(this.$r)throw new S(I.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.Bi(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(I.UNKNOWN,i.toString())})}ji(e,n,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.ir.ji(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(I.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class Bz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(nt(n),this.Lr=!1):x("OnlineStateTracker",n)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Hz{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=s,this.Hr.Ei(a=>{r.enqueueAndForget(v(function*(){var u;Zi(o)&&(x("RemoteStore","Restarting streams for network reachability change."),yield(u=v(function*(c){const l=k(c);l.Gr.add(4),yield za(l),l.Jr.set("Unknown"),l.Gr.delete(4),yield ml(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.Jr=new Bz(r,i)}}function ml(t){return fw.apply(this,arguments)}function fw(){return fw=v(function*(t){if(Zi(t))for(const e of t.zr)yield e(!0)}),fw.apply(this,arguments)}function za(t){return pw.apply(this,arguments)}function pw(){return pw=v(function*(t){for(const e of t.zr)yield e(!1)}),pw.apply(this,arguments)}function Vf(t,e){const n=k(t);n.Wr.has(e.targetId)||(n.Wr.set(e.targetId,e),yw(n)?mw(n):Qa(n).lr()&&gw(n,e))}function yl(t,e){const n=k(t),r=Qa(n);n.Wr.delete(e),r.lr()&&cM(n,e),0===n.Wr.size&&(r.lr()?r._r():Zi(n)&&n.Jr.set("Unknown"))}function gw(t,e){t.Yr.X(e.targetId),Qa(t).br(e)}function cM(t,e){t.Yr.X(e),Qa(t).vr(e)}function mw(t){t.Yr=new U7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Wr.get(e)||null}),Qa(t).start(),t.Jr.Br()}function yw(t){return Zi(t)&&!Qa(t).hr()&&t.Wr.size>0}function Zi(t){return 0===k(t).Gr.size}function lM(t){t.Yr=void 0}function $z(t){return _w.apply(this,arguments)}function _w(){return _w=v(function*(t){t.Wr.forEach((e,n)=>{gw(t,e)})}),_w.apply(this,arguments)}function qz(t,e){return vw.apply(this,arguments)}function vw(){return vw=v(function*(t,e){lM(t),yw(t)?(t.Jr.Kr(e),mw(t)):t.Jr.set("Unknown")}),vw.apply(this,arguments)}function Gz(t,e,n){return ww.apply(this,arguments)}function ww(){return ww=v(function*(t,e,n){if(t.Jr.set("Online"),e instanceof hk&&2===e.state&&e.cause)try{yield(r=v(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Wr.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Wr.delete(a),i.Yr.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Uf(t,r)}else if(e instanceof Sf?t.Yr.ot(e):e instanceof dk?t.Yr.dt(e):t.Yr.ut(e),!n.isEqual(ne.min()))try{const r=yield Zk(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Yr.gt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Wr.get(u);c&&i.Wr.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.Wr.get(a);if(!u)return;i.Wr.set(a,u.withResumeToken(Et.EMPTY_BYTE_STRING,u.snapshotVersion)),cM(i,a);const c=new Qi(u.target,a,1,u.sequenceNumber);gw(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){x("RemoteStore","Failed to raise snapshot:",r),yield Uf(t,r)}var r}),ww.apply(this,arguments)}function Uf(t,e,n){return Ew.apply(this,arguments)}function Ew(){return Ew=v(function*(t,e,n){if(!eo(e))throw e;t.Gr.add(1),yield za(t),t.Jr.set("Offline"),n||(n=()=>Zk(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){x("RemoteStore","Retrying IndexedDB access"),yield n(),t.Gr.delete(1),yield ml(t)}))}),Ew.apply(this,arguments)}function dM(t,e){return e().catch(n=>Uf(t,n,e))}function Ka(t){return Iw.apply(this,arguments)}function Iw(){return Iw=v(function*(t){const e=k(t),n=es(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;Wz(e);)try{const i=yield bz(e.localStore,r);if(null===i){0===e.Qr.length&&n._r();break}r=i.batchId,zz(e,i)}catch(i){yield Uf(e,i)}hM(e)&&fM(e)}),Iw.apply(this,arguments)}function Wz(t){return Zi(t)&&t.Qr.length<10}function zz(t,e){t.Qr.push(e);const n=es(t);n.lr()&&n.Sr&&n.Dr(e.mutations)}function hM(t){return Zi(t)&&!es(t).hr()&&t.Qr.length>0}function fM(t){es(t).start()}function Kz(t){return bw.apply(this,arguments)}function bw(){return bw=v(function*(t){es(t).kr()}),bw.apply(this,arguments)}function Qz(t){return Cw.apply(this,arguments)}function Cw(){return Cw=v(function*(t){const e=es(t);for(const n of t.Qr)e.Dr(n.mutations)}),Cw.apply(this,arguments)}function Yz(t,e,n){return Dw.apply(this,arguments)}function Dw(){return Dw=v(function*(t,e,n){const r=t.Qr.shift(),i=qv.from(r,e,n);yield dM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ka(t)}),Dw.apply(this,arguments)}function Jz(t,e){return Tw.apply(this,arguments)}function Tw(){return Tw=v(function*(t,e){var n;e&&es(t).Sr&&(yield(n=v(function*(r,i){if(ak(s=i.code)&&s!==I.ABORTED){const o=r.Qr.shift();es(r).wr(),yield dM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ka(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),hM(t)&&fM(t)}),Tw.apply(this,arguments)}function Aw(){return Aw=v(function*(t,e){const n=k(t);e?(n.Gr.delete(2),yield ml(n)):e||(n.Gr.add(2),yield za(n),n.Jr.set("Unknown"))}),Aw.apply(this,arguments)}function Qa(t){return t.Xr||(t.Xr=function(e,n,r){const i=k(e);return i.Fr(),new Vz(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:$z.bind(null,t),Ni:qz.bind(null,t),Pr:Gz.bind(null,t)}),t.zr.push(function(){var e=v(function*(n){n?(t.Xr.wr(),yw(t)?mw(t):t.Jr.set("Unknown")):(yield t.Xr.stop(),lM(t))});return function(n){return e.apply(this,arguments)}}())),t.Xr}function es(t){return t.Zr||(t.Zr=function(e,n,r){const i=k(e);return i.Fr(),new Uz(n,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(t.datastore,t.asyncQueue,{Di:Kz.bind(null,t),Ni:Jz.bind(null,t),Nr:Qz.bind(null,t),Cr:Yz.bind(null,t)}),t.zr.push(function(){var e=v(function*(n){n?(t.Zr.wr(),yield Ka(t)):(yield t.Zr.stop(),t.Qr.length>0&&(x("RemoteStore",`Stopping write stream with ${t.Qr.length} pending writes`),t.Qr=[]))});return function(n){return e.apply(this,arguments)}}())),t.Zr}class xw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ya(t,e){if(nt("AsyncQueue",`${e}: ${t}`),eo(t))return new S(I.UNAVAILABLE,`${e}: ${t}`);throw t}class Ja{constructor(e){this.comparator=e?(n,r)=>e(n,r)||V.comparator(n.key,r.key):(n,r)=>V.comparator(n.key,r.key),this.keyedMap=Uv(),this.sortedSet=new lt(this.comparator)}static emptySet(e){return new Ja(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class pM{constructor(){this.eo=new lt(V.comparator)}track(e){const n=e.doc.key,r=this.eo.get(n);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(n,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(n):1===e.type&&2===r.type?this.eo=this.eo.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(n,{type:2,doc:e.doc}):j():this.eo=this.eo.insert(n,e)}no(){const e=[];return this.eo.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Xa(e,n,Ja.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Xz{constructor(){this.so=void 0,this.listeners=[]}}class Zz{constructor(){this.queries=new qa(e=>WN(e),tl),this.onlineState="Unknown",this.io=new Set}}function Nw(){return Nw=v(function*(t,e){const n=k(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Xz),i)try{s.so=yield n.onListen(r)}catch(o){const a=Ya(o,`Initialization of query '${Fv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.ro(n.onlineState),s.so&&e.oo(s.so)&&Pw(n)}),Nw.apply(this,arguments)}function Mw(){return Mw=v(function*(t,e){const n=k(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Mw.apply(this,arguments)}function eK(t,e){const n=k(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.oo(i)&&(r=!0);o.so=i}}r&&Pw(n)}function tK(t,e,n){const r=k(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Pw(t){t.io.forEach(e=>{e.next()})}class Ow{constructor(e,n,r){this.query=e,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.co?this.ho(e)&&(this.ao.next(e),n=!0):this.lo(e,this.onlineState)&&(this.fo(e),n=!0),this.uo=e,n}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let n=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),n=!0),n}lo(e,n){return!e.fromCache||!(this.options.wo&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class yM{constructor(e){this.key=e}}class _M{constructor(e){this.key=e}}class vM{constructor(e,n){this.query=e,this.To=n,this.Eo=null,this.current=!1,this.Io=be(),this.mutatedKeys=be(),this.Ao=zN(e),this.Ro=new Ja(this.Ao)}get Po(){return this.To}bo(e,n){const r=n?n.vo:new pM,i=n?n.Ro:this.Ro;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=wf(this.query)&&i.size===this.query.limit?i.last():null,c=Ef(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=nl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),_=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==_&&(r.track({type:3,doc:f}),y=!0):this.Vo(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Ao(f,u)>0||c&&this.Ao(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),wf(this.query)||Ef(this.query))for(;o.size>this.query.limit;){const l=wf(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:a,mutatedKeys:s}}Vo(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const s=e.vo.no();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return f(d)-f(h)}(c.type,l.type)||this.Ao(c.doc,l.doc)),this.So(r);const o=n?this.Do():[],a=0===this.Io.size&&this.current?1:0,u=a!==this.Eo;return this.Eo=a,0!==s.length||u?{snapshot:new Xa(this.query,e.Ro,i,s,e.mutatedKeys,0===a,u,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new pM,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(n=>this.To=this.To.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.To=this.To.delete(n)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=be(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const n=[];return e.forEach(r=>{this.Io.has(r)||n.push(new _M(r))}),this.Io.forEach(r=>{e.has(r)||n.push(new yM(r))}),n}ko(e){this.To=e.zn,this.Io=be();const n=this.bo(e.documents);return this.applyChanges(n,!0)}xo(){return Xa.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class iK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sK{constructor(e){this.key=e,this.$o=!1}}class oK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new qa(a=>WN(a),tl),this.Mo=new Map,this.Lo=new Set,this.Bo=new lt(V.comparator),this.Uo=new Map,this.qo=new ow,this.Ko={},this.jo=new Map,this.Qo=no.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function aK(t,e){return Fw.apply(this,arguments)}function Fw(){return Fw=v(function*(t,e){const n=sE(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const o=yield Ga(n.localStore,Zn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Lw(n,e,r,"current"===a),n.isPrimaryClient&&Vf(n.remoteStore,o)}return i}),Fw.apply(this,arguments)}function Lw(t,e,n,r){return Vw.apply(this,arguments)}function Vw(){return Vw=v(function*(t,e,n,r){t.Go=(l,d,h)=>{return(f=v(function*(p,_,y,w){let E=_.view.bo(y);E.Bn&&(E=yield Pf(p.localStore,_.query,!1).then(({documents:U})=>_.view.bo(U,E)));const A=w&&w.targetChanges.get(_.targetId),R=_.view.applyChanges(E,p.isPrimaryClient,A);return Kw(p,_.targetId,R.Co),R.snapshot}),function(p,_,y,w){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield Pf(t.localStore,e,!0),s=new vM(e,i.zn),o=s.bo(i.documents),a=al.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);Kw(t,n,u.Co);const c=new iK(e,n,s);return t.Oo.set(e,c),t.Mo.has(n)?t.Mo.get(n).push(e):t.Mo.set(n,[e]),u.snapshot}),Vw.apply(this,arguments)}function uK(t,e){return Uw.apply(this,arguments)}function Uw(){return Uw=v(function*(t,e){const n=k(t),r=n.Oo.get(e),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter(s=>!tl(s,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Wa(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),yl(n.remoteStore,r.targetId),Za(n,r.targetId)}).catch(ro))):(Za(n,r.targetId),yield Wa(n.localStore,r.targetId,!0))}),Uw.apply(this,arguments)}function jw(){return jw=v(function*(t,e,n){const r=oE(t);try{const i=yield function(s,o){const a=k(s),u=Mt.now(),c=o.reduce((d,h)=>d.add(h.key),be());let l;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.Wn.vn(d,c).next(h=>{l=h;const f=[];for(const p of o){const _=k7(p,l.get(p.key));null!=_&&f.push(new zi(p.key,_,UN(_.value.mapValue),it.exists(!0)))}return a.An.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(l),{batchId:d.batchId,changes:l}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Ko[s.currentUser.toKey()];u||(u=new lt(le)),u=u.insert(o,a),s.Ko[s.currentUser.toKey()]=u}(r,i.batchId,n),yield yi(r,i.changes),yield Ka(r.remoteStore)}catch(i){const s=Ya(i,"Failed to persist write");n.reject(s)}}),jw.apply(this,arguments)}function wM(t,e){return Bw.apply(this,arguments)}function Bw(){return Bw=v(function*(t,e){const n=k(t);try{const r=yield Iz(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Uo.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.$o=!0:i.modifiedDocuments.size>0?G(o.$o):i.removedDocuments.size>0&&(G(o.$o),o.$o=!1))}),yield yi(n,r,e)}catch(r){yield ro(r)}}),Bw.apply(this,arguments)}function EM(t,e,n){const r=k(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.Oo.forEach((s,o)=>{const a=o.view.ro(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=k(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.ro(o)&&(u=!0)}),u&&Pw(a)}(r.eventManager,e),i.length&&r.Fo.Pr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lK(t,e,n){return Hw.apply(this,arguments)}function Hw(){return Hw=v(function*(t,e,n){const r=k(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Uo.get(e),s=i&&i.key;if(s){let o=new lt(V.comparator);o=o.insert(s,Me.newNoDocument(s,ne.min()));const a=be().add(s),u=new ol(ne.min(),new Map,new $e(le),o,a);yield wM(r,u),r.Bo=r.Bo.remove(s),r.Uo.delete(e),Qw(r)}else yield Wa(r.localStore,e,!1).then(()=>Za(r,e,n)).catch(ro)}),Hw.apply(this,arguments)}function dK(t,e){return $w.apply(this,arguments)}function $w(){return $w=v(function*(t,e){const n=k(t),r=e.batch.batchId;try{const i=yield Ez(n.localStore,e);zw(n,r,null),Ww(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield yi(n,i)}catch(i){yield ro(i)}}),$w.apply(this,arguments)}function hK(t,e,n){return qw.apply(this,arguments)}function qw(){return qw=v(function*(t,e,n){const r=k(t);try{const i=yield function(s,o){const a=k(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.An.lookupMutationBatch(u,o).next(l=>(G(null!==l),c=l.keys(),a.An.removeMutationBatch(u,l))).next(()=>a.An.performConsistencyCheck(u)).next(()=>a.Wn.vn(u,c))})}(r.localStore,e);zw(r,e,n),Ww(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield yi(r,i)}catch(i){yield ro(i)}}),qw.apply(this,arguments)}function Ww(t,e){(t.jo.get(e)||[]).forEach(n=>{n.resolve()}),t.jo.delete(e)}function zw(t,e,n){const r=k(t);let i=r.Ko[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function Za(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Mo.get(e))t.Oo.delete(r),n&&t.Fo.zo(r,n);t.Mo.delete(e),t.isPrimaryClient&&t.qo.us(e).forEach(r=>{t.qo.containsKey(r)||IM(t,r)})}function IM(t,e){t.Lo.delete(e.path.canonicalString());const n=t.Bo.get(e);null!==n&&(yl(t.remoteStore,n),t.Bo=t.Bo.remove(e),t.Uo.delete(n),Qw(t))}function Kw(t,e,n){for(const r of n)r instanceof yM?(t.qo.addReference(r.key,e),pK(t,r)):r instanceof _M?(x("SyncEngine","Document no longer in limbo: "+r.key),t.qo.removeReference(r.key,e),t.qo.containsKey(r.key)||IM(t,r.key)):j()}function pK(t,e){const n=e.key,r=n.path.canonicalString();t.Bo.get(n)||t.Lo.has(r)||(x("SyncEngine","New document in limbo: "+n),t.Lo.add(r),Qw(t))}function Qw(t){for(;t.Lo.size>0&&t.Bo.size<t.maxConcurrentLimboResolutions;){const e=t.Lo.values().next().value;t.Lo.delete(e);const n=new V(_e.fromString(e)),r=t.Qo.next();t.Uo.set(r,new sK(n)),t.Bo=t.Bo.insert(n,r),Vf(t.remoteStore,new Qi(Zn(Na(n.path)),r,2,On.I))}}function yi(t,e,n){return Yw.apply(this,arguments)}function Yw(){return Yw=v(function*(t,e,n){const r=k(t),i=[],s=[],o=[];var a;r.Oo.isEmpty()||(r.Oo.forEach((a,u)=>{o.push(r.Go(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=ew.$n(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Fo.Pr(i),yield(a=v(function*(u,c){const l=k(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>C.forEach(c,h=>C.forEach(h.kn,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>C.forEach(h.xn,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!eo(d))throw d;x("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qn.get(h),_=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qn=l.qn.insert(h,_)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),Yw.apply(this,arguments)}function gK(t,e){return Jw.apply(this,arguments)}function Jw(){return Jw=v(function*(t,e){const n=k(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());const r=yield Xk(n.localStore,e);n.currentUser=e,(i=n).jo.forEach(o=>{o.forEach(a=>{a.reject(new S(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield yi(n,r.Gn)}var i}),Jw.apply(this,arguments)}function mK(t,e){const n=k(t),r=n.Uo.get(e);if(r&&r.$o)return be().add(r.key);{let i=be();const s=n.Mo.get(e);if(!s)return i;for(const o of s){const a=n.Oo.get(o);i=i.unionWith(a.view.Po)}return i}}function sE(t){const e=k(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lK.bind(null,e),e.Fo.Pr=eK.bind(null,e.eventManager),e.Fo.zo=tK.bind(null,e.eventManager),e}function oE(t){const e=k(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hK.bind(null,e),e}class DK{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.k=gl(e.databaseInfo.databaseId),n.sharedClientState=n.Jo(e),n.persistence=n.Yo(e),yield n.persistence.start(),n.gcScheduler=n.Xo(e),n.localStore=n.Zo(e)})()}Xo(e){return null}Zo(e){return function(t,e,n,r){return new wz(t,e,n,r)}(this.persistence,new Yk,e.initialUser,this.k)}Yo(e){return new kz(aw.ks,this.k)}Jo(e){return new sM}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class aE{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>EM(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=gK.bind(null,r.syncEngine),yield function(t,e){return Aw.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zz}createDatastore(e){const n=gl(e.databaseInfo.databaseId),r=new Lz(e.databaseInfo);return new jz(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>EM(this.syncEngine,a,0),o=oM.bt()?new oM:new Pz,new Hz(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new oK(r,i,s,o,a,u);return c&&(l.Wo=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=v(function*(n){const r=k(n);x("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield za(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class jf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class NK{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=RN.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){x("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ya(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function TM(t,e){return uE.apply(this,arguments)}function uE(){return uE=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(s){r.isEqual(s)||(yield Xk(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),uE.apply(this,arguments)}function SM(t,e){return cE.apply(this,arguments)}function cE(){return cE=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield lE(t);x("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>{return(s=v(function*(o,a){const u=k(o);u.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const c=Zi(u);u.Gr.add(3),yield za(u),c&&u.Jr.set("Unknown"),yield u.remoteSyncer.handleCredentialChange(a),u.Gr.delete(3),yield ml(u)}),function(o,a){return s.apply(this,arguments)})(e.remoteStore,i);var s}),t.onlineComponents=e}),cE.apply(this,arguments)}function lE(t){return dE.apply(this,arguments)}function dE(){return dE=v(function*(t){return t.offlineComponents||(x("FirestoreClient","Using default OfflineComponentProvider"),yield TM(t,new DK)),t.offlineComponents}),dE.apply(this,arguments)}function Bf(t){return hE.apply(this,arguments)}function hE(){return hE=v(function*(t){return t.onlineComponents||(x("FirestoreClient","Using default OnlineComponentProvider"),yield SM(t,new aE)),t.onlineComponents}),hE.apply(this,arguments)}function gE(){return gE=v(function*(t){const e=yield Bf(t),n=e.eventManager;return n.onListen=aK.bind(null,e.syncEngine),n.onUnlisten=uK.bind(null,e.syncEngine),n}),gE.apply(this,arguments)}function RM(t,e,n={}){const r=new wt;return t.asyncQueue.enqueueAndForget(v(function*(){return function(i,s,o,a,u){const c=new jf({next:d=>{s.enqueueAndForget(()=>function(t,e){return Mw.apply(this,arguments)}(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new S(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new S(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new Ow(Na(o.path),c,{includeMetadataChanges:!0,wo:!0});return function(t,e){return Nw.apply(this,arguments)}(i,l)}(yield function(t){return gE.apply(this,arguments)}(t),t.asyncQueue,e,n,r)})),r.promise}class jK{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class _l{constructor(e,n){this.projectId=e,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _l&&e.projectId===this.projectId&&e.database===this.database}}const kM=new Map;function mE(t,e,n){if(!n)throw new S(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MM(t){if(!V.isDocumentKey(t))throw new S(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":j()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hf(t);throw new S(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class FM{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new S(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new S(I.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FM({}),this._settingsFrozen=!1,e instanceof _l?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new S(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _l(i.options.projectId)}(e))}get app(){if(!this._app)throw new S(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FM(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new o7;switch(n.type){case"gapi":const r=n.client;return G(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new l7(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new S(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kM.get(e);n&&(x("ComponentProvider","Removing Datastore"),kM.delete(e),n.terminate())}(this),Promise.resolve()}}class Qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qe(this.firestore,e,this._key)}}class Qt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qt(this.firestore,e,this._query)}}class Br extends Qt{constructor(e,n,r){super(e,n,Na(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new V(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function ts(t,e,...n){if(t=gn(t),1===arguments.length&&(e=RN.A()),mE("doc","path",e),t instanceof vl){const r=_e.fromString(e,...n);return MM(r),new Qe(t,null,new V(r))}{if(!(t instanceof Qe||t instanceof Br))throw new S(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return MM(r),new Qe(t.firestore,t instanceof Br?t.converter:null,new V(r))}}class $K{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new hw(this,"async_queue_retry"),this.Ra=()=>{const n=Lf();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const e=Lf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const n=Lf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const n=new wt;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return v(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(n){if(!eo(n))throw n;x("AsyncQueue","Operation failed with retryable error: "+n)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const n=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,nt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=n,n}enqueueAfterDelay(e,n,r){this.Pa(),this.Aa.indexOf(e)>-1&&(n=0);const i=xw.createAndSchedule(this,e,n,r,s=>this.Va(s));return this.pa.push(i),i}Pa(){this.Ta&&j()}verifyOperationInProgress(){}Sa(){var e=this;return v(function*(){let n;do{n=e.ma,yield n}while(n!==e.ma)})()}Da(e){for(const n of this.pa)if(n.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.pa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const n=this.pa.indexOf(e);this.pa.splice(n,1)}}class Le extends vl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new $K,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||LM(this),this._firestoreClient.terminate()}}function Ct(t){return t._firestoreClient||LM(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LM(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new jK(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new NK(t._authCredentials,t._appCheckCredentials,t._queue,r)}class tu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(Et.fromBase64String(e))}catch(n){throw new S(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _E{constructor(e){this._methodName=e}}class vE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}const WK=/^__.*__$/;class zK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new il(e,this.data,n,this.fieldTransforms)}}class jM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class $f{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ka(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new $f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$a({path:r,Oa:!1});return i.Ma(e),i}La(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.$a({path:r,Oa:!1});return i.ka(),i}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return qf(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(BM(this.xa)&&WK.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class KK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.k=r||gl(e)}ja(e,n,r,i=!1){return new $f({xa:e,methodName:n,Ka:r,path:Wt.emptyPath(),Oa:!1,qa:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function nu(t){const e=t._freezeSettings(),n=gl(t._databaseId);return new KK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wE(t,e,n,r,i,s={}){const o=t.ja(s.merge||s.mergeFields?2:0,e,n,i);IE("Data must be an object, but it was:",o,r);const a=WM(r,o);let u,c;if(s.merge)u=new Sa(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=bE(e,d,n);if(!o.contains(h))throw new S(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);KM(l,h)||l.push(h)}u=new Sa(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new zK(new zt(a),u,c)}class wl extends _E{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wl}}function so(t,e){if(zM(t=gn(t)))return IE("Unsupported field value:",e,t),WM(t,e);if(t instanceof _E)return function(n,r){if(!BM(r.xa))throw r.Ua(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=so(o,r.Ba(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=gn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return YN(r.k,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Mt.fromDate(n);return{timestampValue:ul(r.k,i)}}if(n instanceof Mt){const i=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ul(r.k,i)}}if(n instanceof vE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof io)return{bytesValue:mk(r.k,n._byteString)};if(n instanceof Qe){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.Ua(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Ua(`Unsupported field value: ${Hf(n)}`)}(t,e)}function WM(t,e){const n={};return MN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{const s=so(i,e.Fa(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function zM(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof vE||t instanceof io||t instanceof Qe||t instanceof _E)}function IE(t,e,n){if(!zM(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Hf(n);throw e.Ua("an object"===r?t+" a custom object":t+" "+r)}var r}function bE(t,e,n){if((e=gn(e))instanceof tu)return e._internalPath;if("string"==typeof e)return CE(t,e);throw qf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const XK=new RegExp("[~\\*/\\[\\]]");function CE(t,e,n){if(e.search(XK)>=0)throw qf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tu(...e.split("."))._internalPath}catch(r){throw qf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(I.INVALID_ARGUMENT,a+t+u)}function KM(t,e){return t.some(n=>n.isEqual(e))}class DE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ZK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ZK extends DE{data(){return super.data()}}function Gf(t,e){return"string"==typeof e?CE(t,e):e instanceof tu?e._internalPath:e._delegate._internalPath}class oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ru extends DE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Wf extends ru{data(e={}){return super.data(e)}}function su(t){t=ge(t,Qe);const e=ge(t.firestore,Le);return RM(Ct(e),t._key).then(n=>function(t,e,n){const r=n.docs.get(e._key),i=new ao(t);return new ru(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class ao extends class{convertValue(e,n="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw j()}}convertObject(e,n){const r={};return Ks(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new vE(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=PN(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);G(xk(r));const i=new _l(r.get(1),r.get(3)),s=new V(r.popFirst(5));return i.isEqual(n)||nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}function rP(t,e,n,...r){t=ge(t,Qe);const i=ge(t.firestore,Le),s=nu(i);let o;return o="string"==typeof(e=gn(e))||e instanceof tu?function(t,e,n,r,i,s){const o=t.ja(1,e,n),a=[bE(e,r,n)],u=[i];if(s.length%2!=0)throw new S(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(bE(e,s[h])),u.push(s[h+1]);const c=[],l=zt.empty();for(let h=a.length-1;h>=0;--h)if(!KM(c,a[h])){const f=a[h];let p=u[h];p=gn(p);const _=o.La(f);if(p instanceof wl)c.push(f);else{const y=so(p,_);null!=y&&(c.push(f),l.set(f,y))}}const d=new Sa(c);return new jM(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function(t,e,n,r){const i=t.ja(1,e,n);IE("Data must be an object, but it was:",i,r);const s=[],o=zt.empty();Ks(r,(u,c)=>{const l=CE(e,u,n);c=gn(c);const d=i.La(l);if(c instanceof wl)s.push(l);else{const h=so(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Sa(s);return new jM(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),El(i,[o.toMutation(t._key,it.exists(!0))])}function El(t,e){return function(n,r){const i=new wt;return n.asyncQueue.enqueueAndForget(v(function*(){return function(t,e,n){return jw.apply(this,arguments)}(yield function(t){return Bf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(Ct(t),e)}function uo(t){var e,n,r,i=z(t+"_input"),s=document.getElementById(t+"_icon"),o=document.getElementById(t+"_help");let a=null;a=null==z("password_input")?"":new RegExp(z("password_input").value);var u={email:{message:"must be a valid email",pattern:/\S+@\S+\.\S+/},password:{message:"must be at least 8 characters long",pattern:/.{8,}/},nickname:{message:"must be a non-spaced phrase",pattern:/^\S+/},confirm_password:{message:"must match the password above",pattern:a}};return null!=i&&null!=s&&null!=o?""==String(i.value)?(i.classList.remove("is-danger"),i.classList.remove("is-success"),s.classList.remove("fa-exclamation-triangle"),s.classList.remove("fa-check"),o.innerHTML="",null===(e=i.parentElement)||void 0===e||e.classList.remove("has-icons-right"),!1):String(i.value.match(u[t].pattern))==i.value?(null===(n=i.parentElement)||void 0===n||n.classList.add("has-icons-right"),i.classList.add("is-success"),i.classList.remove("is-danger"),s.classList.add("fa-check"),s.classList.remove("fa-exclamation-triangle"),o.innerHTML="",!0):(null===(r=i.parentElement)||void 0===r||r.classList.add("has-icons-right"),i.classList.remove("is-success"),i.classList.add("is-danger"),s.classList.remove("fa-check"),s.classList.add("fa-exclamation-triangle"),o.innerHTML=u[t].message,!1):(window.alert("something gone wrong :("),!1)}function Il(){var t=window.sessionStorage.getItem("log");("true"==t&&["#/login","#/register"].includes(location.hash)||"false"==t&&["#/profile","#/test"].includes(location.hash))&&("#/test"==location.hash?location.hash="#/login":location.hash="#/")}function z(t){return document.getElementById(t)}function tr(t,e=0){return document.getElementsByName(t)[e]}function Kf(t,e=0){return document.getElementsByClassName(t)[e]}function ou(t){return new Promise(e=>setTimeout(e,t))}!function(t,e=!0){Da=Hs,Bs(new Vs("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Le(i,new u7(n.getProvider("auth-internal")),new d7(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Lr(SN,"3.4.0",t),Lr(SN,"3.4.0","esm2017")}();class a9{constructor(e,n){this._delegate=e,this.firebase=n,Uh(e,new Vs("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),cR(this._delegate)))}_getService(e,n=js){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&"EXPLICIT"===(null===(r=i.getComponent())||void 0===r?void 0:r.instantiationMode)&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=js){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Uh(this._delegate,e)}_addOrOverwriteComponent(e){aR(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const iP=new Ls("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),l9=function sP(){const t=function(t){const e={},n={__esModule:!0,initializeApp:function(c,l={}){const d=uR(c,l);if(nR(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h},app:i,registerVersion:Lr,setLogLevel:dR,onLog:lR,apps:null,SDK_VERSION:Hs,INTERNAL:{registerComponent:function(c){const l=c.name,d=l.replace("-compat","");if(Bs(c)&&"PUBLIC"===c.type){const h=(f=i())=>{if("function"!=typeof f[d])throw iP.create("invalid-app-argument",{appName:l});return f[d]()};void 0!==c.serviceProps&&Dc(h,c.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,l).apply(this,c.multipleInstances?f:[])}}return"PUBLIC"===c.type?n[d]:null},removeApp:function(c){delete e[c]},useAsService:function(c,l){return"serverAuth"===l?null:l},modularAPIs:gu}};function i(c){if(!nR(e,c=c||js))throw iP.create("no-app",{appName:c});return e[c]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(c=>e[c])}}),i.App=t,n}(a9);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:sP,extendNamespace:function(n){Dc(t,n)},createSubscribe:iR,ErrorFactory:Ls,deepExtend:Dc}),t}(),oP=new Vh("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){oP.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&oP.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const aP=l9;function cP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Lr("@firebase/app-compat","0.1.11",void 0),aP.registerVersion("firebase","9.6.0","app-compat");const _9=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fP=new Ls("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pP=new Vh("@firebase/auth");function Yf(t,...e){pP.logLevel<=pe.ERROR&&pP.error(`Auth (${Hs}): ${t}`,...e)}function vn(t,...e){throw xE(t,...e)}function Hr(t,...e){return xE(t,...e)}function gP(t,e,n){const r=Object.assign(Object.assign({},_9()),{[e]:n});return new Ls("auth","Firebase",r).create(e,{appName:t.name})}function xE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fP.create(t,...e)}function N(t,e,...n){if(!t)throw xE(e,...n)}function $r(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function ns(t,e){t||$r(e)}const mP=new Map;function _i(t){ns(t instanceof Function,"Expected a class definition");let e=mP.get(t);return e?(ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mP.set(t,e),e)}function bl(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function yP(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=Jx()||Zx()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===yP()||"https:"===yP()||Xx()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function NE(t,e){ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class kE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void $r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void $r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void $r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const b9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},C9=new Cl(3e4,6e4);function dt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Dt(t,e,n,r){return ME.apply(this,arguments)}function ME(){return ME=v(function*(t,e,n,r,i={}){return _P(t,i,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Lh(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(kE.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),kE.fetch()(vP(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}),ME.apply(this,arguments)}function _P(t,e,n){return PE.apply(this,arguments)}function PE(){return PE=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},b9),e);try{const i=new D9(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Jf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Jf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Jf(t,"email-already-in-use",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gP(t,l,c);vn(t,l)}}catch(i){if(i instanceof Fs)throw i;vn(t,"network-request-failed")}}),PE.apply(this,arguments)}function vi(t,e,n,r){return OE.apply(this,arguments)}function OE(){return OE=v(function*(t,e,n,r,i={}){const s=yield Dt(t,e,n,r,i);return"mfaPendingCredential"in s&&vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}),OE.apply(this,arguments)}function vP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?NE(t.config,i):`${t.config.apiScheme}://${i}`}class D9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"timeout")),C9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function FE(){return FE=v(function*(t,e){return Dt(t,"POST","/v1/accounts:delete",e)}),FE.apply(this,arguments)}function A9(t,e){return VE.apply(this,arguments)}function VE(){return VE=v(function*(t,e){return Dt(t,"POST","/v1/accounts:lookup",e)}),VE.apply(this,arguments)}function Dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function UE(){return UE=v(function*(t,e=!1){const n=gn(t),r=yield n.getIdToken(e),i=Xf(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dl(jE(i.auth_time)),issuedAtTime:Dl(jE(i.iat)),expirationTime:Dl(jE(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),UE.apply(this,arguments)}function jE(t){return 1e3*Number(t)}function Xf(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return Qx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(Yf("Failed to decode base64 JWT payload"),null)}catch(i){return Yf("Caught error parsing JWT payload as JSON",i),null}}function wi(t,e){return BE.apply(this,arguments)}function BE(){return BE=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Fs&&N9(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),BE.apply(this,arguments)}function N9({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class k9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class wP{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tl(t){return HE.apply(this,arguments)}function HE(){return HE=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield wi(t,A9(n,{idToken:r}));N(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?O9(s.providerUserInfo):[],a=P9(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wP(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),HE.apply(this,arguments)}function $E(){return $E=v(function*(t){const e=gn(t);yield Tl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),$E.apply(this,arguments)}function P9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function O9(t){return t.map(e=>{var{providerId:n}=e,r=cP(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qE(){return qE=v(function*(t,e){const n=yield _P(t,{},()=>{const r=Lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=vP(t,i,"/v1/token",`key=${s}`);return kE.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),qE.apply(this,arguments)}class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(void 0!==e.idToken,"internal-error"),N(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=Xf(t);return N(e,"internal-error"),N(void 0!==e.exp,"internal-error"),N(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return N(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return qE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Sl;return r&&(N("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(N("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(N("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return $r("not implemented")}}function rs(t,e){N("string"==typeof t||void 0===t,"internal-error",{appName:e})}class co{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new k9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new wP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield wi(n,n.stsTokenManager.getToken(n.auth,e));return N(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return UE.apply(this,arguments)}(this,e)}reload(){return function(t){return $E.apply(this,arguments)}(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new co(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Tl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield wi(e,function(t,e){return FE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,_=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:A,emailVerified:R,isAnonymous:U,providerData:me,stsTokenManager:Ge}=n;N(A&&Ge,e,"internal-error");const Cr=Sl.fromJSON(this.name,Ge);N("string"==typeof A,e,"internal-error"),rs(d,e.name),rs(h,e.name),N("boolean"==typeof R,e,"internal-error"),N("boolean"==typeof U,e,"internal-error"),rs(f,e.name),rs(p,e.name),rs(_,e.name),rs(y,e.name),rs(w,e.name),rs(E,e.name);const En=new co({uid:A,auth:e,email:h,emailVerified:R,displayName:d,isAnonymous:U,photoURL:p,phoneNumber:f,tenantId:_,stsTokenManager:Cr,createdAt:w,lastLoginAt:E});return me&&Array.isArray(me)&&(En.providerData=me.map(Un=>Object.assign({},Un))),y&&(En._redirectEventId=y),En}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Sl;i.updateFromServerResponse(n);const s=new co({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Tl(s),s})()}}const EP=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Zf(t,e,n){return`firebase:${t}:${e}:${n}`}class uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?co._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new uu(_i(EP),e,r);const i=(yield Promise.all(n.map(function(){var c=v(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||_i(EP);const o=Zf(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=co._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=v(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new uu(s,e,r)):new uu(s,e,r)})()}}function IP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SP(e))return"Blackberry";if(AP(e))return"Webos";if(GE(e))return"Safari";if((e.includes("chrome/")||CP(e))&&!e.includes("edge/"))return"Chrome";if(TP(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function bP(t=_t()){return/firefox\//i.test(t)}function GE(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CP(t=_t()){return/crios\//i.test(t)}function DP(t=_t()){return/iemobile/i.test(t)}function TP(t=_t()){return/android/i.test(t)}function SP(t=_t()){return/blackberry/i.test(t)}function AP(t=_t()){return/webos/i.test(t)}function ep(t=_t()){return/iphone|ipad|ipod/i.test(t)}function xP(t=_t()){return ep(t)||TP(t)||AP(t)||SP(t)||/windows phone/i.test(t)||DP(t)}function RP(t,e=[]){let n;switch(t){case"Browser":n=IP(_t());break;case"Worker":n=`${IP(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hs}/${r}`}class j9{constructor(e,n){this.app=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NP(this),this.idTokenSubscription=new NP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(v(function*(){var i,s;r._deleted||(r.persistenceManager=yield uu.create(r,e),!r._deleted&&((null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)&&(yield r._popupRedirectResolver._initialize(r)),yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;let i=yield n.assertedPersistence.getCurrentUser();if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const s=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,a=yield n.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(i=a.user)}return i?i._redirectEventId?(N(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)):n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield Tl(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?gn(e):null;return r&&N(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e){var n=this;return v(function*(){if(!n._deleted)return e&&N(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),n.queue(v(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(_i(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ls("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&_i(e)||n._popupRedirectResolver;N(r,n,"argument-error"),n.redirectPersistenceManager=yield uu.create(n,[_i(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return N(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function wn(t){return gn(t)}class NP{constructor(e){this.auth=e,this.observer=null,this.addObserver=iR(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class PP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}function zE(){return zE=v(function*(t,e){return Dt(t,"POST","/v1/accounts:update",e)}),zE.apply(this,arguments)}function QE(){return QE=v(function*(t,e){return vi(t,"POST","/v1/accounts:signInWithPassword",dt(t,e))}),QE.apply(this,arguments)}function tI(){return tI=v(function*(t,e){return vi(t,"POST","/v1/accounts:signInWithEmailLink",dt(t,e))}),tI.apply(this,arguments)}function nI(){return nI=v(function*(t,e){return vi(t,"POST","/v1/accounts:signInWithEmailLink",dt(t,e))}),nI.apply(this,arguments)}class Al extends PP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Al(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Al(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){switch(n.signInMethod){case"password":return function(t,e){return QE.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return tI.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:vn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return function(t,e){return zE.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(t,e){return nI.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:vn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ei(t,e){return rI.apply(this,arguments)}function rI(){return rI=v(function*(t,e){return vi(t,"POST","/v1/accounts:signInWithIdp",dt(t,e))}),rI.apply(this,arguments)}class Nl{constructor(e){var n,r,i,s,o,a;const u=Tc(Sc(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);N(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function(t){const e=Tc(Sc(t)).link,n=e?Tc(Sc(e)).deep_link_id:null,r=Tc(Sc(t)).deep_link_id;return(r?Tc(Sc(r)).link:null)||r||n||e||t}(e);try{return new Nl(n)}catch(r){return null}}}let LP=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Al._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Nl.parseLink(r);return N(i,"argument-error"),Al._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class is{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sQ extends is{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function VP(t,e){return cI.apply(this,arguments)}function cI(){return cI=v(function*(t,e){return vi(t,"POST","/v1/accounts:signUp",dt(t,e))}),cI.apply(this,arguments)}class nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield co._fromIdTokenResponse(e,r,i),o=UP(r);return new nr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=UP(r);return new nr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function UP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rp extends Fs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rp(e,n,r,i)}}function jP(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?rp._fromErrorAndOperation(t,s,e,r):s})}function hI(t,e){return fI.apply(this,arguments)}function fI(){return fI=v(function*(t,e,n=!1){const r=yield wi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return nr._forOperation(t,"link",r)}),fI.apply(this,arguments)}function gI(){return gI=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield wi(t,jP(r,i,e,t),n);N(s.idToken,r,"internal-error");const o=Xf(s.idToken);N(o,r,"internal-error");const{sub:a}=o;return N(t.uid===a,r,"user-mismatch"),nr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&vn(r,"user-mismatch"),s}}),gI.apply(this,arguments)}function $P(t,e){return mI.apply(this,arguments)}function mI(){return mI=v(function*(t,e,n=!1){const r="signIn",i=yield jP(t,r,e),s=yield nr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),mI.apply(this,arguments)}function _I(){return _I=v(function*(t,e){return $P(wn(t),e)}),_I.apply(this,arguments)}function RI(){return RI=v(function*(t,e,n){const r=wn(t),i=yield VP(r,{returnSecureToken:!0,email:e,password:n}),s=yield nr._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),RI.apply(this,arguments)}function BI(t,e){return gn(t).setPersistence(e)}new WeakMap;const op="__sak";class GP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(op,"1"),this.storage.removeItem(op),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WP=(()=>{class t extends GP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=_t();return GE(t)||ep(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=xP(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);eR()&&10===document.documentMode&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,10):s()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),ap=(()=>{class t extends GP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let xQ=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!(null==u?void 0:u.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=v(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function WI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class RQ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=WI("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ht(){return window}function zI(){return void 0!==ht().WorkerGlobalScope&&"function"==typeof ht().importScripts}function KI(){return(KI=v(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const zP="firebaseLocalStorageDb",up="firebaseLocalStorage",KP="fbase_key";class Ml{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cp(t,e){return t.transaction([up],e?"readwrite":"readonly").objectStore(up)}function QI(){const t=indexedDB.open(zP,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(up,{keyPath:KP})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(up)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase(zP);return new Ml(t).toPromise()}(),e(yield QI()))}))})}function QP(t,e,n){return YI.apply(this,arguments)}function YI(){return YI=v(function*(t,e,n){const r=cp(t,!0).put({[KP]:e,value:n});return new Ml(r).toPromise()}),YI.apply(this,arguments)}function JI(){return JI=v(function*(t,e){const n=cp(t,!1).get(e),r=yield new Ml(n).toPromise();return void 0===r?null:r.value}),JI.apply(this,arguments)}function YP(t,e){const n=cp(t,!0).delete(e);return new Ml(n).toPromise()}const jQ=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield QI()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return zI()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=xQ._getInstance(zI()?self:null),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function(){return KI.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new RQ(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield QI();return yield QP(n,op,"1"),yield YP(n,op),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>QP(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function(t,e){return JI.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>YP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=cp(o,!1).getAll();return new Ml(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function XP(t){return`__${t}${Math.floor(1e6*Math.random())}`}function ho(t,e){return e?_i(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}XP("rcb"),new Cl(3e4,6e4);class ab extends PP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ei(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ei(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rY(t){return $P(t.auth,new ab(t),t.bypassAuthState)}function iY(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),function(t,e){return gI.apply(this,arguments)}(n,new ab(t),t.bypassAuthState)}function sY(t){return ub.apply(this,arguments)}function ub(){return ub=v(function*(t){const{auth:e,user:n}=t;return N(n,e,"internal-error"),hI(n,new ab(t),t.bypassAuthState)}),ub.apply(this,arguments)}new Cl(2e3,1e4);const dp=new Map;class uY extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rY;case"linkViaPopup":case"linkViaRedirect":return sY;case"reauthViaPopup":case"reauthViaRedirect":return iY;default:vn(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=dp.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return fb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}dp.set(n.auth._key(),r)}return n.bypassAuthState||dp.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function fb(){return fb=v(function*(t,e){const n=tO(e),r=eO(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),fb.apply(this,arguments)}function eO(t){return _i(t._redirectPersistence)}function tO(t){return Zf("pendingRedirect",t.config.apiKey,t.name)}function nO(t,e){return wb.apply(this,arguments)}function wb(){return wb=v(function*(t,e,n=!1){const r=wn(t),i=ho(r,e),o=yield new uY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),wb.apply(this,arguments)}class pY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sO(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sO(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(iO(e))}saveEventToCache(e){this.cachedEventUids.add(iO(e)),this.lastProcessedEventTime=Date.now()}}function iO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sO({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function mY(t){return Ib.apply(this,arguments)}function Ib(){return Ib=v(function*(t,e={}){return Dt(t,"GET","/v1/projects",e)}),Ib.apply(this,arguments)}const yY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_Y=/^https?/;function bb(){return bb=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield mY(t);for(const n of e)try{if(wY(n))return}catch(r){}vn(t,"unauthorized-domain")}),bb.apply(this,arguments)}function wY(t){const e=bl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!_Y.test(n))return!1;if(yY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const EY=new Cl(3e4,6e4);function oO(){const t=ht().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let hp=null;function bY(t){return hp=hp||function(t){return new Promise((e,n)=>{var r,i,s;function o(){oO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oO(),n(Hr(t,"network-request-failed"))},timeout:EY.get()})}if(null===(i=null===(r=ht().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=ht().gapi)||void 0===s?void 0:s.load)){const a=XP("iframefcb");return ht()[a]=()=>{gapi.load?o():n(Hr(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`)}o()}}).catch(e=>{throw hp=null,e})}(t),hp}const CY=new Cl(5e3,15e3),SY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xY(t){const e=t.config;N(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?NE(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Hs},i=AY.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lh(r).slice(1)}`}function Cb(){return Cb=v(function*(t){const e=yield bY(t),n=ht().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:xY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SY,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Hr(t,"network-request-failed"),u=ht().setTimeout(()=>{o(a)},CY.get());function c(){ht().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Cb.apply(this,arguments)}const NY={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class aO{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function uO(t,e,n,r,i,s){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hs,eventId:i};if(e instanceof is){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof sQ){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function({config:t}){return t.emulator?NE(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Lh(a).slice(1)}`}const Db="webStorageSupport",HY=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ap,this._completeRedirectFn=nO}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;ns(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=uO(e,n,r,bl(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},NY),{width:r.toString(),height:i.toString(),top:s,left:o}),c=_t().toLowerCase();n&&(a=CP(c)?"_blank":n),bP(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=_t()){var e;return ep(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new aO(null);const d=window.open(e||"",a,l);N(d,t,"popup-blocked");try{d.focus()}catch(h){}return new aO(d)}(e,a,WI())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function(t){ht().location.href=t}(uO(e,n,r,bl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function(t){return Cb.apply(this,arguments)}(e),i=new pY(e);return r.register("authEvent",s=>(N(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Db,{type:Db},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[Db];void 0!==o&&n(!!o),vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return bb.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xP()||GE()||ep()}};var lO="@firebase/auth";class $Y{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function(t){Bs(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),{apiKey:i,authDomain:s}=r.options;return(o=>{N(i&&!i.includes(":"),"invalid-api-key",{appName:o.name}),N(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:i,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RP(t)},u=new j9(o,a);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bs(new Vs("auth-internal",e=>{const n=wn(e.getProvider("auth").getImmediate());return new $Y(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(lO,"0.19.3",void 0),Lr(lO,"0.19.3","esm2017")}("Browser"),aP.initializeApp({apiKey:"AIzaSyAgWGS7DJA48lwG9NtwkjmcM4lEIxf5I1o",authDomain:"strk-prdct.firebaseapp.com",projectId:"strk-prdct",storageBucket:"strk-prdct.appspot.com",messagingSenderId:"137726470492",appId:"1:137726470492:web:5a529ec6eb29ca4163b999",measurementId:"G-LSCMEGK2BT"});const Re={db:function(t=M_()){return xc(t,"firestore").getImmediate()}(),auth:function(t=M_()){const e=xc(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=xc(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Fh(n.getOptions(),null!=e?e:{}))return i;vn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:HY,persistence:[jQ,WP,ap]})}()};let fp=(()=>{class t{constructor(n){this.http=n,this.url="https://s7i18gqkx3.execute-api.us-east-1.amazonaws.com/beta",this.active=!1,this.classifyOne({gender:0,age:10,bmi:10,ever_married:0,work_type:0,Residence_type:0,smoking_status:0,hypertension:0,heart_disease:0,avg_glucose_level:50}).subscribe(i=>{this.active="NaN"!==i})}classifyOne(n){return this.http.post(this.url,JSON.stringify({Tests:[n]})).pipe(ye(i=>200==i.statusCode?i.body.replace("[","").replace("]",""):"NaN"))}classifyMany(n){return this.http.post(this.url,JSON.stringify({Tests:n})).pipe(ye(i=>{if(200==i.statusCode){let s=i.body;return s=s.replace("[","").replace("]",""),s.split(", ")}{let s=[];for(let o=0;o<n.length;o++)s.push("NaN");return s}}))}isActive(){return this.active}}return t.\u0275fac=function(n){return new(n||t)(F(Hx))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function QY(t,e){if(1&t){const n=Nm();g(0,"div"),g(1,"strong"),T(2,"And now you are logged in"),g(3,"span",1),Be("click",function(i){return ag(n),Pm().oneMore(i)}),T(4,"!"),m(),m(),b(5,"br"),m()}}let YY=(()=>{class t{constructor(n){this.Classify=n}ngOnInit(){}userLogin(){return"true"==window.sessionStorage.getItem("log")}oneMore(n){var r,i,s,o,a=n.target,u=document.createElement("strong");u.innerHTML="Did you just click on the exclamation mark?";var c=document.createElement("br");null===(i=null===(r=a.parentElement)||void 0===r?void 0:r.parentElement)||void 0===i||i.appendChild(c),null===(o=null===(s=a.parentElement)||void 0===s?void 0:s.parentElement)||void 0===o||o.appendChild(u),this.clasif()}clasif(){var n=this;return v(function*(){if("false"==window.sessionStorage.getItem("log"))return void console.log("log in first");for(;null==Re.auth.currentUser;)yield ou(200);const i=ts(Re.db,"users",Re.auth.currentUser.uid),s=yield su(i);if(s.exists()){var o=s.data().tests,a=[];for(let u in o)a.push(o[u]);n.Classify.classifyMany(a).subscribe(u=>{let c="all results:\n";for(let l in u)c+="\t\t\ttest "+l+" : "+u[l]+"%\n";console.log(c)})}})()}}return t.\u0275fac=function(n){return new(n||t)(L(fp))},t.\u0275cmp=We({type:t,selectors:[["app-logo-page"]],decls:3,vars:1,consts:[[4,"ngIf"],[3,"click"]],template:function(n,r){1&n&&(g(0,"p"),T(1,"It's just the logo, nothing particularly interesting"),m(),Ts(2,QY,6,0,"div",0)),2&n&&(Cs(2),Oi("ngIf",r.userLogin()))},directives:[i_],encapsulation:2}),t})();class br extends Wr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:JY}=Array,{getPrototypeOf:XY,prototype:ZY,keys:eJ}=Object;const{isArray:rJ}=Array;function aJ(...t){const e=yu(t),n=function(t){return Ve(Bp(t))?t.pop():void 0}(t),{args:r,keys:i}=function(t){if(1===t.length){const e=t[0];if(JY(e))return{args:e,keys:null};if(function(t){return t&&"object"==typeof t&&XY(t)===ZY}(e)){const n=eJ(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t);if(0===r.length)return At([],e);const s=new Pe(function(t,e,n=cs){return r=>{hO(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)hO(e,()=>{const c=At(t[u],e);let l=!1;c.subscribe(new St(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}(i,o):cs));return n?s.pipe(function(t){return ye(e=>function(t,e){return rJ(e)?t(...e):t(e)}(t,e))}(n)):s}function hO(t,e,n){t?Kr(n,t,e):e()}const pp=Np(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Tb(...t){return mu(1)(At(t,yu(t)))}function fO(t){return new Pe(e=>{zr(t()).subscribe(e)})}function pO(){return Tt((t,e)=>{let n=null;t._refCount++;const r=new St(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class lJ extends Pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jn;const n=this.getSubject();e.add(this.source.subscribe(new St(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jn.EMPTY)}return e}refCount(){return pO()(this)}}function fo(t,e){return Tt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(new St(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;zr(t(u,l)).subscribe(i=new St(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function hJ(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(new St(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function gO(t,e){return Tt(hJ(t,e,arguments.length>=2,!0))}function ss(t){return Tt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(new St(n,void 0,void 0,o=>{s=zr(t(o,ss(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Sb(t){return t<=0?()=>Qr:Tt((e,n)=>{let r=[];e.subscribe(new St(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function mO(t=fJ){return Tt((e,n)=>{let r=!1;e.subscribe(new St(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fJ(){return new pp}function yO(t){return Tt((e,n)=>{let r=!1;e.subscribe(new St(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function cu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Os((i,s)=>t(i,s,r)):cs,Jl(1),n?yO(e):mO(()=>new pp))}function Vn(t,e,n){const r=Ve(t)||e||n?{next:t,error:e,complete:n}:t;return r?Tt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(new St(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):cs}class Ii{constructor(e,n){this.id=e,this.url=n}}class Ab extends Ii{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pl extends Ii{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _O extends Ii{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mJ extends Ii{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yJ extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _J extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vJ extends Ii{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wJ extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EJ extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vO{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wO{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IJ{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bJ{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CJ{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DJ{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EO{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ae="primary";class TJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function lu(t){return new TJ(t)}const IO="ngNavigationCancelingError";function xb(t){const e=Error("NavigationCancelingError: "+t);return e[IO]=!0,e}function AJ(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!bO(t[i],e[i]))return!1;return!0}function bO(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function CO(t){return Array.prototype.concat.apply([],t)}function DO(t){return t.length>0?t[t.length-1]:null}function Ft(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Gr(t){return km(t)?t:Bd(t)?At(Promise.resolve(t)):te(t)}const NJ={exact:function AO(t,e,n){if(!go(t.segments,e.segments)||!gp(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!AO(t.children[r],e.children[r],n))return!1;return!0},subset:xO},TO={exact:function(t,e){return qr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bO(t[n],e[n]))},ignored:()=>!0};function SO(t,e,n){return NJ[n.paths](t.root,e.root,n.matrixParams)&&TO[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function xO(t,e,n){return RO(t,e,e.segments,n)}function RO(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!go(i,n)||e.hasChildren()||!gp(i,n,r))}if(t.segments.length===n.length){if(!go(t.segments,n)||!gp(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!xO(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(go(t.segments,i)&&gp(t.segments,i,r)&&t.children[ae])&&RO(t.children[ae],e,s,r)}}function gp(t,e,n){return e.every((r,i)=>TO[n](t[i].parameters,r.parameters))}class po{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return FJ.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ft(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mp(this)}}class Ol{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=lu(this.parameters)),this._parameterMap}toString(){return OO(this)}}function go(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class NO{}class kO{parse(e){const n=new GJ(e);return new po(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Fl(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${yp(n)}=${yp(i)}`).join("&"):`${yp(n)}=${yp(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const FJ=new kO;function mp(t){return t.segments.map(e=>OO(e)).join("/")}function Fl(t,e){if(!t.hasChildren())return mp(t);if(e){const n=t.children[ae]?Fl(t.children[ae],!1):"",r=[];return Ft(t.children,(i,s)=>{s!==ae&&r.push(`${s}:${Fl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return Ft(t.children,(r,i)=>{i===ae&&(n=n.concat(e(r,i)))}),Ft(t.children,(r,i)=>{i!==ae&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ae?[Fl(t.children[ae],!1)]:[`${i}:${Fl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ae]?`${mp(t)}/${n[0]}`:`${mp(t)}/(${n.join("//")})`}}function MO(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yp(t){return MO(t).replace(/%3B/gi,";")}function Rb(t){return MO(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _p(t){return decodeURIComponent(t)}function PO(t){return _p(t.replace(/\+/g,"%20"))}function OO(t){return`${Rb(t.path)}${function(t){return Object.keys(t).map(e=>`;${Rb(e)}=${Rb(t[e])}`).join("")}(t.parameters)}`}const jJ=/^[^\/()?;=#]+/;function vp(t){const e=t.match(jJ);return e?e[0]:""}const BJ=/^[^=?&#]+/,$J=/^[^&#]+/;class GJ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new de(e,n)),r}parseSegment(){const e=vp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ol(_p(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=vp(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=vp(this.remaining);i&&(r=i,this.capture(r))}e[_p(n)]=_p(r)}parseQueryParam(e){const n=function(t){const e=t.match(BJ);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match($J);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=PO(n),s=PO(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vp(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ae);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ae]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class FO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Nb(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Nb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=kb(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kb(e,this._root).map(n=>n.value)}}function Nb(t,e){if(t===e.value)return e;for(const n of e.children){const r=Nb(t,n);if(r)return r}return null}function kb(t,e){if(t===e.value)return[e];for(const n of e.children){const r=kb(t,n);if(r.length)return r.unshift(e),r}return[]}class bi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function du(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class LO extends FO{constructor(e,n){super(e),this.snapshot=n,Mb(this,e)}toString(){return this.snapshot.toString()}}function VO(t,e){const n=function(t,e){const o=new wp([],{},{},"",{},ae,e,null,t.root,-1,{});return new jO("",new bi(o,[]))}(t,e),r=new br([new Ol("",{})]),i=new br({}),s=new br({}),o=new br({}),a=new br(""),u=new hu(r,i,o,a,s,ae,e,n.root);return u.snapshot=n.root,new LO(new bi(u,[]),n)}class hu{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>lu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>lu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function UO(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:W(W({},e.params),n.params),data:W(W({},e.data),n.data),resolve:W(W({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class wp{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jO extends FO{constructor(e,n){super(n),this.url=e,Mb(this,n)}toString(){return BO(this._root)}}function Mb(t,e){e.value._routerState=t,e.children.forEach(n=>Mb(t,n))}function BO(t){const e=t.children.length>0?` { ${t.children.map(BO).join(", ")} } `:"";return`${t.value}${e}`}function Pb(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),qr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),qr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ob(t,e){const n=qr(t.params,e.params)&&function(t,e){return go(t,e)&&t.every((n,r)=>qr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Ob(t.parent,e.parent))}function Ll(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ll(t,r,i);return Ll(t,r)})}(t,e,n);return new bi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ll(t,a)),o}}const r=function(t){return new hu(new br(t.url),new br(t.params),new br(t.queryParams),new br(t.fragment),new br(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Ll(t,s));return new bi(r,i)}}function Ep(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vl(t){return"object"==typeof t&&null!=t&&t.outlets}function Fb(t,e,n,r,i){let s={};return r&&Ft(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new po(n.root===t?e:HO(n.root,t,e),s,i)}function HO(t,e,n){const r={};return Ft(t.children,(i,s)=>{r[s]=i===e?n:HO(i,e,n)}),new de(t.segments,r)}class $O{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ep(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Vl);if(i&&i!==DO(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lb{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function qO(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return Ip(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Vl(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!WO(u,c,o))return s;r+=2}else{if(!WO(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[ae]=new de(t.segments.slice(r.pathIndex),t.children),Ip(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?Vb(t,e,n):r.match?Ip(t,0,i):Vb(t,e,n)}function Ip(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function(t){return Vl(t[0])?t[0].outlets:{[ae]:t}}(n),i={};return Ft(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=qO(t.children[o],e,s))}),Ft(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i)}}function Vb(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Vl(s)){const u=rX(s.outlets);return new de(r,u)}if(0===i&&Ep(n[0])){r.push(new Ol(t.segments[e].path,GO(n[0]))),i++;continue}const o=Vl(s)?s.outlets[ae]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ep(a)?(r.push(new Ol(o,GO(a))),i+=2):(r.push(new Ol(o,{})),i++)}return new de(r,{})}function rX(t){const e={};return Ft(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Vb(new de([],{}),0,n))}),e}function GO(t){const e={};return Ft(t,(n,r)=>e[r]=`${n}`),e}function WO(t,e,n){return t==n.path&&qr(e,n.parameters)}class sX{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Pb(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=du(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ft(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=du(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=du(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=du(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new DJ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bJ(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Pb(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Pb(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class Ub{constructor(e,n){this.routes=e,this.module=n}}function os(t){return"function"==typeof t}function mo(t){return t instanceof po}const Ul=Symbol("INITIAL_VALUE");function jl(){return fo(t=>aJ(t.map(e=>e.pipe(Jl(1),function(...t){const e=yu(t);return Tt((n,r)=>{(e?Tb(t,n,e):Tb(t,n)).subscribe(r)})}(Ul)))).pipe(gO((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Ul?i:(s===Ul&&(r=!0),r||!1!==s&&o!==n.length-1&&!mo(s)?i:s),e)},Ul),Os(e=>e!==Ul),ye(e=>mo(e)?e:!0===e),Jl(1)))}class hX{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Bl,this.attachRef=null}}class Bl{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new hX,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let jb=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new nn,this.deactivateEvents=new nn,this.attachEvents=new nn,this.detachEvents=new nn,this.name=s||ae,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new fX(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(L(Bl),L(fr),L(As),Su("name"),L(wy))},t.\u0275dir=Vt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class fX{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===hu?this.route:e===Bl?this.childContexts:this.parent.get(e,n)}}let zO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&b(0,"router-outlet")},directives:[jb],encapsulation:2}),t})();function KO(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];pX(r,gX(e,r))}}function pX(t,e){t.children&&KO(t.children,e)}function gX(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Bb(t){const e=t.children&&t.children.map(Bb),n=e?In(W({},t),{children:e}):W({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=zO),n}function rr(t){return t.outlet||ae}function QO(t,e){const n=t.filter(r=>rr(r)===e);return n.push(...t.filter(r=>rr(r)!==e)),n}const YO={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function bp(t,e,n){var a;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?W({},YO):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||AJ)(n,t,e);if(!i)return W({},YO);const s={};Ft(i.posParams,(u,c)=>{s[c]=u.path});const o=i.consumed.length>0?W(W({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!=(a=i.posParams)?a:{}}}function Cp(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>Dp(t,e,r)&&rr(r)!==ae)}(t,n,r)){const o=new de(e,function(t,e,n,r){const i={};i[ae]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&rr(s)!==ae){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[rr(s)]=o}return i}(t,e,r,new de(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>Dp(t,e,r))}(t,n,r)){const o=new de(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Dp(t,n,a)&&!i[rr(a)]){const u=new de([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[rr(a)]=u}return W(W({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new de(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Dp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function JO(t,e,n,r){return!!(rr(t)===r||r!==ae&&Dp(e,n,t))&&("**"===t.path||bp(e,t,n).matched)}function XO(t,e,n){return 0===e.length&&!t.children[n]}class Hl{constructor(e){this.segmentGroup=e||null}}class ZO{constructor(e){this.urlTree=e}}function Tp(t){return new Pe(e=>e.error(new Hl(t)))}function eF(t){return new Pe(e=>e.error(new ZO(t)))}function wX(t){return new Pe(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class bX{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Fr)}apply(){const e=Cp(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ae).pipe(ye(s=>this.createUrlTree(Hb(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ss(s=>{if(s instanceof ZO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Hl?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ae).pipe(ye(i=>this.createUrlTree(Hb(i),e.queryParams,e.fragment))).pipe(ss(i=>{throw i instanceof Hl?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new de([],{[ae]:e}):e;return new po(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ye(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return At(i).pipe(va(s=>{const o=r.children[s],a=QO(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ye(u=>({segment:u,outlet:s})))}),gO((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Os((i,s)=>t(i,s,r)):cs,Sb(1),n?yO(e):mO(()=>new pp))}())}expandSegment(e,n,r,i,s,o){return At(r).pipe(va(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(ss(c=>{if(c instanceof Hl)return te(null);throw c}))),cu(a=>!!a),ss((a,u)=>{if(a instanceof pp||"EmptyError"===a.name){if(XO(n,i,s))return te(new de([],{}));throw new Hl(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return JO(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Tp(n):Tp(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?eF(s):this.lineralizeSegments(r,s).pipe(ft(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,lastChild:c,positionalParamSegments:l}=bp(n,i,s);if(!a)return Tp(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?eF(d):this.lineralizeSegments(i,d).pipe(ft(h=>this.expandSegment(e,n,r,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?te(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ye(h=>(r._loadedConfig=h,new de(i,{})))):te(new de(i,{}));const{matched:o,consumedSegments:a,lastChild:u}=bp(n,r,i);if(!o)return Tp(n);const c=i.slice(u);return this.getChildConfig(e,r,i).pipe(ft(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:_}=Cp(n,a,c,f),y=new de(p.segments,p.children);if(0===_.length&&y.hasChildren())return this.expandChildren(h,f,y).pipe(ye(R=>new de(a,R)));if(0===f.length&&0===_.length)return te(new de(a,{}));const w=rr(r)===s;return this.expandSegment(h,y,f,_,w?ae:s,!0).pipe(ye(A=>new de(a.concat(A.segments),A.children)))}))}getChildConfig(e,n,r){return n.children?te(new Ub(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?te(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ft(i=>i?this.configLoader.load(e.injector,n).pipe(ye(s=>(n._loadedConfig=s,s))):function(t){return new Pe(e=>e.error(xb(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):te(new Ub([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;if(!i||0===i.length)return te(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function(t){return t&&os(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!os(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Gr(u)});return te(s).pipe(jl(),Vn(o=>{if(!mo(o))return;const a=xb(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ye(o=>!0===o))}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return te(r);if(i.numberOfChildren>1||!i.children[ae])return wX(e.redirectTo);i=i.children[ae]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new po(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ft(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ft(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Hb(t){const e={};for(const r of Object.keys(t.children)){const s=Hb(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[ae]){const e=t.children[ae];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}class tF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sp{constructor(e,n){this.component=e,this.route=n}}function TX(t,e,n){const r=t._root;return $l(r,e?e._root:null,n,[r.value])}function Ap(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function $l(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=du(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!go(t.url,e.url);case"pathParamsOrQueryParamsChange":return!go(t.url,e.url)||!qr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ob(t,e)||!qr(t.queryParams,e.queryParams);default:return!Ob(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new tF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$l(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sp(a.outlet.component,o))}else o&&ql(e,a,i),i.canActivateChecks.push(new tF(r)),$l(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ft(s,(o,a)=>ql(o,n.getContext(a),i)),i}function ql(t,e,n){const r=du(t),i=t.value;Ft(r,(s,o)=>{ql(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Sp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class UX{}function nF(t){return new Pe(e=>e.error(t))}class BX{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Cp(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ae);if(null===n)return null;const r=new wp([],Object.freeze({}),Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new bi(r,n),s=new jO(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=UO(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=QO(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=rF(r);return function(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return XO(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!JO(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?DO(r).parameters:{};s=new wp(r,f,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,oF(e),rr(e),e.component,e,iF(n),sF(n)+r.length,aF(e))}else{const f=bp(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new wp(o,f.parameters,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,oF(e),rr(e),e.component,e,iF(n),sF(n)+o.length,aF(e))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Cp(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new bi(s,f)]}if(0===u.length&&0===l.length)return[new bi(s,[])];const d=rr(e)===i,h=this.processSegment(u,c,l,d?ae:i);return null===h?null:[new bi(s,h)]}}function qX(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function rF(t){const e=[],n=new Set;for(const r of t){if(!qX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=rF(r.children);e.push(new bi(r.value,i))}return e.filter(r=>!n.has(r))}function iF(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sF(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function oF(t){return t.data||{}}function aF(t){return t.resolve||{}}function $b(t){return fo(e=>{const n=t(e);return n?At(n).pipe(ye(()=>e)):te(e)})}class XX extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const qb=new ce("ROUTES");class uF{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new Ub(CO(o.injector.get(qb,void 0,H.Self|H.Optional)).map(Bb),o)}),ss(s=>{throw n._loader$=void 0,s}));return n._loader$=new lJ(i,()=>new Wr).pipe(pO()),n._loader$}loadModuleFactory(e){return Gr(e()).pipe(ft(n=>n instanceof lA?te(n):At(this.compiler.compileModuleAsync(n))))}}class eZ{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function tZ(t){throw t}function nZ(t,e,n){return e.parse("/")}function cF(t,e){return te(null)}const rZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Lt=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wr,this.errorHandler=tZ,this.malformedUriErrorHandler=nZ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cF,afterPreactivation:cF},this.urlHandlingStrategy=new eZ,this.routeReuseStrategy=new XX,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Fr),this.console=o.get(ih);const d=o.get(Je);this.isNgZoneEnabled=d instanceof Je&&Je.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new po(new de([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uF(o,a,h=>this.triggerEvent(new vO(h)),h=>this.triggerEvent(new wO(h))),this.routerState=VO(this.currentUrlTree,this.rootComponentType),this.transitions=new br({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null==(n=this.location.getState())?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Os(i=>0!==i.id),ye(i=>In(W({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),fo(i=>{let s=!1,o=!1;return te(i).pipe(Vn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?In(W({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fo(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return xp(a.source)&&(this.browserUrlTree=a.extractedUrl),te(a).pipe(fo(d=>{const h=this.transitions.getValue();return r.next(new Ab(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Qr:Promise.resolve(d)}),function(t,e,n,r){return fo(i=>function(t,e,n,r,i){return new bX(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ye(s=>In(W({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Vn(d=>{this.currentNavigation=In(W({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return ft(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new BX(t,e,n,r,i,s).recognize();return null===o?nF(new UX):te(o)}catch(o){return nF(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ye(o=>In(W({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new yJ(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:y}=a,w=new Ab(h,this.serializeUrl(f),p,_);r.next(w);const E=VO(f,this.rootComponentType).snapshot;return te(In(W({},a),{targetSnapshot:E,urlAfterRedirects:f,extras:In(W({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Qr}),$b(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Vn(a=>{const u=new _J(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ye(a=>In(W({},a),{guards:TX(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?te(In(W({},n),{guardsResult:!0})):function(t,e,n,r){return At(t).pipe(ft(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?te(s.map(a=>{const u=Ap(a,e,i);let c;if(function(t){return t&&os(t.canDeactivate)}(u))c=Gr(u.canDeactivate(t,e,n,r));else{if(!os(u))throw new Error("Invalid CanDeactivate guard");c=Gr(u(t,e,n,r))}return c.pipe(cu())})).pipe(jl()):te(!0)}(i.component,i.route,n,e,r)),cu(i=>!0!==i,!0))}(o,r,i,t).pipe(ft(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return At(e).pipe(va(i=>Tb(function(t,e){return null!==t&&e&&e(new IJ(t)),te(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new CJ(t)),te(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>fO(()=>te(o.guards.map(u=>{const c=Ap(u,o.node,n);let l;if(function(t){return t&&os(t.canActivateChild)}(c))l=Gr(c.canActivateChild(r,t));else{if(!os(c))throw new Error("Invalid CanActivateChild guard");l=Gr(c(r,t))}return l.pipe(cu())})).pipe(jl())));return te(s).pipe(jl())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return te(!0);const i=r.map(s=>fO(()=>{const o=Ap(s,e,n);let a;if(function(t){return t&&os(t.canActivate)}(o))a=Gr(o.canActivate(e,t));else{if(!os(o))throw new Error("Invalid CanActivate guard");a=Gr(o(e,t))}return a.pipe(cu())}));return te(i).pipe(jl())}(t,i.route,n))),cu(i=>!0!==i,!0))}(r,s,t,e):te(a)),ye(a=>In(W({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Vn(a=>{if(mo(a.guardsResult)){const c=xb(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new vJ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Os(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),$b(a=>{if(a.guards.canActivateChecks.length)return te(a).pipe(Vn(u=>{const c=new wJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),fo(u=>{let c=!1;return te(u).pipe(function(t,e){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let s=0;return At(i).pipe(va(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return te({});const s={};return At(i).pipe(ft(o=>function(t,e,n,r){const i=Ap(t,e,r);return Gr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(Vn(a=>{s[o]=a}))),Sb(1),ft(()=>Object.keys(s).length===i.length?te(s):Qr))}(t._resolve,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data=W(W({},t.data),UO(t,n).resolve),null)))}(o.route,r,t,e)),Vn(()=>s++),Sb(1),ft(o=>s===i.length?te(n):Qr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Vn({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),Vn(u=>{const c=new EJ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),$b(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ye(a=>{const u=function(t,e,n){const r=Ll(t,e._root,n?n._root:void 0);return new LO(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return In(W({},a),{targetRouterState:u})}),Vn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ye(r=>(new sX(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Vn({next(){s=!0},complete(){s=!0}}),function(t){return Tt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(a=this.currentNavigation)?void 0:a.id)===i.id&&(this.currentNavigation=null)}),ss(a=>{if(o=!0,function(t){return t&&t[IO]}(a)){const u=mo(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new _O(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xp(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new mJ(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Qr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(W(W({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const i={replaceUrl:!0},s=(null==(a=n.state)?void 0:a.navigationId)?n.state:null;if(s){const u=W({},s);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){KO(n),this.config=n.map(Bb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=W(W({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return Fb(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new $O(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ft(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $O(n,e,r)}(n);if(s.toRoot())return Fb(e.root,new de([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Lb(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Lb(s,s===e.root,0)}const r=Ep(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Lb(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Ip(o.segmentGroup,o.index,s.commands):qO(o.segmentGroup,o.index,s.commands);return Fb(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=mo(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?W({},rZ):!1===r?W({},iZ):r,mo(n))return SO(this.currentUrlTree,n,i);const s=this.parseUrl(n);return SO(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Pl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var w,E,A;if(this.disposed)return Promise.resolve(!1);const a=this.transitions.value,u=xp(r)&&a&&!xp(a.source),c=a.rawUrl.toString()===n.toString(),l=a.id===(null==(w=this.currentNavigation)?void 0:w.id);if(u&&c&&l)return Promise.resolve(!0);let h,f,p;o?(h=o.resolve,f=o.reject,p=o.promise):p=new Promise((R,U)=>{h=R,f=U});const _=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),y=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!=(E=this.browserPageId)?E:0:(null!=(A=this.browserPageId)?A:0)+1):y=0,this.setTransition({id:_,targetPageId:y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:h,reject:f,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(R=>Promise.reject(R))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=W(W({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null==(s=this.currentNavigation)?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new _O(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){xm()},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function xp(t){return"imperative"!==t}let Rp=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Wr,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:fu(this.skipLocationChange),replaceUrl:fu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fu(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(L(Lt),L(hu),Su("tabindex"),L(Yd),L(Mn))},t.\u0275dir=Vt({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Be("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ys]}),t})(),Gl=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Wr,this.subscription=n.events.subscribe(s=>{s instanceof Pl&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:fu(this.skipLocationChange),replaceUrl:fu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:fu(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(L(Lt),L(hu),L(Ps))},t.\u0275dir=Vt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&Be("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Cm("target",r.target)("href",r.href,Pg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ys]}),t})();function fu(t){return""===t||!!t}class lF{}class dF{preload(e,n){return te(null)}}let hF=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new uF(i,r,u=>n.triggerEvent(new vO(u)),u=>n.triggerEvent(new wO(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Os(n=>n instanceof Pl),va(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Fr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return At(i).pipe(mu(),ye(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?te(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ft(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(F(Lt),F(sh),F(Ie),F(lF))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),Gb=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Ab?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Pl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof EO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new EO(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){xm()},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const yo=new ce("ROUTER_CONFIGURATION"),fF=new ce("ROUTER_FORROOT_GUARD"),cZ=[Qy,{provide:NO,useClass:kO},{provide:Lt,useFactory:function(t,e,n,r,i,s,o={},a,u){const c=new Lt(null,t,e,n,r,i,CO(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null==(d=console.group)||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null==(h=console.groupEnd)||h.call(console)}),c},deps:[NO,Bl,Qy,Ie,sh,qb,yo,[class{},new fn],[class{},new fn]]},Bl,{provide:hu,useFactory:function(t){return t.routerState.root},deps:[Lt]},hF,dF,class{preload(e,n){return n().pipe(ss(()=>te(null)))}},{provide:yo,useValue:{enableTracing:!1}}];function lZ(){return new yy("Router",Lt)}let pF=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[cZ,gF(n),{provide:fF,useFactory:fZ,deps:[[Lt,new fn,new ki]]},{provide:yo,useValue:r||{}},{provide:Ps,useFactory:hZ,deps:[Ms,[new Lo(Ky),new fn],yo]},{provide:Gb,useFactory:dZ,deps:[Lt,DG,yo]},{provide:lF,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:dF},{provide:yy,multi:!0,useFactory:lZ},[Wb,{provide:sc,multi:!0,useFactory:yZ,deps:[Wb]},{provide:mF,useFactory:_Z,deps:[Wb]},{provide:qA,multi:!0,useExisting:mF}]]}}static forChild(n){return{ngModule:t,providers:[gF(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(fF,8),F(Lt,8))},t.\u0275mod=Zr({type:t}),t.\u0275inj=ir({}),t})();function dZ(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Gb(t,e,n)}function hZ(t,e,n={}){return n.useHash?new ix(t,e):new rx(t,e)}function fZ(t){return"guarded"}function gF(t){return[{provide:a2,multi:!0,useValue:t},{provide:qb,multi:!0,useValue:t}]}let Wb=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Wr}appInitializer(){return this.injector.get(n8,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Lt),o=this.injector.get(yo);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?te(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(yo),i=this.injector.get(hF),s=this.injector.get(Gb),o=this.injector.get(Lt),a=this.injector.get(ha);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Ie))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function yZ(t){return t.appInitializer.bind(t)}function _Z(t){return t.bootstrapListener.bind(t)}const mF=new ce("Router Initializer");let wZ=(()=>{class t{constructor(n){this.Classify=n}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(L(fp))},t.\u0275cmp=We({type:t,selectors:[["app-no-service-msg"]],decls:6,vars:0,consts:[[1,"message","is-warning"],[1,"message-header"],[1,"message-body"]],template:function(n,r){1&n&&(g(0,"article",0),g(1,"div",1),g(2,"p"),T(3,"Info"),m(),m(),g(4,"div",2),T(5,"The service is currently close"),m(),m())},encapsulation:2}),t})(),EZ=(()=>{class t{constructor(n,r){this.router=n,this.Classify=r}ngOnInit(){var n=this;return v(function*(){Il(),yield ou(1500);var r=n.Classify.isActive();z("loader").remove(),r?(Kf("main_el",1).style.display="unset",Kf("main_el",0).remove()):(Kf("main_el",0).style.display="unset",Kf("main_el",1).remove())})()}placeholderRange(n,r,i){var s=Number(z(n+"_units").value),o=z(n+"_input"),a=z(n+"_help");let u=String(parseFloat((s*r).toFixed(2))),c=String(parseFloat((s*i).toFixed(2)));a.innerHTML="must be between "+u+" and "+c,o.setAttribute("placeholder",u+"-"+c),o.setAttribute("min",u),o.setAttribute("max",c),o.value=""}glucoseDontKnow(){z("avg_glucose_level_input").value="",this.styleChange("avg_glucose_level"),z("avg_glucose_level_input").disabled=!z("avg_glucose_level_input").disabled,z("avg_glucose_level_units").disabled=!z("avg_glucose_level_units").disabled}fillParams(n=!1){var r=z("gender_input"),i=null;if(n)for(let Ci in r.childNodes)"object"==typeof(s=r.childNodes[Ci])&&s.value==r.value&&(i=s.innerHTML);else i=Number(r.value);var a,o=z("age_input").value;a=n?o+" Years Old":Number(o);var u=z("height_input"),c=null,l=z("height_units"),d=null;if(n){for(let Ci in l.childNodes)"object"==typeof(s=l.childNodes[Ci])&&s.value==l.value&&(d=s.innerHTML);c=u.value+" "+d}d=Number(l.value);var h=Number(u.value)/(100*d),f=z("weight_input"),p=null;if(l=z("weight_units"),d=null,n){for(let Ci in l.childNodes)"object"==typeof(s=l.childNodes[Ci])&&s.value==l.value&&(d=s.innerHTML);p=f.value+" "+d}d=Number(l.value);var A,R,w,y=Number(f.value)/d/h**2;w=n?String(y.toFixed(2))+" kg/m\xb2":y,tr("EverMarried").checked?(A=1,R="Yes"):(A=0,R="No");var Cr,En,U=z("job_input"),me=null;if(n)for(let Ci in U.childNodes)"object"==typeof(s=U.childNodes[Ci])&&s.value==U.value&&(me=s.innerHTML);else me=Number(U.value);tr("ResidenceType").checked?(Cr=0,En="Rural"):(Cr=1,En="Urban");var _o,vo,wo,zb,Un=z("smoke_input"),Dr=null;if(n)for(let Ci in Un.childNodes)"object"==typeof(s=Un.childNodes[Ci])&&s.value==Un.value&&(Dr=s.innerHTML);else Dr=Number(Un.value);tr("hypertension").checked?(_o=1,vo="Yes"):(_o=0,vo="No"),tr("heart_disease").checked?(wo=1,zb="Yes"):(wo=0,zb="No");var Kb=z("avg_glucose_level_input"),pu=null;if(l=z("avg_glucose_level_units"),d=null,Kb.disabled)pu=n?"Unknown":0;else if(n){for(let VZ in l.childNodes){var s;"object"==typeof(s=l.childNodes[VZ])&&s.value==l.value&&(d=s.innerHTML)}pu=Kb.value+" "+d}else d=Number(l.value),pu=Number(Kb.value)/d;return n?{Gender:i,Age:a,Height:c,Weight:p,BMI:w,"Ever married":R,"Current job type":me,"Residence type":En,"Smoking status":Dr,Hypertension:vo,"Heart disease":zb,"Average glucose":pu}:{gender:i,age:a,bmi:w,ever_married:A,work_type:me,Residence_type:Cr,smoking_status:Dr,hypertension:_o,heart_disease:wo,avg_glucose_level:pu}}validTest(){var n=z("gender_input").value;if(!["1","0"].includes(n))return 0;if(""==z("age_input").value)return 0;if(!this.styleChange("age"))return-1;var s=z("height_input").value;if(""==s)return 0;if(!this.styleChange("height"))return-1;var o=z("weight_input").value;if(""==o)return 0;if(!this.styleChange("weight"))return-1;var a=tr("EverMarried",0),u=tr("EverMarried",1);if(!a.checked&&!u.checked)return 0;var c=z("job_input").value;if(!["0","1","2","3","4"].includes(c))return 0;var d=tr("ResidenceType",0),h=tr("ResidenceType",1);if(!d.checked&&!h.checked)return 0;var f=z("smoke_input").value;if(!["1","2","3"].includes(f))return 0;var _=tr("hypertension",0),y=tr("hypertension",1);if(!_.checked&&!y.checked)return 0;var w=tr("heart_disease",0),E=tr("heart_disease",1);if(!w.checked&&!E.checked)return 0;var A=z("avg_glucose_level_input");if(!A.disabled&&""==A.value)return 0;if(!this.styleChange("avg_glucose_level")&&!A.disabled)return-1;var R=Number(z("height_units").value),U=Number(s)/(100*R);return R=Number(z("weight_units").value),Number(o)/R/U**2>200?-1:1}sendTest(){var n=this;return v(function*(){if(1==n.validTest()){var r=Re.auth.currentUser;if(null!=r){const c=ts(Re.db,"users",r.uid),l=yield su(c);if(l.exists()){var i=l.data().tests,s=n.fillParams();i[Object.keys(i).length+1]=s;var o=l.data().results,a=l.data().STRtests,u=n.fillParams(!0);a[Object.keys(a).length+1]=u,n.Classify.classifyOne(s).subscribe(function(){var d=v(function*(h){o[Object.keys(o).length+1]=h,yield rP(c,{STRtests:a,tests:i,results:o}),n.showGauge(h),window.alert("your odds to have stroke are: "+h+"%")});return function(h){return d.apply(this,arguments)}}())}else console.log("something gone wrong :(")}}else 0==n.validTest()?window.alert("complete all fields!"):-1==n.validTest()?window.alert("please fill valid parameters"):window.alert("something gone wrong :(")})()}styleChange(n){var r=z(n+"_input"),i=z(n+"_help");let s="0"==r.value&&"age"==n;return""==r.value||Number(r.value)<=Number(r.max)&&!s&&Number(r.min)<=Number(r.value)?(r.classList.remove("is-danger"),i.style.display="none",""!=r.value):(r.classList.add("is-danger"),i.style.display="block",!1)}showGauge(n){var s=z("tar"),o=z("tar-num");s.style.display="unset",o.innerHTML="your odds to have stroke are: "+n+"%","NaN"==n?(s.style.display="none",s.src="",o.innerHTML=""):parseFloat(n)>=0&&parseFloat(n)<15?s.src="../assets/img/lowRisk.png":parseFloat(n)>=15&&parseFloat(n)<45?s.src="../assets/img/mediumRisk.png":parseFloat(n)>=45&&parseFloat(n)<=100?s.src="../assets/img/highRisk.png":(s.style.display="none",s.src="",o.innerHTML="",console.log("something gone wrong :(")),s.scrollIntoView()}AWSservice(){return this.Classify.isActive()}}return t.\u0275fac=function(n){return new(n||t)(L(Lt),L(fp))},t.\u0275cmp=We({type:t,selectors:[["app-test"]],decls:211,vars:0,consts:[["id","loader","max","100",1,"progress","is-info"],[1,"main_el"],[1,"wrapper","main_el"],[1,"title","is-underlined"],[1,"field","is-horizontal"],[1,"field-label","row-center","is-medium"],[1,"label"],[1,"field-body"],[1,"field","is-narrow","row-center"],[1,"control","is-expanded"],[1,"select","is-medium","is-expanded"],["name","Gender","id","gender_input"],["value","1"],["value","0"],[1,"field","has-addons","has-addons-centered"],[1,"control"],["id","age_input","type","number","min","0","max","120","placeholder","0-120",1,"input","is-medium",3,"change"],[1,"button","is-static","is-medium"],["id","age_help",1,"help","is-danger"],["id","height_input","type","number","min","35","max","250","placeholder","35-250",1,"input","is-medium",3,"change"],[1,"select","is-medium"],["id","height_units",3,"change"],["value","0.393700787"],["id","height_help",1,"help","is-danger"],["id","weight_input","type","number","min","2","max","500","placeholder","2-500",1,"input","is-medium",3,"change"],["id","weight_units",3,"change"],["value","2.20462262"],["id","weight_help",1,"help","is-danger"],[1,"control","row-center"],[1,"radio","content","is-medium",2,"margin","0"],["type","radio","name","EverMarried"],[1,"radio","content","is-medium"],["name","WorkType","id","job_input"],["value","2"],["value","3"],["value","4"],["type","radio","name","ResidenceType"],["name","SmokingStastus","id","smoke_input"],["type","radio","name","hypertension"],[1,"row-center"],[1,"control","row-center","inf"],[1,"button","is-info","is-small","is-rounded"],[1,"icon"],[1,"fas","fa-info"],[1,"inf-text"],["type","radio","name","heart_disease"],["id","avg_glucose_level_input","type","number","min","50","max","300","step","0.01","placeholder","50-300",1,"input","is-medium",3,"change"],["id","avg_glucose_level_units",3,"change"],["value","0.0555"],[1,"field","row-center"],[1,"checkbox",2,"margin","0"],["type","checkbox",3,"click"],["id","avg_glucose_level_help",1,"help","is-danger"],[1,"button","is-success","is-large",3,"click"],[1,"container","has-text-centered"],["id","tar","alt","result"],["id","tar-num",1,"is-size-3"]],template:function(n,r){1&n&&(b(0,"progress",0),b(1,"app-no-service-msg",1),g(2,"div",2),g(3,"p",3),T(4,"Test yourself:"),m(),g(5,"div",4),g(6,"div",5),g(7,"label",6),T(8,"Gender"),m(),m(),g(9,"div",7),g(10,"div",8),g(11,"div",9),g(12,"div",10),g(13,"select",11),g(14,"option",12),T(15,"Male"),m(),g(16,"option",13),T(17,"Female"),m(),m(),m(),m(),m(),m(),m(),g(18,"div",4),g(19,"div",5),g(20,"label",6),T(21,"Age"),m(),m(),g(22,"div",7),g(23,"div",8),g(24,"div",14),g(25,"p",15),g(26,"input",16),Be("change",function(){return r.styleChange("age")}),m(),m(),g(27,"p",15),g(28,"a",17),T(29," years old "),m(),m(),m(),m(),m(),m(),g(30,"p",18),T(31,"must be between 0 and 120"),m(),g(32,"div",4),g(33,"div",5),g(34,"label",6),T(35,"Height"),m(),m(),g(36,"div",7),g(37,"div",8),g(38,"div",14),g(39,"p",15),g(40,"input",19),Be("change",function(){return r.styleChange("height")}),m(),m(),g(41,"p",15),g(42,"span",20),g(43,"select",21),Be("change",function(){return r.placeholderRange("height",35,250)}),g(44,"option",12),T(45,"Cm"),m(),g(46,"option",22),T(47,"Inch"),m(),m(),m(),m(),m(),m(),m(),m(),g(48,"p",23),T(49,"must be between 35 and 250"),m(),g(50,"div",4),g(51,"div",5),g(52,"label",6),T(53,"Weight"),m(),m(),g(54,"div",7),g(55,"div",8),g(56,"div",14),g(57,"p",15),g(58,"input",24),Be("change",function(){return r.styleChange("weight")}),m(),m(),g(59,"p",15),g(60,"span",20),g(61,"select",25),Be("change",function(){return r.placeholderRange("weight",2,500)}),g(62,"option",12),T(63,"Kg"),m(),g(64,"option",26),T(65,"Lb"),m(),m(),m(),m(),m(),m(),m(),m(),g(66,"p",27),T(67,"must be between 2 and 500"),m(),g(68,"div",4),g(69,"div",5),g(70,"label",6),T(71,"Ever married?"),m(),m(),g(72,"div",7),g(73,"div",8),g(74,"div",28),g(75,"label",29),b(76,"input",30),T(77," Yes "),m(),g(78,"label",31),b(79,"input",30),T(80," No "),m(),m(),m(),m(),m(),g(81,"div",4),g(82,"div",5),g(83,"label",6),T(84,"Current job type"),m(),m(),g(85,"div",7),g(86,"div",8),g(87,"div",9),g(88,"div",20),g(89,"select",32),g(90,"option",12),T(91,"Unemployed"),m(),g(92,"option",33),T(93,"Private"),m(),g(94,"option",34),T(95,"Self-employed"),m(),g(96,"option",35),T(97,"Children"),m(),g(98,"option",13),T(99,"Government job"),m(),m(),m(),m(),m(),m(),m(),g(100,"div",4),g(101,"div",5),g(102,"label",6),T(103,"Residence type"),m(),m(),g(104,"div",7),g(105,"div",8),g(106,"div",15),g(107,"label",29),b(108,"input",36),T(109," Rural "),m(),g(110,"label",31),b(111,"input",36),T(112," Urban "),m(),m(),m(),m(),m(),g(113,"div",4),g(114,"div",5),g(115,"label",6),T(116,"Smoking status"),m(),m(),g(117,"div",7),g(118,"div",8),g(119,"div",9),g(120,"div",20),g(121,"select",37),g(122,"option",33),T(123,"Never smoked"),m(),g(124,"option",34),T(125,"Smokes"),m(),g(126,"option",12),T(127,"Formerly smoked"),m(),m(),m(),m(),m(),m(),m(),g(128,"div",4),g(129,"div",5),g(130,"label",6),T(131,"Hypertension"),m(),m(),g(132,"div",7),g(133,"div",8),g(134,"div",28),g(135,"label",29),b(136,"input",38),T(137," Yes "),m(),g(138,"label",31),b(139,"input",38),T(140," No "),m(),m(),g(141,"p",39),T(142,"\xa0\xa0"),m(),g(143,"div",40),g(144,"a",41),g(145,"span",42),b(146,"i",43),m(),m(),g(147,"span",44),T(148,"Do you currently have high blood pressure?"),m(),m(),m(),m(),m(),g(149,"div",4),g(150,"div",5),g(151,"label",6),T(152,"Heart disease"),m(),m(),g(153,"div",7),g(154,"div",8),g(155,"div",28),g(156,"label",29),b(157,"input",45),T(158," Yes "),m(),g(159,"label",31),b(160,"input",45),T(161," No "),m(),m(),g(162,"p",39),T(163,"\xa0\xa0"),m(),g(164,"div",40),g(165,"a",41),g(166,"span",42),b(167,"i",43),m(),m(),g(168,"span",44),T(169,"Do you currently have heart disease?"),m(),m(),m(),m(),m(),g(170,"div",4),g(171,"div",5),g(172,"label",6),T(173,"Average glucose"),m(),m(),g(174,"div",7),g(175,"div",8),g(176,"div",14),g(177,"p",15),g(178,"input",46),Be("change",function(){return r.styleChange("avg_glucose_level")}),m(),m(),g(179,"p",15),g(180,"span",20),g(181,"select",47),Be("change",function(){return r.placeholderRange("avg_glucose_level",50,300)}),g(182,"option",12),T(183,"mg/dL"),m(),g(184,"option",48),T(185,"mmol/L"),m(),m(),m(),m(),m(),g(186,"p",39),T(187,"\xa0\xa0"),m(),g(188,"div",40),g(189,"a",41),g(190,"span",42),b(191,"i",43),m(),m(),g(192,"span",44),T(193,"What is your average glucose level over the past month?"),m(),m(),g(194,"p",39),T(195,"\xa0\xa0"),m(),g(196,"div",49),g(197,"div",15),g(198,"label",50),g(199,"input",51),Be("click",function(){return r.glucoseDontKnow()}),m(),T(200," I don't know "),m(),m(),m(),m(),m(),m(),g(201,"p",52),T(202," must be between 50 and 300 "),m(),g(203,"div",53),Be("click",function(){return r.sendTest()}),T(204," Click to see the results "),m(),g(205,"div",54),b(206,"br"),b(207,"br"),b(208,"br"),b(209,"img",55),b(210,"div",56),m(),m())},directives:[wZ],styles:['.main_el[_ngcontent-%COMP%]{display:none}#tar[_ngcontent-%COMP%]{display:none}.help[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]{padding-left:calc(50% - 200px)}.is-horizontal[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-basis:unset;flex-grow:unset}.field-label[_ngcontent-%COMP%]{justify-content:flex-start;width:200px}.row-center[_ngcontent-%COMP%]{height:50px;display:flex;flex-wrap:wrap;align-content:center;align-self:center}.inf[_ngcontent-%COMP%]   .inf-text[_ngcontent-%COMP%]{visibility:hidden;width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;top:-5px;left:110%}.inf[_ngcontent-%COMP%]   .inf-text[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent black transparent transparent}.inf[_ngcontent-%COMP%]:hover   .inf-text[_ngcontent-%COMP%]{visibility:visible}']}),t})(),IZ=(()=>{class t{constructor(n){this.router=n}ngOnInit(){Il()}onSubmit(){var n=this,r=z("nickname_input").value,i=z("email_input").value,s=z("password_input").value;[uo("nickname"),uo("email"),uo("password"),uo("confirm_password")].every(o=>o)?BI(Re.auth,ap).then(()=>{(function(t,e,n){return RI.apply(this,arguments)})(Re.auth,i,s).then(function(){var o=v(function*(a){yield function(t,e,n){t=ge(t,Qe);const r=ge(t.firestore,Le),i=function(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return El(r,[wE(nu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,it.none())])}(ts(Re.db,"users",a.user.uid),{Name:r,tests:{},STRtests:{},results:{}}),window.sessionStorage.setItem("log","true"),n.router.navigateByUrl("/profile")});return function(a){return o.apply(this,arguments)}}()).catch(o=>{})}).catch(o=>{}):window.alert("complete all fields!")}styleChange(n){uo(n)}}return t.\u0275fac=function(n){return new(n||t)(L(Lt))},t.\u0275cmp=We({type:t,selectors:[["app-registerfields"]],decls:44,vars:0,consts:[[1,"field"],[1,"label"],[1,"control","has-icons-left"],[1,"icon","is-small","is-left"],[1,"fas","fa-user"],["id","nickname_input","type","text","placeholder","Nickname",1,"input",3,"change"],[1,"icon","is-small","is-right"],["id","nickname_icon",1,"fas"],["id","nickname_help",1,"help","is-danger"],["id","email_input","type","email","placeholder","Email",1,"input",3,"change"],[1,"fas","fa-envelope"],["id","email_icon",1,"fas"],["id","email_help",1,"help","is-danger"],["id","password_input","type","password","placeholder","Password",1,"input",3,"change"],[1,"fas","fa-lock"],["id","password_icon",1,"fas"],["id","password_help",1,"help","is-danger"],["id","confirm_password_input","type","password","placeholder","Password",1,"input",3,"change"],["id","confirm_password_icon",1,"fas"],["id","confirm_password_help",1,"help","is-danger"],[1,"control"],[1,"button","is-success",3,"click"]],template:function(n,r){1&n&&(g(0,"div",0),g(1,"label",1),T(2,"Nickname"),m(),g(3,"div",2),g(4,"span",3),b(5,"i",4),m(),g(6,"input",5),Be("change",function(){return r.styleChange("nickname")}),m(),g(7,"span",6),b(8,"i",7),m(),m(),b(9,"p",8),m(),g(10,"div",0),g(11,"label",1),T(12,"Email"),m(),g(13,"div",2),g(14,"input",9),Be("change",function(){return r.styleChange("email")}),m(),g(15,"span",3),b(16,"i",10),m(),g(17,"span",6),b(18,"i",11),m(),m(),b(19,"p",12),m(),g(20,"div",0),g(21,"label",1),T(22,"Password"),m(),g(23,"div",2),g(24,"input",13),Be("change",function(){return r.styleChange("password")}),m(),g(25,"span",3),b(26,"i",14),m(),g(27,"span",6),b(28,"i",15),m(),m(),b(29,"p",16),m(),g(30,"div",0),g(31,"label",1),T(32,"Confirm Password"),m(),g(33,"div",2),g(34,"input",17),Be("change",function(){return r.styleChange("confirm_password")}),m(),g(35,"span",3),b(36,"i",14),m(),g(37,"span",6),b(38,"i",18),m(),m(),b(39,"p",19),m(),g(40,"div",0),g(41,"div",20),g(42,"button",21),Be("click",function(){return r.onSubmit()}),T(43,"Register"),m(),m(),m())},encapsulation:2}),t})(),bZ=(()=>{class t{constructor(){}ngOnInit(){}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-home"]],decls:8,vars:0,consts:[["id","container"],["id","background"],["id","first_circle"],["routerLink","test",1,"has-text-weight-bold","has-text-black"],["id","second_circle"],["routerLink","about",1,"has-text-weight-bold","has-text-black"]],template:function(n,r){1&n&&(g(0,"div",0),g(1,"div",1),g(2,"div",2),g(3,"a",3),T(4,"Test yourself and help us help you"),m(),m(),g(5,"div",4),g(6,"a",5),T(7,"How does it works?"),m(),m(),m(),m())},directives:[Gl],styles:["#container[_ngcontent-%COMP%]{background:silver;display:block;position:relative;width:100%;height:0;padding-bottom:64.375%}#background[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:url(background.6b0bdd71bc180783.png) no-repeat;background-size:cover;font-size:min(1.5rem,2.5vw)}#background[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;background-color:#fff;border-radius:50%;opacity:.75}#first_circle[_ngcontent-%COMP%]{top:20%;left:10%;width:19%;height:0;padding:9.5% 0}#second_circle[_ngcontent-%COMP%]{top:60%;left:30%;width:15%;height:0;padding:7.5% 0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center}@media screen and (min-width: 1600px){#background[_ngcontent-%COMP%]{font-size:30px}}"]}),t})(),CZ=(()=>{class t{constructor(n){this.router=n}ngOnInit(){Il()}onSubmit(){var n=z("email_input").value,r=z("password_input").value;[uo("email"),""!=r].every(i=>i)?(z("remember-me").checked?BI(Re.auth,WP):BI(Re.auth,ap),function(t,e,n){return function(t,e){return _I.apply(this,arguments)}(gn(t),LP.credential(e,n))}(Re.auth,n,r).then(()=>{window.sessionStorage.setItem("log","true"),this.router.navigateByUrl("/profile")}).catch(i=>{var s=i.code,o=i.message;"auth/invalid-email"==s?window.alert("can't use this email"):"auth/user-not-found"==s?window.alert("User does not exist"):window.alert("Error ["+s+"]: "+o)})):window.alert("enter valid email and password!")}styleChange(n){uo(n)}}return t.\u0275fac=function(n){return new(n||t)(L(Lt))},t.\u0275cmp=We({type:t,selectors:[["app-loginfields"]],decls:26,vars:0,consts:[[1,"field"],[1,"label"],[1,"control","has-icons-left"],["id","email_input","type","email","placeholder","Email",1,"input",3,"change"],[1,"icon","is-small","is-left"],[1,"fas","fa-envelope"],[1,"icon","is-small","is-right"],["id","email_icon",1,"fas"],["id","email_help",1,"help","is-danger"],["id","password_input","type","password","placeholder","Password",1,"input"],[1,"fas","fa-lock"],[1,"control"],[1,"checkbox"],["type","checkbox","id","remember-me"],["id","login_button",1,"button","is-success",3,"click"]],template:function(n,r){1&n&&(g(0,"div",0),g(1,"label",1),T(2,"Email"),m(),g(3,"div",2),g(4,"input",3),Be("change",function(){return r.styleChange("email")}),m(),g(5,"span",4),b(6,"i",5),m(),g(7,"span",6),b(8,"i",7),m(),m(),b(9,"p",8),m(),g(10,"div",0),g(11,"label",1),T(12,"Password"),m(),g(13,"p",2),b(14,"input",9),g(15,"span",4),b(16,"i",10),m(),m(),m(),g(17,"div",0),g(18,"div",11),g(19,"label",12),b(20,"input",13),T(21," Remember Me "),m(),m(),m(),g(22,"div",0),g(23,"p",11),g(24,"button",14),Be("click",function(){return r.onSubmit()}),T(25," Login "),m(),m(),m())},encapsulation:2}),t})(),DZ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-none"]],decls:2,vars:0,template:function(n,r){1&n&&(g(0,"p"),T(1," none works! "),m())},encapsulation:2}),t})(),TZ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-no-tests"]],decls:9,vars:0,consts:[[1,"message","is-info"],[1,"message-header"],["routerLink","/test",1,"message-body"],[1,"icon"],[1,"fas","fa-arrow-right"]],template:function(n,r){1&n&&(g(0,"article",0),g(1,"div",1),g(2,"p"),T(3,"There are no tests"),m(),m(),g(4,"div",2),g(5,"span"),T(6," Let's start your first test"),m(),g(7,"span",3),b(8,"i",4),m(),m(),m())},directives:[Rp],styles:[".message-body[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;pointer-events:all}.message-body[_ngcontent-%COMP%]{pointer-events:none}"]}),t})();const SZ=[{path:"login",component:CZ},{path:"",component:bZ},{path:"register",component:IZ},{path:"profile",component:(()=>{class t{constructor(n,r){this.router=n,this.Classify=r}ngOnInit(){Il(),this.loadProfile()}loadProfile(){var n=this;return v(function*(){for(;null==Re.auth.currentUser;)yield ou(200);const i=ts(Re.db,"users",Re.auth.currentUser.uid),s=yield su(i);if(s.exists()){var o=s.data().Name,a=document.getElementById("uName");null!=a&&(a.innerHTML="hello "+o+" \u270c")}else console.log("No name found!");n.insertTests(),z("loader").remove()})()}openTest(n){var r=this;return v(function*(){let i=n.target,s=i.id;var o=z("tOpen");if(null!=o){let w=o.parentElement==i;if(o.remove(),w)return}var a=document.createElement("div");for(a.setAttribute("id","tOpen"),a.setAttribute("class","box has-background-link-light"),a.style.textAlign="left",a.style.pointerEvents="none",z(s).appendChild(a);null==Re.auth.currentUser;)yield ou(200);const c=ts(Re.db,"users",Re.auth.currentUser.uid),l=yield su(c);if(l.exists()){var h=l.data().STRtests[Number(s)],p=l.data().results[Number(s)],_=[];for(let w in h)_.push(w+": "+h[w]);"NaN"==p&&(p=yield r.tryToClassify(s)),_.push("Probability: "+p+"%"),_.sort(function(w,E){let A=["Gender","Age","Height","Weight","BMI","Ever married","Current job type","Residence type","Smoking status","Hypertension","Heart disease","Average glucose","Probability"];return A.indexOf(w.slice(0,w.indexOf(":")))-A.indexOf(E.slice(0,E.indexOf(":")))}),o=z("tOpen");var y=document.createElement("strong");y.innerHTML="Parameters:",o.appendChild(y);for(let w in _){o.appendChild(document.createElement("br"));let R,E=_[w];R="Probability"==E.slice(0,E.indexOf(":"))?document.createElement("strong"):document.createElement("span"),R.innerHTML=E,o.appendChild(R)}}})()}tryToClassify(n){var r=this;return v(function*(){var i=Re.auth.currentUser;if(null!=i){const u=ts(Re.db,"users",i.uid),c=yield su(u);if(c.exists()){var o=c.data().tests[Number(n)],a=c.data().results;return r.Classify.classifyOne(o).subscribe(function(){var l=v(function*(d){return a[Number(n)]=d,yield rP(u,{results:a}),d});return function(d){return l.apply(this,arguments)}}()),"NaN"}return console.log("something gone wrong :("),"NaN"}return console.log("something gone wrong :("),"NaN"})()}insertTests(){var n=this;return v(function*(){for(;null==Re.auth.currentUser;)yield ou(200);var r=Re.auth.currentUser,i=z("results-wrapper");const s=ts(Re.db,"users",r.uid),o=yield su(s);if(o.exists()){var a=o.data().tests;if(0==Object.keys(a).length)z("noTests").style.display="block";else{z("noTests").remove();for(let d=0;d<Object.keys(a).length;d++){var u=document.createElement("div");u.setAttribute("class","column is-one-third");var c=document.createElement("div");c.setAttribute("class","box is-clickable has-background-info-light"),c.setAttribute("id",Object.keys(a)[d]),c.addEventListener("click",n.openTest.bind(n));var l=document.createElement("span");l.setAttribute("class","is-size-3 has-text-weight-semibold"),l.style.pointerEvents="none",l.innerHTML="Test "+Object.keys(a)[d],i.appendChild(u).appendChild(c).appendChild(l)}}}})()}}return t.\u0275fac=function(n){return new(n||t)(L(Lt),L(fp))},t.\u0275cmp=We({type:t,selectors:[["app-profile"]],decls:6,vars:0,consts:[["id","loader","max","100",1,"progress","is-info"],[1,"title"],["id","uName"],["id","results-wrapper","role","results",1,"columns","is-multiline"],["id","noTests",1,"column"]],template:function(n,r){1&n&&(g(0,"div"),b(1,"progress",0),g(2,"div",1),b(3,"span",2),m(),g(4,"div",3),b(5,"app-no-tests",4),m(),m())},directives:[TZ],styles:["#noTests[_ngcontent-%COMP%]{display:none}"]}),t})()},{path:"logo",component:YY},{path:"test",component:EZ},{path:"none",component:DZ},{path:"about",component:H6}];let AZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zr({type:t}),t.\u0275inj=ir({imports:[[pF.forRoot(SZ,{useHash:!0})],pF]}),t})();function xZ(t,e){1&t&&(g(0,"a",19),T(1,"Test Yourself"),m())}function RZ(t,e){1&t&&(g(0,"a",20),T(1,"Profile"),m())}function NZ(t,e){1&t&&(g(0,"a",21),g(1,"strong"),T(2,"Sign up"),m(),m())}function kZ(t,e){1&t&&(g(0,"a",22),g(1,"strong"),T(2," Log in "),m(),m())}function MZ(t,e){if(1&t){const n=Nm();g(0,"a",23),Be("click",function(){return ag(n),Pm().logout()}),g(1,"strong"),T(2," Log out "),m(),m()}}let PZ=(()=>{class t{constructor(){}ngOnInit(){}ngAfterContentInit(){this.fixBurgers()}userLogin(){return"true"==window.sessionStorage.getItem("log")}fixBurgers(){const n=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);n.length>0&&n.forEach(r=>{r.addEventListener("click",()=>{const s=document.getElementById(r.dataset.target);r.classList.toggle("is-active"),null==s||s.classList.toggle("is-active")})})}logout(){(function(t){return gn(t).signOut()})(Re.auth).then(function(){var n=v(function*(r){window.sessionStorage.setItem("log","false"),Il()});return function(r){return n.apply(this,arguments)}}())}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-header"]],decls:24,vars:5,consts:[["id","head-nav"],["id","main-nav","role","navigation","aria-label","main navigation",1,"navbar","is-dark"],[1,"navbar-brand"],["routerLink","",1,"navbar-item","brand-wrapper"],["src","./assets/img/logo2.png","alt","logo"],["id","main-burger","role","button","aria-label","menu","aria-expanded","true","data-target","main-menu",1,"navbar-burger"],["aria-hidden","true"],["id","main-menu",1,"navbar-menu"],[1,"navbar-start"],["routerLink","",1,"navbar-item"],["routerLink","about",1,"navbar-item"],["class","navbar-item","routerLink","test",4,"ngIf"],["class","navbar-item","routerLink","profile",4,"ngIf"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],["class","button is-primary","routerLink","/register",4,"ngIf"],["class","button is-link","routerLink","/login",4,"ngIf"],["class","button is-danger is-light is-outlined",3,"click",4,"ngIf"],["routerLink","test",1,"navbar-item"],["routerLink","profile",1,"navbar-item"],["routerLink","/register",1,"button","is-primary"],["routerLink","/login",1,"button","is-link"],[1,"button","is-danger","is-light","is-outlined",3,"click"]],template:function(n,r){1&n&&(g(0,"div",0),g(1,"nav",1),g(2,"div",2),g(3,"a",3),b(4,"img",4),m(),g(5,"a",5),b(6,"span",6),b(7,"span",6),b(8,"span",6),m(),m(),g(9,"div",7),g(10,"div",8),g(11,"a",9),T(12,"Home"),m(),g(13,"a",10),T(14,"About"),m(),Ts(15,xZ,2,0,"a",11),Ts(16,RZ,2,0,"a",12),m(),g(17,"div",13),g(18,"div",14),g(19,"div",15),Ts(20,NZ,3,0,"a",16),Ts(21,kZ,3,0,"a",17),Ts(22,MZ,3,0,"a",18),m(),m(),m(),m(),m(),m(),b(23,"br")),2&n&&(Cs(15),Oi("ngIf",r.userLogin()),Cs(1),Oi("ngIf",r.userLogin()),Cs(4),Oi("ngIf",!r.userLogin()),Cs(1),Oi("ngIf",!r.userLogin()),Cs(1),Oi("ngIf",r.userLogin()))},directives:[Gl,i_],styles:[".brand-wrapper[_ngcontent-%COMP%]{padding:0;width:220px}.brand-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:90%;max-height:unset}.navbar-item[_ngcontent-%COMP%]{font-size:large}"]}),t})(),OZ=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-footer"]],decls:7,vars:0,consts:[[1,"footer","has-background-light"],[1,"container","content","has-text-centered"],[1,"is-size-7"]],template:function(n,r){1&n&&(b(0,"br"),g(1,"footer",0),g(2,"div",1),g(3,"p"),T(4,"Made with \u{1f495} by Mechanical Monsters"),m(),g(5,"p",2),T(6,"Version 1.0.2"),m(),m(),m())},encapsulation:2}),t})(),FZ=(()=>{class t{ngOnInit(){return v(function*(){null==Re.auth.currentUser&&(yield ou(1e3)),null!=Re.auth.currentUser?window.sessionStorage.setItem("log","true"):"true"==window.sessionStorage.getItem("log")&&window.sessionStorage.setItem("log","false")})()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=We({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[["id","main-div",1,"container"]],template:function(n,r){1&n&&(b(0,"app-header"),g(1,"div",0),b(2,"router-outlet"),m(),b(3,"app-footer"))},directives:[PZ,jb,OZ],encapsulation:2}),t})();null==window.sessionStorage.getItem("log")&&window.sessionStorage.setItem("log","false");let LZ=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zr({type:t,bootstrap:[FZ]}),t.\u0275inj=ir({providers:[{provide:Ps,useClass:ix}],imports:[[F6,g6,AZ]]}),t})();(function(){if(XA)throw new Error("Cannot enable prod mode after platform setup.");JA=!1})(),f6().bootstrapModule(LZ).catch(t=>console.error(t))}},bn=>{bn(bn.s=422)}]);